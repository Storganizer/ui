{"version":3,"file":"app.bundle.js","mappings":"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","sources":["webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/dom.js","webpack://storganizer-ui/./src/components/controller/items/style.css","webpack://storganizer-ui/./src/components/controller/search/search.riot","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/binding-types.js","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/dom-bindings/dist/dom-bindings.js","webpack://storganizer-ui/./node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js","webpack://storganizer-ui/./src/components/includes/_helper/qr-code.riot","webpack://storganizer-ui/./node_modules/riot/esm/api/__.js","webpack://storganizer-ui/./node_modules/@riotjs/hot-reload/index.js","webpack://storganizer-ui/./src/components/controller/locations/style.css","webpack://storganizer-ui/./src/components/controller/boxes/box.riot","webpack://storganizer-ui/./src/components/application/navigation.riot","webpack://storganizer-ui/./src/components/controller/items/item.riot","webpack://storganizer-ui/./src/components/includes/_helper/take-picture.riot","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/expression-types.js","webpack://storganizer-ui/./src/components/controller/locations/location.riot","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/bianco.attr/index.next.js","webpack://storganizer-ui/./src/components/includes/_helper/element-form.riot","webpack://storganizer-ui/./src/components/controller/config/config.riot","webpack://storganizer-ui/./src/components/application/navigation.css?a17e","webpack://storganizer-ui/./src/components/includes/_helper/element-header.riot","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/objects.js","webpack://storganizer-ui/./src/components/application/application.css?8085","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/bianco.dom-to-array/index.next.js","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/misc.js","webpack://storganizer-ui/./src/components/controller/items/items.riot","webpack://storganizer-ui/./src/components/application/application.riot","webpack://storganizer-ui/./src/components/includes/_helper/element-list.riot","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/constants.js","webpack://storganizer-ui/./src/components/controller/persons/persons.riot","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/functions.js","webpack://storganizer-ui/./node_modules/riot/esm/core/mocked-template-interface.js","webpack://storganizer-ui/./node_modules/riot/esm/core/pure-component-api.js","webpack://storganizer-ui/./node_modules/riot/esm/core/bind-dom-node-to-component-instance.js","webpack://storganizer-ui/./node_modules/riot/esm/core/create-core-api-methods.js","webpack://storganizer-ui/./node_modules/riot/esm/core/component-dom-selectors.js","webpack://storganizer-ui/./node_modules/riot/esm/core/component-lifecycle-methods.js","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/curri/index.js","webpack://storganizer-ui/./node_modules/riot/esm/core/compute-component-state.js","webpack://storganizer-ui/./node_modules/riot/esm/core/compute-initial-props.js","webpack://storganizer-ui/./node_modules/riot/esm/utils/get-root-computed-attribute-names.js","webpack://storganizer-ui/./node_modules/riot/esm/core/manage-component-lifecycle.js","webpack://storganizer-ui/./node_modules/riot/esm/core/run-plugins.js","webpack://storganizer-ui/./node_modules/riot/esm/core/create-attribute-bindings.js","webpack://storganizer-ui/./node_modules/riot/esm/core/add-css-hook.js","webpack://storganizer-ui/./node_modules/riot/esm/utils/dom.js","webpack://storganizer-ui/./node_modules/riot/esm/core/instantiate-component.js","webpack://storganizer-ui/./node_modules/riot/esm/core/create-component-from-wrapper.js","webpack://storganizer-ui/./node_modules/riot/esm/core/component-template-factory.js","webpack://storganizer-ui/./node_modules/riot/esm/core/create-pure-component.js","webpack://storganizer-ui/./node_modules/riot/esm/api/component.js","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/cumpa/index.js","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/checks.js","webpack://storganizer-ui/./src/components/application/registry.js","webpack://storganizer-ui/./src/components/controller/boxes/style.css","webpack://storganizer-ui/./src/components/controller/boxes/boxes.riot","webpack://storganizer-ui/./node_modules/riot/esm/core/css-manager.js","webpack://storganizer-ui/./src/components/application/dataStore.js","webpack://storganizer-ui/./node_modules/riot/esm/api/install.js","webpack://storganizer-ui/./src/index.js","webpack://storganizer-ui/./node_modules/riot-observable/dist/observable.js","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/bianco.query/index.next.js","webpack://storganizer-ui/./src/components/includes/_helper/element-detail.riot","webpack://storganizer-ui/./src/components/includes/_helper/scan-qr-code.riot","webpack://storganizer-ui/./node_modules/riot/esm/dependencies/@riotjs/util/strings.js","webpack://storganizer-ui/./node_modules/mini-css-extract-plugin/dist/hmr/normalize-url.js","webpack://storganizer-ui/./src/components/controller/search/style.css?6bdb","webpack://storganizer-ui/./src/components/controller/locations/locations.riot","webpack://storganizer-ui/./src/components/controller/persons/person.riot"],"sourcesContent":["/* Riot WIP, @license MIT */\nimport { dashToCamelCase } from './strings.js';\n\n/**\n * Get all the element attributes as object\n * @param   {HTMLElement} element - DOM node we want to parse\n * @returns {Object} all the attributes found as a key value pairs\n */\nfunction DOMattributesToObject(element) {\n  return Array.from(element.attributes).reduce((acc, attribute) => {\n    acc[dashToCamelCase(attribute.name)] = attribute.value;\n    return acc\n  }, {})\n}\n\n/**\n * Move all the child nodes from a source tag to another\n * @param   {HTMLElement} source - source node\n * @param   {HTMLElement} target - target node\n * @returns {undefined} it's a void method ¯\\_(ツ)_/¯\n */\n\n// Ignore this helper because it's needed only for svg tags\nfunction moveChildren(source, target) {\n  // eslint-disable-next-line fp/no-loops\n  while (source.firstChild) target.appendChild(source.firstChild);\n}\n\n/**\n * Remove the child nodes from any DOM node\n * @param   {HTMLElement} node - target node\n * @returns {undefined}\n */\nfunction cleanNode(node) {\n  // eslint-disable-next-line fp/no-loops\n  while (node.firstChild) node.removeChild(node.firstChild);\n}\n\n/**\n * Clear multiple children in a node\n * @param   {HTMLElement[]} children - direct children nodes\n * @returns {undefined}\n */\nfunction clearChildren(children) {\n  // eslint-disable-next-line fp/no-loops,fp/no-let\n  for (let i = 0; i < children.length; i++) removeChild(children[i]);\n}\n\n/**\n * Remove a node\n * @param {HTMLElement}node - node to remove\n * @returns {undefined}\n */\nconst removeChild = (node) => node.remove();\n\n/**\n * Insert before a node\n * @param {HTMLElement} newNode - node to insert\n * @param {HTMLElement} refNode - ref child\n * @returns {undefined}\n */\nconst insertBefore = (newNode, refNode) =>\n  refNode &&\n  refNode.parentNode &&\n  refNode.parentNode.insertBefore(newNode, refNode);\n\n/**\n * Replace a node\n * @param {HTMLElement} newNode - new node to add to the DOM\n * @param {HTMLElement} replaced - node to replace\n * @returns {undefined}\n */\nconst replaceChild = (newNode, replaced) =>\n  replaced &&\n  replaced.parentNode &&\n  replaced.parentNode.replaceChild(newNode, replaced);\n\nexport { DOMattributesToObject, cleanNode, clearChildren, insertBefore, moveChildren, removeChild, replaceChild };\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1749823087959\n        var cssReload = require(\"../../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","<search>\n\n\n  <scan-qr-code></scan-qr-code>\n\n\n  <div class=\"search\"><input onkeyup={typeahead} type=\"text\" placeholder=\"search\" id=\"search\" name=\"search\"></div>\n\n  <div class=\"results\">\n    <element-list if={ state.locations.length } elements={ state.locations } type=\"location\" />\n    <element-list if={ state.boxes.length }  elements={ state.boxes } type=\"box\" />\n    <element-list if={ state.items.length }  elements={ state.items } type=\"item\" />\n  </div>\n\n  <script>\n    import  './style.css'\n\n    import ScanQrCode from '../../includes/_helper/scan-qr-code.riot'\n    import ElementList from '../../includes/_helper/element-list.riot'\n\n\n    export default {\n      components: {\n        ScanQrCode,\n        ElementList,\n      },\n\n      state: {\n        locations: [],\n        boxes: [],\n        items: [],\n      },\n\n      typeahead(e, allowEmpty = false) {\n        let searchString = e.target.value\n        this.search(searchString)\n      },\n\n      search(searchString, allowEmpty = false) {\n        this.update({\n          locations: this.registry.dataStore.locations.search(searchString),\n          boxes: this.registry.dataStore.boxes.search(searchString),\n          items: this.registry.dataStore.items.search(searchString),\n        })\n      },\n\n      setupListenter() {\n        let target = this\n\n        this.registry.eventBus.on('dataItemLoadSuccess', function(locations) {\n          target.loadItemData()\n        })\n\n        this.registry.eventBus.on('dataBoxLoadSuccess', function(locations) {\n          target.loadBoxData()\n        })\n\n        this.registry.eventBus.on('dataLocationLoadSuccess', function(locations) {\n          target.loadLocationData()\n        })\n\n      },\n\n      loadLocationData() {\n        this.update({\n          locations: this.registry.dataStore.locations.getLocations()\n        })\n      },\n\n      loadBoxData() {\n        this.update({\n          boxes: this.registry.dataStore.boxes.getBoxes()\n        })\n      },\n\n      loadItemData() {\n        this.update({\n          items: this.registry.dataStore.items.getItems()\n        })\n\n      },\n\n      onMounted() {\n        this.setupListenter()\n        this.loadItemData()\n        this.loadBoxData()\n        this.loadLocationData()\n      }\n\n    }\n  </script>\n</search>","/* Riot WIP, @license MIT */\nconst EACH = 0;\nconst IF = 1;\nconst SIMPLE = 2;\nconst TAG = 3;\nconst SLOT = 4;\n\nconst bindingTypes = {\n  EACH,\n  IF,\n  SIMPLE,\n  TAG,\n  SLOT,\n};\n\nexport { EACH, IF, SIMPLE, SLOT, TAG, bindingTypes as default };\n","/* Riot WIP, @license MIT */\nimport { insertBefore, removeChild, cleanNode, clearChildren, moveChildren, replaceChild } from '../../util/dom.js';\nimport { IS_PURE_SYMBOL, PARENT_KEY_SYMBOL } from '../../util/constants.js';\nimport { SIMPLE, SLOT, TAG, EACH, IF } from '../../util/binding-types.js';\nexport { default as bindingTypes } from '../../util/binding-types.js';\nimport { TEXT, EVENT, REF, VALUE, ATTRIBUTE } from '../../util/expression-types.js';\nexport { default as expressionTypes } from '../../util/expression-types.js';\nimport { defineProperty } from '../../util/objects.js';\nimport { isTemplate, isBoolean, isObject, isFunction, isSvg, isNil } from '../../util/checks.js';\nimport { panic, memoize, evaluateAttributeExpressions } from '../../util/misc.js';\n\nconst HEAD_SYMBOL = Symbol();\nconst TAIL_SYMBOL = Symbol();\n\n/**\n * Create the <template> fragments text nodes\n * @return {Object} {{head: Text, tail: Text}}\n */\nfunction createHeadTailPlaceholders() {\n  const head = document.createTextNode('');\n  const tail = document.createTextNode('');\n\n  head[HEAD_SYMBOL] = true;\n  tail[TAIL_SYMBOL] = true;\n\n  return { head, tail }\n}\n\n/**\n * Create the template meta object in case of <template> fragments\n * @param   {TemplateChunk} componentTemplate - template chunk object\n * @returns {Object} the meta property that will be passed to the mount function of the TemplateChunk\n */\nfunction createTemplateMeta(componentTemplate) {\n  const fragment = componentTemplate.dom.cloneNode(true);\n  const { head, tail } = createHeadTailPlaceholders();\n\n  return {\n    avoidDOMInjection: true,\n    fragment,\n    head,\n    tail,\n    children: [head, ...Array.from(fragment.childNodes), tail],\n  }\n}\n\n/* c8 ignore start */\n/**\n * ISC License\n *\n * Copyright (c) 2020, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\n// fork of https://github.com/WebReflection/udomdiff version 1.1.0\n// due to https://github.com/WebReflection/udomdiff/pull/2\n/* eslint-disable */\n\n/**\n * @param {Node[]} a The list of current/live children\n * @param {Node[]} b The list of future children\n * @param {(entry: Node, action: number) => Node} get\n * The callback invoked per each entry related DOM operation.\n * @param {Node} [before] The optional node used as anchor to insert before.\n * @returns {Node[]} The same list of future children.\n */\nconst udomdiff = (a, b, get, before) => {\n  const bLength = b.length;\n  let aEnd = a.length;\n  let bEnd = bLength;\n  let aStart = 0;\n  let bStart = 0;\n  let map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    // append head, tail, or nodes in between: fast path\n    if (aEnd === aStart) {\n      // we could be in a situation where the rest of nodes that\n      // need to be added are not at the end, and in such case\n      // the node to `insertBefore`, if the index is more than 0\n      // must be retrieved, otherwise it's gonna be the first item.\n      const node =\n        bEnd < bLength\n          ? bStart\n            ? get(b[bStart - 1], -0).nextSibling\n            : get(b[bEnd - bStart], 0)\n          : before;\n      while (bStart < bEnd) insertBefore(get(b[bStart++], 1), node);\n    }\n    // remove head or tail: fast path\n    else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        // remove the node only if it's unknown or not live\n        if (!map || !map.has(a[aStart])) removeChild(get(a[aStart], -1));\n        aStart++;\n      }\n    }\n    // same node: fast path\n    else if (a[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n    }\n    // same tail: fast path\n    else if (a[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    // The once here single last swap \"fast path\" has been removed in v1.1.0\n    // https://github.com/WebReflection/udomdiff/blob/single-final-swap/esm/index.js#L69-L85\n    // reverse swap: also fast path\n    else if (a[aStart] === b[bEnd - 1] && b[bStart] === a[aEnd - 1]) {\n      // this is a \"shrink\" operation that could happen in these cases:\n      // [1, 2, 3, 4, 5]\n      // [1, 4, 3, 2, 5]\n      // or asymmetric too\n      // [1, 2, 3, 4, 5]\n      // [1, 2, 3, 5, 6, 4]\n      const node = get(a[--aEnd], -1).nextSibling;\n      insertBefore(get(b[bStart++], 1), get(a[aStart++], -1).nextSibling);\n      insertBefore(get(b[--bEnd], 1), node);\n      // mark the future index as identical (yeah, it's dirty, but cheap 👍)\n      // The main reason to do this, is that when a[aEnd] will be reached,\n      // the loop will likely be on the fast path, as identical to b[bEnd].\n      // In the best case scenario, the next loop will skip the tail,\n      // but in the worst one, this node will be considered as already\n      // processed, bailing out pretty quickly from the map index check\n      a[aEnd] = b[bEnd];\n    }\n    // map based fallback, \"slow\" path\n    else {\n      // the map requires an O(bEnd - bStart) operation once\n      // to store all future nodes indexes for later purposes.\n      // In the worst case scenario, this is a full O(N) cost,\n      // and such scenario happens at least when all nodes are different,\n      // but also if both first and last items of the lists are different\n      if (!map) {\n        map = new Map();\n        let i = bStart;\n        while (i < bEnd) map.set(b[i], i++);\n      }\n      // if it's a future node, hence it needs some handling\n      if (map.has(a[aStart])) {\n        // grab the index of such node, 'cause it might have been processed\n        const index = map.get(a[aStart]);\n        // if it's not already processed, look on demand for the next LCS\n        if (bStart < index && index < bEnd) {\n          let i = aStart;\n          // counts the amount of nodes that are the same in the future\n          let sequence = 1;\n          while (++i < aEnd && i < bEnd && map.get(a[i]) === index + sequence)\n            sequence++;\n          // effort decision here: if the sequence is longer than replaces\n          // needed to reach such sequence, which would brings again this loop\n          // to the fast path, prepend the difference before a sequence,\n          // and move only the future list index forward, so that aStart\n          // and bStart will be aligned again, hence on the fast path.\n          // An example considering aStart and bStart are both 0:\n          // a: [1, 2, 3, 4]\n          // b: [7, 1, 2, 3, 6]\n          // this would place 7 before 1 and, from that time on, 1, 2, and 3\n          // will be processed at zero cost\n          if (sequence > index - bStart) {\n            const node = get(a[aStart], 0);\n            while (bStart < index) insertBefore(get(b[bStart++], 1), node);\n          }\n          // if the effort wasn't good enough, fallback to a replace,\n          // moving both source and target indexes forward, hoping that some\n          // similar node will be found later on, to go back to the fast path\n          else {\n            replaceChild(get(b[bStart++], 1), get(a[aStart++], -1));\n          }\n        }\n        // otherwise move the source forward, 'cause there's nothing to do\n        else aStart++;\n      }\n      // this node has no meaning in the future list, so it's more than safe\n      // to remove it, and check the next live node out instead, meaning\n      // that only the live list index should be forwarded\n      else removeChild(get(a[aStart++], -1));\n    }\n  }\n  return b\n};\n\nconst UNMOUNT_SCOPE = Symbol('unmount');\n\nconst EachBinding = {\n  // dynamic binding properties\n  // childrenMap: null,\n  // node: null,\n  // root: null,\n  // condition: null,\n  // evaluate: null,\n  // template: null,\n  // isTemplateTag: false,\n  nodes: [],\n  // getKey: null,\n  // indexName: null,\n  // itemName: null,\n  // afterPlaceholder: null,\n  // placeholder: null,\n\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope)\n  },\n  update(scope, parentScope) {\n    const { placeholder, nodes, childrenMap } = this;\n    const collection = scope === UNMOUNT_SCOPE ? null : this.evaluate(scope);\n    const items = collection ? Array.from(collection) : [];\n\n    // prepare the diffing\n    const { newChildrenMap, batches, futureNodes } = createPatch(\n      items,\n      scope,\n      parentScope,\n      this,\n    );\n\n    // patch the DOM only if there are new nodes\n    udomdiff(\n      nodes,\n      futureNodes,\n      patch(Array.from(childrenMap.values()), parentScope),\n      placeholder,\n    );\n\n    // trigger the mounts and the updates\n    batches.forEach((fn) => fn());\n\n    // update the children map\n    this.childrenMap = newChildrenMap;\n    this.nodes = futureNodes;\n\n    return this\n  },\n  unmount(scope, parentScope) {\n    this.update(UNMOUNT_SCOPE, parentScope);\n\n    return this\n  },\n};\n\n/**\n * Patch the DOM while diffing\n * @param   {any[]} redundant - list of all the children (template, nodes, context) added via each\n * @param   {*} parentScope - scope of the parent template\n * @returns {Function} patch function used by domdiff\n */\nfunction patch(redundant, parentScope) {\n  return (item, info) => {\n    if (info < 0) {\n      // get the last element added to the childrenMap saved previously\n      const element = redundant[redundant.length - 1];\n\n      if (element) {\n        // get the nodes and the template in stored in the last child of the childrenMap\n        const { template, nodes, context } = element;\n        // remove the last node (notice <template> tags might have more children nodes)\n        nodes.pop();\n\n        // notice that we pass null as last argument because\n        // the root node and its children will be removed by domdiff\n        if (!nodes.length) {\n          // we have cleared all the children nodes and we can unmount this template\n          redundant.pop();\n          template.unmount(context, parentScope, null);\n        }\n      }\n    }\n\n    return item\n  }\n}\n\n/**\n * Check whether a template must be filtered from a loop\n * @param   {Function} condition - filter function\n * @param   {Object} context - argument passed to the filter function\n * @returns {boolean} true if this item should be skipped\n */\nfunction mustFilterItem(condition, context) {\n  return condition ? !condition(context) : false\n}\n\n/**\n * Extend the scope of the looped template\n * @param   {Object} scope - current template scope\n * @param   {Object} options - options\n * @param   {string} options.itemName - key to identify the looped item in the new context\n * @param   {string} options.indexName - key to identify the index of the looped item\n * @param   {number} options.index - current index\n * @param   {*} options.item - collection item looped\n * @returns {Object} enhanced scope object\n */\nfunction extendScope(scope, { itemName, indexName, index, item }) {\n  defineProperty(scope, itemName, item);\n  if (indexName) defineProperty(scope, indexName, index);\n\n  return scope\n}\n\n/**\n * Loop the current template items\n * @param   {Array} items - expression collection value\n * @param   {*} scope - template scope\n * @param   {*} parentScope - scope of the parent template\n * @param   {EachBinding} binding - each binding object instance\n * @returns {Object} data\n * @returns {Map} data.newChildrenMap - a Map containing the new children template structure\n * @returns {Array} data.batches - array containing the template lifecycle functions to trigger\n * @returns {Array} data.futureNodes - array containing the nodes we need to diff\n */\nfunction createPatch(items, scope, parentScope, binding) {\n  const {\n    condition,\n    template,\n    childrenMap,\n    itemName,\n    getKey,\n    indexName,\n    root,\n    isTemplateTag,\n  } = binding;\n  const newChildrenMap = new Map();\n  const batches = [];\n  const futureNodes = [];\n\n  items.forEach((item, index) => {\n    const context = extendScope(Object.create(scope), {\n      itemName,\n      indexName,\n      index,\n      item,\n    });\n    const key = getKey ? getKey(context) : index;\n    const oldItem = childrenMap.get(key);\n    const nodes = [];\n\n    if (mustFilterItem(condition, context)) {\n      return\n    }\n\n    const mustMount = !oldItem;\n    const componentTemplate = oldItem ? oldItem.template : template.clone();\n    const el = componentTemplate.el || root.cloneNode();\n    const meta =\n      isTemplateTag && mustMount\n        ? createTemplateMeta(componentTemplate)\n        : componentTemplate.meta;\n\n    if (mustMount) {\n      batches.push(() =>\n        componentTemplate.mount(el, context, parentScope, meta),\n      );\n    } else {\n      batches.push(() => componentTemplate.update(context, parentScope));\n    }\n\n    // create the collection of nodes to update or to add\n    // in case of template tags we need to add all its children nodes\n    if (isTemplateTag) {\n      nodes.push(...meta.children);\n    } else {\n      nodes.push(el);\n    }\n\n    // delete the old item from the children map\n    childrenMap.delete(key);\n    futureNodes.push(...nodes);\n\n    // update the children map\n    newChildrenMap.set(key, {\n      nodes,\n      template: componentTemplate,\n      context,\n      index,\n    });\n  });\n\n  return {\n    newChildrenMap,\n    batches,\n    futureNodes,\n  }\n}\n\nfunction create$6(\n  node,\n  { evaluate, condition, itemName, indexName, getKey, template },\n) {\n  const placeholder = document.createTextNode('');\n  const root = node.cloneNode();\n\n  insertBefore(placeholder, node);\n  removeChild(node);\n\n  return {\n    ...EachBinding,\n    childrenMap: new Map(),\n    node,\n    root,\n    condition,\n    evaluate,\n    isTemplateTag: isTemplate(root),\n    template: template.createDOM(node),\n    getKey,\n    indexName,\n    itemName,\n    placeholder,\n  }\n}\n\n/**\n * Binding responsible for the `if` directive\n */\nconst IfBinding = {\n  // dynamic binding properties\n  // node: null,\n  // evaluate: null,\n  // isTemplateTag: false,\n  // placeholder: null,\n  // template: null,\n\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope)\n  },\n  update(scope, parentScope) {\n    const value = !!this.evaluate(scope);\n    const mustMount = !this.value && value;\n    const mustUnmount = this.value && !value;\n    const mount = () => {\n      const pristine = this.node.cloneNode();\n\n      insertBefore(pristine, this.placeholder);\n      this.template = this.template.clone();\n      this.template.mount(pristine, scope, parentScope);\n    };\n\n    switch (true) {\n      case mustMount:\n        mount();\n        break\n      case mustUnmount:\n        this.unmount(scope);\n        break\n      default:\n        if (value) this.template.update(scope, parentScope);\n    }\n\n    this.value = value;\n\n    return this\n  },\n  unmount(scope, parentScope) {\n    this.template.unmount(scope, parentScope, true);\n\n    return this\n  },\n};\n\nfunction create$5(node, { evaluate, template }) {\n  const placeholder = document.createTextNode('');\n\n  insertBefore(placeholder, node);\n  removeChild(node);\n\n  return {\n    ...IfBinding,\n    node,\n    evaluate,\n    placeholder,\n    template: template.createDOM(node),\n  }\n}\n\n/* c8 ignore next */\nconst ElementProto = typeof Element === 'undefined' ? {} : Element.prototype;\nconst isNativeHtmlProperty = memoize(\n  (name) => ElementProto.hasOwnProperty(name), // eslint-disable-line\n);\n\n/**\n * Add all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} attributes - object containing the attributes names and values\n * @returns {undefined} sorry it's a void function :(\n */\nfunction setAllAttributes(node, attributes) {\n  Object.keys(attributes).forEach((name) =>\n    attributeExpression({ node, name }, attributes[name]),\n  );\n}\n\n/**\n * Remove all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} newAttributes - object containing all the new attribute names\n * @param   {Object} oldAttributes - object containing all the old attribute names\n * @returns {undefined} sorry it's a void function :(\n */\nfunction removeAllAttributes(node, newAttributes, oldAttributes) {\n  const newKeys = newAttributes ? Object.keys(newAttributes) : [];\n\n  Object.keys(oldAttributes)\n    .filter((name) => !newKeys.includes(name))\n    .forEach((attribute) => node.removeAttribute(attribute));\n}\n\n/**\n * Check whether the attribute value can be rendered\n * @param {*} value - expression value\n * @returns {boolean} true if we can render this attribute value\n */\nfunction canRenderAttribute(value) {\n  return ['string', 'number', 'boolean'].includes(typeof value)\n}\n\n/**\n * Check whether the attribute should be removed\n * @param {*} value - expression value\n * @param   {boolean} isBoolean - flag to handle boolean attributes\n * @returns {boolean} boolean - true if the attribute can be removed}\n */\nfunction shouldRemoveAttribute(value, isBoolean) {\n  // boolean attributes should be removed if the value is falsy\n  if (isBoolean) return !value && value !== 0\n  // otherwise we can try to render it\n  return typeof value === 'undefined' || value === null\n}\n\n/**\n * This methods handles the DOM attributes updates\n * @param   {HTMLElement} expression.node - target node\n * @param   {string} expression.name - attribute name\n * @param   {boolean} expression.isBoolean - flag to handle boolean attributes\n * @param   {*} expression.value - the old expression cached value\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\nfunction attributeExpression(\n  { node, name, isBoolean: isBoolean$1, value: oldValue },\n  value,\n) {\n  // is it a spread operator? {...attributes}\n  if (!name) {\n    if (oldValue) {\n      // remove all the old attributes\n      removeAllAttributes(node, value, oldValue);\n    }\n\n    // is the value still truthy?\n    if (value) {\n      setAllAttributes(node, value);\n    }\n\n    return\n  }\n\n  // store the attribute on the node to make it compatible with native custom elements\n  if (\n    !isNativeHtmlProperty(name) &&\n    (isBoolean(value) || isObject(value) || isFunction(value))\n  ) {\n    node[name] = value;\n  }\n\n  if (shouldRemoveAttribute(value, isBoolean$1)) {\n    node.removeAttribute(name);\n  } else if (canRenderAttribute(value)) {\n    node.setAttribute(name, normalizeValue(name, value, isBoolean$1));\n  }\n}\n\n/**\n * Get the value as string\n * @param   {string} name - attribute name\n * @param   {*} value - user input value\n * @param   {boolean} isBoolean - boolean attributes flag\n * @returns {string} input value as string\n */\nfunction normalizeValue(name, value, isBoolean) {\n  // be sure that expressions like selected={ true } will always be rendered as selected='selected'\n  // fix https://github.com/riot/riot/issues/2975\n  return value === true && isBoolean ? name : value\n}\n\nconst RE_EVENTS_PREFIX = /^on/;\n\nconst getCallbackAndOptions = (value) =>\n  Array.isArray(value) ? value : [value, false];\n\n// see also https://medium.com/@WebReflection/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38\nconst EventListener = {\n  handleEvent(event) {\n    this[event.type](event);\n  },\n};\nconst ListenersWeakMap = new WeakMap();\n\nconst createListener = (node) => {\n  const listener = Object.create(EventListener);\n  ListenersWeakMap.set(node, listener);\n  return listener\n};\n\n/**\n * Set a new event listener\n * @param   {HTMLElement} expression.node - target node\n * @param   {string} expression.name - event name\n * @param   {*} value - new expression value\n * @returns {value} the callback just received\n */\nfunction eventExpression({ node, name }, value) {\n  const normalizedEventName = name.replace(RE_EVENTS_PREFIX, '');\n  const eventListener = ListenersWeakMap.get(node) || createListener(node);\n  const [callback, options] = getCallbackAndOptions(value);\n  const handler = eventListener[normalizedEventName];\n  const mustRemoveEvent = handler && !callback;\n  const mustAddEvent = callback && !handler;\n\n  if (mustRemoveEvent) {\n    node.removeEventListener(normalizedEventName, eventListener);\n  }\n\n  if (mustAddEvent) {\n    node.addEventListener(normalizedEventName, eventListener, options);\n  }\n\n  eventListener[normalizedEventName] = callback;\n}\n\n/**\n * Normalize the user value in order to render a empty string in case of falsy values\n * @param   {*} value - user input value\n * @returns {string} hopefully a string\n */\nfunction normalizeStringValue(value) {\n  return isNil(value) ? '' : value\n}\n\n/**\n * Get the the target text node to update or create one from of a comment node\n * @param   {HTMLElement} node - any html element containing childNodes\n * @param   {number} childNodeIndex - index of the text node in the childNodes list\n * @returns {Text} the text node to update\n */\nconst getTextNode = (node, childNodeIndex) => {\n  return node.childNodes[childNodeIndex]\n};\n\n/**\n * This methods handles a simple text expression update\n * @param   {HTMLElement} expression.node - target node\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\nfunction textExpression({ node }, value) {\n  node.data = normalizeStringValue(value);\n}\n\n/**\n * This methods handles the input fields value updates\n * @param   {HTMLElement} expression.node - target node\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\nfunction valueExpression({ node }, value) {\n  node.value = normalizeStringValue(value);\n}\n\n/**\n   This method handles the REF attribute expressions \n * @param   {HTMLElement} expression.node - target node\n * @param   {*} expression.value - the old expression cached value\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\nfunction refExpression({ node, value: oldValue }, value) {\n  // called on mount and update\n  if (value) value(node);\n  // called on unmount\n  // in this case the node value is null\n  else oldValue(null);\n}\n\nconst expressions = {\n  [ATTRIBUTE]: attributeExpression,\n  [EVENT]: eventExpression,\n  [TEXT]: textExpression,\n  [VALUE]: valueExpression,\n  [REF]: refExpression,\n};\n\nconst Expression = {\n  // Static props\n  // node: null,\n  // value: null,\n\n  // API methods\n  /**\n   * Mount the expression evaluating its initial value\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  mount(scope) {\n    // hopefully a pure function\n    this.value = this.evaluate(scope);\n\n    // IO() DOM updates\n    expressions[this.type](this, this.value);\n\n    return this\n  },\n  /**\n   * Update the expression if its value changed\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  update(scope) {\n    // pure function\n    const value = this.evaluate(scope);\n\n    if (this.value !== value) {\n      // IO() DOM updates\n      expressions[this.type](this, value);\n      this.value = value;\n    }\n\n    return this\n  },\n  /**\n   * Expression teardown method\n   * @returns {Expression} self\n   */\n  unmount() {\n    // unmount event and ref expressions\n    if ([EVENT, REF].includes(this.type)) expressions[this.type](this, null);\n\n    return this\n  },\n};\n\nfunction create$4(node, data) {\n  return {\n    ...Expression,\n    ...data,\n    node: data.type === TEXT ? getTextNode(node, data.childNodeIndex) : node,\n  }\n}\n\n/**\n * Create a flat object having as keys a list of methods that if dispatched will propagate\n * on the whole collection\n * @param   {Array} collection - collection to iterate\n * @param   {Array<string>} methods - methods to execute on each item of the collection\n * @param   {*} context - context returned by the new methods created\n * @returns {Object} a new object to simplify the the nested methods dispatching\n */\nfunction flattenCollectionMethods(collection, methods, context) {\n  return methods.reduce((acc, method) => {\n    return {\n      ...acc,\n      [method]: (scope) => {\n        return collection.map((item) => item[method](scope)) && context\n      },\n    }\n  }, {})\n}\n\nfunction create$3(node, { expressions }) {\n  return flattenCollectionMethods(\n    expressions.map((expression) => create$4(node, expression)),\n    ['mount', 'update', 'unmount'],\n  )\n}\n\nconst extendParentScope = (attributes, scope, parentScope) => {\n  if (!attributes || !attributes.length) return parentScope\n\n  const expressions = attributes.map((attr) => ({\n    ...attr,\n    value: attr.evaluate(scope),\n  }));\n\n  return Object.assign(\n    Object.create(parentScope || null),\n    evaluateAttributeExpressions(expressions),\n  )\n};\n\nconst findSlotById = (id, slots) => slots?.find((slot) => slot.id === id);\n\n// this function is only meant to fix an edge case\n// https://github.com/riot/riot/issues/2842\nconst getRealParent = (scope, parentScope) =>\n  scope[PARENT_KEY_SYMBOL] || parentScope;\n\nconst SlotBinding = {\n  // dynamic binding properties\n  // node: null,\n  // name: null,\n  attributes: [],\n  // templateData: null,\n  // template: null,\n\n  getTemplateScope(scope, parentScope) {\n    return extendParentScope(this.attributes, scope, parentScope)\n  },\n\n  // API methods\n  mount(scope, parentScope) {\n    const templateData = scope.slots\n      ? findSlotById(this.name, scope.slots)\n      : false;\n    const { parentNode } = this.node;\n\n    // if the slot did not pass any content, we will use the self slot for optional fallback content (https://github.com/riot/riot/issues/3024)\n    const realParent = templateData ? getRealParent(scope, parentScope) : scope;\n\n    // if there is no html for the current slot detected we rely on the parent slots (https://github.com/riot/riot/issues/3055)\n    this.templateData = templateData?.html\n      ? templateData\n      : findSlotById(this.name, realParent.slots);\n\n    // override the template property if the slot needs to be replaced\n    this.template =\n      (this.templateData &&\n        create(this.templateData.html, this.templateData.bindings).createDOM(\n          parentNode,\n        )) ||\n      // otherwise use the optional template fallback if provided by the compiler see also https://github.com/riot/riot/issues/3014\n      this.template?.clone();\n\n    if (this.template) {\n      cleanNode(this.node);\n      this.template.mount(\n        this.node,\n        this.getTemplateScope(scope, realParent),\n        realParent,\n      );\n      this.template.children = Array.from(this.node.childNodes);\n    }\n\n    moveSlotInnerContent(this.node);\n    removeChild(this.node);\n\n    return this\n  },\n  update(scope, parentScope) {\n    if (this.template) {\n      const realParent = this.templateData\n        ? getRealParent(scope, parentScope)\n        : scope;\n\n      this.template.update(this.getTemplateScope(scope, realParent), realParent);\n    }\n\n    return this\n  },\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.template) {\n      this.template.unmount(\n        this.getTemplateScope(scope, parentScope),\n        null,\n        mustRemoveRoot,\n      );\n    }\n\n    return this\n  },\n};\n\n/**\n * Move the inner content of the slots outside of them\n * @param   {HTMLElement} slot - slot node\n * @returns {undefined} it's a void method ¯\\_(ツ)_/¯\n */\nfunction moveSlotInnerContent(slot) {\n  const child = slot && slot.firstChild;\n\n  if (!child) return\n\n  insertBefore(child, slot);\n  moveSlotInnerContent(slot);\n}\n\n/**\n * Create a single slot binding\n * @param   {HTMLElement} node - slot node\n * @param   {string} name - slot id\n * @param   {AttributeExpressionData[]} attributes - slot attributes\n * @returns {Object} Slot binding object\n */\nfunction createSlot(node, { name, attributes, template }) {\n  return {\n    ...SlotBinding,\n    attributes,\n    template,\n    node,\n    name,\n  }\n}\n\n/**\n * Create a new tag object if it was registered before, otherwise fallback to the simple\n * template chunk\n * @param   {Function} component - component factory function\n * @param   {Array<Object>} slots - array containing the slots markup\n * @param   {Array} attributes - dynamic attributes that will be received by the tag element\n * @returns {TagImplementation|TemplateChunk} a tag implementation or a template chunk as fallback\n */\nfunction getTag(component, slots = [], attributes = []) {\n  // if this tag was registered before we will return its implementation\n  if (component) {\n    return component({ slots, attributes })\n  }\n\n  // otherwise we return a template chunk\n  return create(slotsToMarkup(slots), [\n    ...slotBindings(slots),\n    {\n      // the attributes should be registered as binding\n      // if we fallback to a normal template chunk\n      expressions: attributes.map((attr) => {\n        return {\n          type: ATTRIBUTE,\n          ...attr,\n        }\n      }),\n    },\n  ])\n}\n\n/**\n * Merge all the slots bindings into a single array\n * @param   {Array<Object>} slots - slots collection\n * @returns {Array<Bindings>} flatten bindings array\n */\nfunction slotBindings(slots) {\n  return slots.reduce((acc, { bindings }) => acc.concat(bindings), [])\n}\n\n/**\n * Merge all the slots together in a single markup string\n * @param   {Array<Object>} slots - slots collection\n * @returns {string} markup of all the slots in a single string\n */\nfunction slotsToMarkup(slots) {\n  return slots.reduce((acc, slot) => {\n    return acc + slot.html\n  }, '')\n}\n\nconst TagBinding = {\n  // dynamic binding properties\n  // node: null,\n  // evaluate: null,\n  // name: null,\n  // slots: null,\n  // tag: null,\n  // attributes: null,\n  // getComponent: null,\n\n  mount(scope) {\n    return this.update(scope)\n  },\n  update(scope, parentScope) {\n    const name = this.evaluate(scope);\n\n    // simple update\n    if (name && name === this.name) {\n      this.tag.update(scope);\n    } else {\n      // unmount the old tag if it exists\n      this.unmount(scope, parentScope, true);\n\n      // mount the new tag\n      this.name = name;\n      this.tag = getTag(this.getComponent(name), this.slots, this.attributes);\n      this.tag.mount(this.node, scope);\n    }\n\n    return this\n  },\n  unmount(scope, parentScope, keepRootTag) {\n    if (this.tag) {\n      // keep the root tag\n      this.tag.unmount(keepRootTag);\n    }\n\n    return this\n  },\n};\n\nfunction create$2(\n  node,\n  { evaluate, getComponent, slots, attributes },\n) {\n  return {\n    ...TagBinding,\n    node,\n    evaluate,\n    slots,\n    attributes,\n    getComponent,\n  }\n}\n\nconst bindings = {\n  [IF]: create$5,\n  [SIMPLE]: create$3,\n  [EACH]: create$6,\n  [TAG]: create$2,\n  [SLOT]: createSlot,\n};\n\n/**\n * Text expressions in a template tag will get childNodeIndex value normalized\n * depending on the position of the <template> tag offset\n * @param   {Expression[]} expressions - riot expressions array\n * @param   {number} textExpressionsOffset - offset of the <template> tag\n * @returns {Expression[]} expressions containing the text expressions normalized\n */\nfunction fixTextExpressionsOffset(expressions, textExpressionsOffset) {\n  return expressions.map((e) =>\n    e.type === TEXT\n      ? {\n          ...e,\n          childNodeIndex: e.childNodeIndex + textExpressionsOffset,\n        }\n      : e,\n  )\n}\n\n/**\n * Bind a new expression object to a DOM node\n * @param   {HTMLElement} root - DOM node where to bind the expression\n * @param   {TagBindingData} binding - binding data\n * @param   {number|null} templateTagOffset - if it's defined we need to fix the text expressions childNodeIndex offset\n * @returns {Binding} Binding object\n */\nfunction create$1(root, binding, templateTagOffset) {\n  const { selector, type, redundantAttribute, expressions } = binding;\n  // find the node to apply the bindings\n  const node = selector ? root.querySelector(selector) : root;\n\n  // remove eventually additional attributes created only to select this node\n  if (redundantAttribute) node.removeAttribute(redundantAttribute);\n  const bindingExpressions = expressions || [];\n\n  // init the binding\n  return (bindings[type] || bindings[SIMPLE])(node, {\n    ...binding,\n    expressions:\n      templateTagOffset && !selector\n        ? fixTextExpressionsOffset(bindingExpressions, templateTagOffset)\n        : bindingExpressions,\n  })\n}\n\n// in this case a simple innerHTML is enough\nfunction createHTMLTree(html, root) {\n  const template = isTemplate(root) ? root : document.createElement('template');\n  template.innerHTML = html;\n  return template.content\n}\n\n// for svg nodes we need a bit more work\n/* c8 ignore start */\nfunction createSVGTree(html, container) {\n  // create the SVGNode\n  const svgNode = container.ownerDocument.importNode(\n    new window.DOMParser().parseFromString(\n      `<svg xmlns=\"http://www.w3.org/2000/svg\">${html}</svg>`,\n      'application/xml',\n    ).documentElement,\n    true,\n  );\n\n  return svgNode\n}\n/* c8 ignore end */\n\n/**\n * Create the DOM that will be injected\n * @param {Object} root - DOM node to find out the context where the fragment will be created\n * @param   {string} html - DOM to create as string\n * @returns {HTMLDocumentFragment|HTMLElement} a new html fragment\n */\nfunction createDOMTree(root, html) {\n  /* c8 ignore next */\n  if (isSvg(root)) return createSVGTree(html, root)\n\n  return createHTMLTree(html, root)\n}\n\n/**\n * Inject the DOM tree into a target node\n * @param   {HTMLElement} el - target element\n * @param   {DocumentFragment|SVGElement} dom - dom tree to inject\n * @returns {undefined}\n */\nfunction injectDOM(el, dom) {\n  switch (true) {\n    case isSvg(el):\n      moveChildren(dom, el);\n      break\n    case isTemplate(el):\n      el.parentNode.replaceChild(dom, el);\n      break\n    default:\n      el.appendChild(dom);\n  }\n}\n\n/**\n * Create the Template DOM skeleton\n * @param   {HTMLElement} el - root node where the DOM will be injected\n * @param   {string|HTMLElement} html - HTML markup or HTMLElement that will be injected into the root node\n * @returns {?DocumentFragment} fragment that will be injected into the root node\n */\nfunction createTemplateDOM(el, html) {\n  return html && (typeof html === 'string' ? createDOMTree(el, html) : html)\n}\n\n/**\n * Get the offset of the <template> tag\n * @param {HTMLElement} parentNode - template tag parent node\n * @param {HTMLElement} el - the template tag we want to render\n * @param   {Object} meta - meta properties needed to handle the <template> tags in loops\n * @returns {number} offset of the <template> tag calculated from its siblings DOM nodes\n */\nfunction getTemplateTagOffset(parentNode, el, meta) {\n  const siblings = Array.from(parentNode.childNodes);\n\n  return Math.max(siblings.indexOf(el), siblings.indexOf(meta.head) + 1, 0)\n}\n\n/**\n * Template Chunk model\n * @type {Object}\n */\nconst TemplateChunk = {\n  // Static props\n  // bindings: null,\n  // bindingsData: null,\n  // html: null,\n  // isTemplateTag: false,\n  // fragment: null,\n  // children: null,\n  // dom: null,\n  // el: null,\n\n  /**\n   * Create the template DOM structure that will be cloned on each mount\n   * @param   {HTMLElement} el - the root node\n   * @returns {TemplateChunk} self\n   */\n  createDOM(el) {\n    // make sure that the DOM gets created before cloning the template\n    this.dom =\n      this.dom ||\n      createTemplateDOM(el, this.html) ||\n      document.createDocumentFragment();\n\n    return this\n  },\n\n  // API methods\n  /**\n   * Attach the template to a DOM node\n   * @param   {HTMLElement} el - target DOM node\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {Object} meta - meta properties needed to handle the <template> tags in loops\n   * @returns {TemplateChunk} self\n   */\n  mount(el, scope, parentScope, meta = {}) {\n    if (!el) panic('Please provide DOM node to mount properly your template');\n\n    if (this.el) this.unmount(scope);\n\n    // <template> tags require a bit more work\n    // the template fragment might be already created via meta outside of this call\n    const { fragment, children, avoidDOMInjection } = meta;\n    // <template> bindings of course can not have a root element\n    // so we check the parent node to set the query selector bindings\n    const { parentNode } = children ? children[0] : el;\n    const isTemplateTag = isTemplate(el);\n    const templateTagOffset = isTemplateTag\n      ? getTemplateTagOffset(parentNode, el, meta)\n      : null;\n\n    // create the DOM if it wasn't created before\n    this.createDOM(el);\n\n    // create the DOM of this template cloning the original DOM structure stored in this instance\n    // notice that if a documentFragment was passed (via meta) we will use it instead\n    const cloneNode = fragment || this.dom.cloneNode(true);\n\n    // store root node\n    // notice that for template tags the root note will be the parent tag\n    this.el = isTemplateTag ? parentNode : el;\n\n    // create the children array only for the <template> fragments\n    this.children = isTemplateTag\n      ? children || Array.from(cloneNode.childNodes)\n      : null;\n\n    // inject the DOM into the el only if a fragment is available\n    if (!avoidDOMInjection && cloneNode) injectDOM(el, cloneNode);\n\n    // create the bindings\n    this.bindings = this.bindingsData.map((binding) =>\n      create$1(this.el, binding, templateTagOffset),\n    );\n    this.bindings.forEach((b) => b.mount(scope, parentScope));\n\n    // store the template meta properties\n    this.meta = meta;\n\n    return this\n  },\n\n  /**\n   * Update the template with fresh data\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @returns {TemplateChunk} self\n   */\n  update(scope, parentScope) {\n    this.bindings.forEach((b) => b.update(scope, parentScope));\n\n    return this\n  },\n\n  /**\n   * Remove the template from the node where it was initially mounted\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {boolean|null} mustRemoveRoot - if true remove the root element,\n   * if false or undefined clean the root tag content, if null don't touch the DOM\n   * @returns {TemplateChunk} self\n   */\n  unmount(scope, parentScope, mustRemoveRoot = false) {\n    const el = this.el;\n\n    if (!el) {\n      return this\n    }\n\n    this.bindings.forEach((b) => b.unmount(scope, parentScope, mustRemoveRoot));\n\n    switch (true) {\n      // pure components should handle the DOM unmount updates by themselves\n      // for mustRemoveRoot === null don't touch the DOM\n      case el[IS_PURE_SYMBOL] || mustRemoveRoot === null:\n        break\n\n      // if children are declared, clear them\n      // applicable for <template> and <slot/> bindings\n      case Array.isArray(this.children):\n        clearChildren(this.children);\n        break\n\n      // clean the node children only\n      case !mustRemoveRoot:\n        cleanNode(el);\n        break\n\n      // remove the root node only if the mustRemoveRoot is truly\n      case !!mustRemoveRoot:\n        removeChild(el);\n        break\n    }\n\n    this.el = null;\n\n    return this\n  },\n\n  /**\n   * Clone the template chunk\n   * @returns {TemplateChunk} a clone of this object resetting the this.el property\n   */\n  clone() {\n    return {\n      ...this,\n      meta: {},\n      el: null,\n    }\n  },\n};\n\n/**\n * Create a template chunk wiring also the bindings\n * @param   {string|HTMLElement} html - template string\n * @param   {BindingData[]} bindings - bindings collection\n * @returns {TemplateChunk} a new TemplateChunk copy\n */\nfunction create(html, bindings = []) {\n  return {\n    ...TemplateChunk,\n    html,\n    bindingsData: bindings,\n  }\n}\n\nexport { create$1 as createBinding, create$4 as createExpression, create as template };\n","\"use strict\";\n\n/* eslint-env browser */\n/*\n  eslint-disable\n  no-console,\n  func-names\n*/\n\n/** @typedef {any} TODO */\n\nvar normalizeUrl = require(\"./normalize-url\");\nvar srcByModuleId = Object.create(null);\nvar noDocument = typeof document === \"undefined\";\nvar forEach = Array.prototype.forEach;\n\n/**\n * @param {function} fn\n * @param {number} time\n * @returns {(function(): void)|*}\n */\nfunction debounce(fn, time) {\n  var timeout = 0;\n  return function () {\n    // @ts-ignore\n    var self = this;\n    // eslint-disable-next-line prefer-rest-params\n    var args = arguments;\n    var functionCall = function functionCall() {\n      return fn.apply(self, args);\n    };\n    clearTimeout(timeout);\n\n    // @ts-ignore\n    timeout = setTimeout(functionCall, time);\n  };\n}\nfunction noop() {}\n\n/**\n * @param {TODO} moduleId\n * @returns {TODO}\n */\nfunction getCurrentScriptUrl(moduleId) {\n  var src = srcByModuleId[moduleId];\n  if (!src) {\n    if (document.currentScript) {\n      src = ( /** @type {HTMLScriptElement} */document.currentScript).src;\n    } else {\n      var scripts = document.getElementsByTagName(\"script\");\n      var lastScriptTag = scripts[scripts.length - 1];\n      if (lastScriptTag) {\n        src = lastScriptTag.src;\n      }\n    }\n    srcByModuleId[moduleId] = src;\n  }\n\n  /**\n   * @param {string} fileMap\n   * @returns {null | string[]}\n   */\n  return function (fileMap) {\n    if (!src) {\n      return null;\n    }\n    var splitResult = src.split(/([^\\\\/]+)\\.js$/);\n    var filename = splitResult && splitResult[1];\n    if (!filename) {\n      return [src.replace(\".js\", \".css\")];\n    }\n    if (!fileMap) {\n      return [src.replace(\".js\", \".css\")];\n    }\n    return fileMap.split(\",\").map(function (mapRule) {\n      var reg = new RegExp(\"\".concat(filename, \"\\\\.js$\"), \"g\");\n      return normalizeUrl(src.replace(reg, \"\".concat(mapRule.replace(/{fileName}/g, filename), \".css\")));\n    });\n  };\n}\n\n/**\n * @param {TODO} el\n * @param {string} [url]\n */\nfunction updateCss(el, url) {\n  if (!url) {\n    if (!el.href) {\n      return;\n    }\n\n    // eslint-disable-next-line\n    url = el.href.split(\"?\")[0];\n  }\n  if (!isUrlRequest( /** @type {string} */url)) {\n    return;\n  }\n  if (el.isLoaded === false) {\n    // We seem to be about to replace a css link that hasn't loaded yet.\n    // We're probably changing the same file more than once.\n    return;\n  }\n  if (!url || !(url.indexOf(\".css\") > -1)) {\n    return;\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  el.visited = true;\n  var newEl = el.cloneNode();\n  newEl.isLoaded = false;\n  newEl.addEventListener(\"load\", function () {\n    if (newEl.isLoaded) {\n      return;\n    }\n    newEl.isLoaded = true;\n    el.parentNode.removeChild(el);\n  });\n  newEl.addEventListener(\"error\", function () {\n    if (newEl.isLoaded) {\n      return;\n    }\n    newEl.isLoaded = true;\n    el.parentNode.removeChild(el);\n  });\n  newEl.href = \"\".concat(url, \"?\").concat(Date.now());\n  if (el.nextSibling) {\n    el.parentNode.insertBefore(newEl, el.nextSibling);\n  } else {\n    el.parentNode.appendChild(newEl);\n  }\n}\n\n/**\n * @param {string} href\n * @param {TODO} src\n * @returns {TODO}\n */\nfunction getReloadUrl(href, src) {\n  var ret;\n\n  // eslint-disable-next-line no-param-reassign\n  href = normalizeUrl(href);\n  src.some(\n  /**\n   * @param {string} url\n   */\n  // eslint-disable-next-line array-callback-return\n  function (url) {\n    if (href.indexOf(src) > -1) {\n      ret = url;\n    }\n  });\n  return ret;\n}\n\n/**\n * @param {string} [src]\n * @returns {boolean}\n */\nfunction reloadStyle(src) {\n  if (!src) {\n    return false;\n  }\n  var elements = document.querySelectorAll(\"link\");\n  var loaded = false;\n  forEach.call(elements, function (el) {\n    if (!el.href) {\n      return;\n    }\n    var url = getReloadUrl(el.href, src);\n    if (!isUrlRequest(url)) {\n      return;\n    }\n    if (el.visited === true) {\n      return;\n    }\n    if (url) {\n      updateCss(el, url);\n      loaded = true;\n    }\n  });\n  return loaded;\n}\nfunction reloadAll() {\n  var elements = document.querySelectorAll(\"link\");\n  forEach.call(elements, function (el) {\n    if (el.visited === true) {\n      return;\n    }\n    updateCss(el);\n  });\n}\n\n/**\n * @param {string} url\n * @returns {boolean}\n */\nfunction isUrlRequest(url) {\n  // An URL is not an request if\n\n  // It is not http or https\n  if (!/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.test(url)) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * @param {TODO} moduleId\n * @param {TODO} options\n * @returns {TODO}\n */\nmodule.exports = function (moduleId, options) {\n  if (noDocument) {\n    console.log(\"no window.document found, will not HMR CSS\");\n    return noop;\n  }\n  var getScriptSrc = getCurrentScriptUrl(moduleId);\n  function update() {\n    var src = getScriptSrc(options.filename);\n    var reloaded = reloadStyle(src);\n    if (options.locals) {\n      console.log(\"[HMR] Detected local css modules. Reload all css\");\n      reloadAll();\n      return;\n    }\n    if (reloaded) {\n      console.log(\"[HMR] css reload %s\", src.join(\" \"));\n    } else {\n      console.log(\"[HMR] Reload all css\");\n      reloadAll();\n    }\n  }\n  return debounce(update, 50);\n};","<qr-code>\n  <p><button class=\"no-print\" onclick={ toggleQr }>Show qr code</button></p>\n  <p><div id=\"location-qr\"></div></p>\n\n  <script>\n\n    export default {\n      toggleQr(e) {\n        let element = document.getElementById(\"location-qr\")\n        element.innerHTML = ''\n\n        if (e.target.innerHTML == 'Show qr code') {\n          e.target.innerHTML = 'Hide qr code'\n          var qrcode = new QRCode(element, {\n            text: document.URL,\n            width: 256,\n            height: 256,\n            colorDark : \"#9b4dca\",\n            colorLight : \"#ffffff\",\n            correctLevel : QRCode.CorrectLevel.H\n          });\n        } else {\n          e.target.innerHTML = 'Show qr code'\n        }\n      },\n    }\n  </script>\n</qr-code>","/* Riot v9.4.9, @license MIT */\nimport bindingTypes from '../dependencies/@riotjs/util/binding-types.js';\nimport { PARENT_KEY_SYMBOL, DOM_COMPONENT_INSTANCE_PROPERTY, PLUGINS_SET, COMPONENTS_IMPLEMENTATION_MAP, ATTRIBUTES_KEY_SYMBOL, IS_COMPONENT_UPDATING, STATE_KEY, PROPS_KEY } from '../dependencies/@riotjs/util/constants.js';\nimport expressionTypes from '../dependencies/@riotjs/util/expression-types.js';\nimport { createExpression as create$4, createBinding as create$1, template as create } from '../dependencies/@riotjs/dom-bindings/dist/dom-bindings.js';\nimport cssManager from '../core/css-manager.js';\n\n// expose some internal stuff that might be used from external tools\nconst __ = {\n  cssManager,\n  DOMBindings: {\n    template: create,\n    createBinding: create$1,\n    createExpression: create$4,\n    bindingTypes,\n    expressionTypes,\n  },\n  globals: {\n    PROPS_KEY,\n    STATE_KEY,\n    IS_COMPONENT_UPDATING,\n    ATTRIBUTES_KEY_SYMBOL,\n    COMPONENTS_IMPLEMENTATION_MAP,\n    PLUGINS_SET,\n    DOM_COMPONENT_INSTANCE_PROPERTY,\n    PARENT_KEY_SYMBOL,\n  },\n};\n\nexport { __ };\n","import { __, component } from 'riot';\n\n/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nfunction domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (\n      /^\\[object (HTMLCollection|NodeList|Object)\\]$/\n        .test(Object.prototype.toString.call(els))\n        && typeof els.length === 'number'\n    )\n      return Array.from(els)\n    else\n      // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els]\n  }\n  // this object could be looped out of the box\n  return els\n}\n\n/**\n * Simple helper to find DOM nodes returning them as array like loopable object\n * @param   { string|DOMNodeList } selector - either the query or the DOM nodes to arraify\n * @param   { HTMLElement }        scope      - context defining where the query will search for the DOM nodes\n * @returns { Array } DOM nodes found as array\n */\nfunction $(selector, scope) {\n  return domToArray(typeof selector === 'string' ?\n    (scope || document).querySelectorAll(selector) :\n    selector\n  )\n}\n\nconst { cssManager } = __;\nconst { DOM_COMPONENT_INSTANCE_PROPERTY } = __.globals;\n\nfunction reload(componentAPI) {\n  const { name } = componentAPI;\n\n  if (!name) {\n    console.warn('Anonymous components can not be reloaded'); // eslint-disable-line\n    return []\n  }\n\n  return $(`${name}, [is=${name}]`).map((el) => {\n    const oldTag = el[DOM_COMPONENT_INSTANCE_PROPERTY];\n\n    // early return in case there is no riot instance found\n    if (!oldTag) return\n\n    // remove the tag template from the DOM\n    oldTag.unmount(true);\n    // delete the old css from the css manager\n    cssManager.remove(name);\n\n    // create the new tag\n    const newTag = component(componentAPI)(el, oldTag.props);\n    newTag.update(oldTag.state);\n\n    return newTag\n  })\n}\n\nexport { reload as default };\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1749823087958\n        var cssReload = require(\"../../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","<box>\n    <element-header\n      if={ !state.edit && state.box } \n      type=\"box\"\n      element={state.box}\n      next={ state.nextBox ? \"#box/\" + state.nextBox.id : \"\" }\n      previous={ state.previousBox ? \"#box/\" + state.previousBox.id : \"\" }\n    />\n    <element-detail if={ !state.edit && state.box } type=\"box\" element={ state.box } location={ state.parentLocation } person={ state.person } box={state.parentBox }  />\n    <element-form if={ state.edit && state.box } type=\"box\" element={ state.box } onCancel={ closeEdit }  />\n    <div if={ state.add && state.emptyItem } class=\"add-form\">\n      <h2>Add an item to the box</h2>\n      <element-form type=\"item\" element={ state.emptyItem } onCancel={ closeEdit }  />\n    </div>\n    <element-list if={ state.boxes && state.boxes[0] } elements={ state.boxes } type=\"box\" />\n    <element-list elements={ state.items } type=\"item\" />\n  <script>\n\n    import  './style.css'\n    import ElementHeader from '../../includes/_helper/element-header.riot'\n    import ElementDetail from '../../includes/_helper/element-detail.riot'\n    import ElementForm from '../../includes/_helper/element-form.riot'\n    import ElementList from '../../includes/_helper/element-list.riot'\n\n    export default {\n      components: {\n        ElementHeader,\n        ElementDetail,\n        ElementForm,\n        ElementList,\n      },\n\n      state: {\n        nextBox: false,\n        previousBox: false,\n        box: false,\n        parentBox: false,\n        location: false,\n        parentLocation: false,\n        person: false,\n        items: false,\n        boxes: false,\n        edit: false,\n        id: false,\n        emptyItem: false\n      },\n\n      closeEdit() {\n        this.registry.application.render('#box/' + this.state.id)\n\n        // cheap hack to reload the image after upload, could fetch the url until a 200 is there. Only if the current box has an image, of course\n        const myTimeout = setTimeout(function() {\n          clearTimeout(myTimeout);\n          this.registry.eventBus.trigger('imageUploaded')\n        }.bind(this), 1000);\n      },\n\n      setupListenter() {\n        let target = this\n\n        this.registry.eventBus.on('dataBoxLoadSuccess', function(boxes) {\n          target.loadBoxLocationAndPersonData()\n        })\n\n\n        this.registry.eventBus.on('dataLocationLoadSuccess', function(boxes) {\n          target.loadBoxLocationAndPersonData()\n        })\n\n\n        this.registry.eventBus.on('dataItemLoadSuccess', function(items) {\n          target.loadItemData()\n        })\n\n      },\n\n      clickHandler(e) {\n        // hack to rerender if only the controller properties have changed\n        this.registry.application.render('')\n        this.registry.application.clickHandler(e)\n      },\n\n      loadBoxLocationAndPersonData() {\n        let box = this.registry.dataStore.boxes.getBoxById(this.state.id)\n        if (!box) {\n          return false\n        }\n\n        let locationId = box && box.locationId ? box.locationId : 0\n        let parentLocationId = box && box.parentLocationId ? box.parentLocationId : 0\n        let boxId = box && box.id ? box.id : 0\n        let parentBoxId = box && box.boxId ? box.boxId : 0\n        let personId = box && box.personId ? box.personId : 0\n        let nextBox = this.registry.dataStore.boxes.getNext(box)\n        let previousBox = this.registry.dataStore.boxes.getPrevious(box)\n        console.log(box)\n        this.update({\n          box: box,\n          nextBox: nextBox ? nextBox : false,\n          previousBox: previousBox ? previousBox : false,\n          location: this.registry.dataStore.locations.getLocationById(locationId),\n          parentLocation: this.registry.dataStore.locations.getLocationById(parentLocationId),\n          person: this.registry.dataStore.persons.getPersonById(personId),\n          boxes: this.registry.dataStore.boxes.getBoxesByBoxId(boxId),\n          parentBox: this.registry.dataStore.boxes.getBoxById(parentBoxId)\n        })\n      },\n\n      loadItemData() {\n        this.update({\n          items: this.registry.dataStore.items.getItemsByBoxId(this.state.id)\n        })\n      },\n\n      loadBoxData() {\n        this.update({\n          boxes: this.registry.dataStore.boxes.getBoxesByBoxId(this.state.id)\n        })\n      },\n\n      onMounted() {\n        this.update({\n          id: this.props.params[0],\n          edit: this.props.params[1] == 'edit',\n          add: this.props.params[1] == 'add',\n        })\n\n        this.update({\n          emptyItem: {\n            name: '',\n            description: '',\n            amount: 1,\n            image: this.registry.dataStore.defaults.getImages()['item'],\n            boxId: this.state.id\n          }\n        })\n\n        this.setupListenter()\n        this.loadBoxLocationAndPersonData()\n        this.loadItemData()\n        this.loadBoxData()\n      }\n    }\n  </script>\n\n  <style>\n  .add-form {\n    display: block;\n    background-color: white;\n    padding: 10px;\n    border-radius: 3px;\n  }\n  </style>\n\n</box>","<navigation class=\"no-print\">\n    <div class=\"header\">\n      <a onclick={ registry.application.clickHandler } href=\"#locations\" class=\"logo\"><img width=\"20px\" src=\"./storganizer-logo.png\" /> <div class=\"app-title\">Storganizer</div></a>\n      <input class=\"menu-btn\" type=\"checkbox\" id=\"menu-btn\" />\n      <label class=\"menu-icon\" for=\"menu-btn\"><span class=\"navicon\"></span></label>\n      <ul class=\"menu\">\n        <li class={ state.classes.locations }><a onclick={ registry.application.clickHandler } href=\"#locations\">Locations</a></li>\n        <li class={ state.classes.boxes }><a onclick={ registry.application.clickHandler } href=\"#boxes\">Boxes</a></li>\n        <li class={ state.classes.items }><a onclick={ registry.application.clickHandler } href=\"#items\">Items</a></li>\n        <li class={ state.classes.persons }><a onclick={ registry.application.clickHandler } href=\"#persons\"><i class=\"fa-solid fa-person\"></i></a></li>\n        <li class={ state.classes.search }><a onclick={ registry.application.clickHandler } href=\"#search\"><i class=\"fa-solid fa-magnifying-glass\"></i></a></li>\n        <li class={ state.classes.config }><a onclick={ registry.application.clickHandler } href=\"#config\"><i class=\"fa-solid fa-gear\"></i></a></li>\n      </ul>\n    </div>\n  <script>\n    import './navigation.css'\n\n\n    export default {\n      state: {\n        classes: {\n          locations: '',\n          boxes: '',\n          items: '',\n          persons: '',\n          search: '',\n          config: '',\n        }\n      },\n\n      setupListener() {\n        this.registry.eventBus.on('applicationRender', this.onApplicationRender)\n      },\n\n      onApplicationRender() {\n        let controller = this.registry.application.getCurrentController()\n        let classes = {\n          locations: controller == 'locations' || controller == 'location' ? 'active' : '',\n          boxes: controller == 'boxes' || controller == 'box' ? 'active' : '',\n          items: controller == 'items' || controller == 'item' ? 'active' : '',\n          persons: controller == 'persons' || controller == 'person' ? 'active' : '',\n          search: controller == 'search' ? 'active' : '',\n          config: controller == 'config' ? 'active' : '',\n        }\n\n        this.update({\n          classes: classes\n        })\n      },\n\n\n      onMounted() {\n        this.setupListener()\n      },\n    }\n\n  </script>\n</navigation>\n","<item>\n    \n    <element-header\n      if={ ! state.edit && state.item } \n      type=\"item\"\n      element={ state.item }\n      next={ state.nextItem ? \"#item/\" + state.nextItem.id : \"\" }\n      previous={ state.previousItem ? \"#item/\" + state.previousItem.id : \"\" }\n    />\n    <element-detail if={ !state.edit && state.item } type=\"item\" element={ state.item } box={ state.box } location={ state.location }  />\n    <element-form if={ state.edit && state.item } type=\"item\" element={ state.item } onCancel={ closeEdit } />\n\n  <script>\n    import  './style.css'\n\n    import ElementHeader from '../../includes/_helper/element-header.riot'\n    import ElementDetail from '../../includes/_helper/element-detail.riot'\n    import ElementForm from '../../includes/_helper/element-form.riot'\n\n\n    export default {\n      components: {\n        ElementHeader,\n        ElementDetail,\n        ElementForm,\n      },\n\n      state: {\n        nextItem: false,\n        previousItem: false,\n        id: false,\n        edit: false,\n        item: false,\n        box: false,\n        location: false,\n        edit: false,\n      },\n\n      closeEdit() {\n        this.registry.application.render('#item/' + this.state.id)\n\n        // cheap hack to reload the image after upload, could fetch the url until a 200 is there. Only if the current box has an image, of course\n        const myTimeout = setTimeout(function() {\n          clearTimeout(myTimeout);\n          this.registry.eventBus.trigger('imageUploaded')\n        }.bind(this), 1000);\n      },\n\n      setupListenter() {\n        let target = this\n\n        this.registry.eventBus.on('dataItemLoadSuccess', function(locations) {\n          target.loadData()\n        })\n\n        this.registry.eventBus.on('dataBoxLoadSuccess', function(locations) {\n          target.loadData()\n        })\n\n        this.registry.eventBus.on('dataLocationLoadSuccess', function(locations) {\n          target.loadData()\n        })\n\n      },\n\n      loadData() {\n        let item = this.registry.dataStore.items.getItemById(this.state.id)\n        if (!item) {\n          return false\n        }\n\n        let boxId = item && item.boxId ? item.boxId : 0\n        let box = this.registry.dataStore.boxes.getBoxById(boxId)\n        let locationId = box && box.locationId ? box.locationId : 0\n        let location = this.registry.dataStore.locations.getLocationById(locationId)\n        let nextItem = this.registry.dataStore.items.getNext(item)\n        let previousItem = this.registry.dataStore.items.getPrevious(item)\n\n        this.update({\n          location: location,\n          box: box,\n          item: item,\n          nextItem: nextItem ? nextItem : false,\n          previousItem: previousItem ? previousItem : false,\n        })\n\n      },\n\n      onMounted() {\n        this.update({\n          id: this.props.params[0],\n          edit: this.props.params[1] == 'edit',\n          add: this.props.params[1] == 'add',\n        })\n        this.setupListenter()\n        this.loadData()\n      }\n    }\n  </script>\n</item>","<take-picture>\n\n    <p><button if={ !state.cameraActive } class=\"no-print\" onclick={ openCamera }>Open Camera</button></p>\n    <p if={ state.pictureTaken }>\n      <canvas class=\"webcam-image\" id=\"canvas\"></canvas>\n    </p>\n    <p if={ !state.pictureTaken && props.currentPicture }>\n      <img class=\"webcam-image\" src={ props.currentPicture } />\n    </p>\n\n  <script>\n\n    export default {\n      localStorage: window.localStorage,\n      stream: false,\n      camera: false,\n      canvas: false,\n      context: false,\n      state: {\n        cameraActive: false,\n        pictureTaken: false,\n      },\n\n      closeCamera(e) {\n        let body = document.getElementsByTagName('body')[0]\n        body.className = ''\n        let fullScreen = document.getElementById('fullscreen')\n\n        let camera = document.getElementById(\"camera\")\n        if (camera) {\n          let stream = camera.srcObject;\n          if (stream) {\n            stream.getTracks().forEach(function(track) {\n              track.stop()\n            })\n          }\n        }\n\n        if (fullScreen) {\n          body.removeChild(fullScreen)\n        }\n\n        if (this.update) {\n          this.update({\n            cameraActive: false\n          })\n        }\n      },\n\n      openCamera(e) {\n        let body = document.getElementsByTagName('body')[0]\n        body.className = 'no-scroll'\n\n        let fullScreen = document.createElement('div')\n        fullScreen.id = \"fullscreen\"\n        \n        let video = document.createElement('video')\n        video.className = 'webcam-video'\n        video.setAttribute('muted', '1')\n        video.setAttribute('autoplay', '1')\n        video.setAttribute('playsinline', 'playsinline')\n        video.setAttribute('webkit-playsinline', '1')\n        video.id = 'camera'\n        fullScreen.prepend(video)\n\n\n        let buttonContainer = document.createElement('div')\n        buttonContainer.className = 'camera-button-container'\n\n        // <button if={ state.cameraActive } class=\"no-print\" onclick={ closeCamera }>Close Camera</button>\n        let closeButton = document.createElement('button')\n        closeButton.innerHTML = '<i class=\"fa-solid fa-xmark\"></i>'\n        closeButton.className = \"no-print camera-button\"\n        closeButton.onclick = this.closeCamera\n        buttonContainer.prepend(closeButton)\n\n        // <button if={ state.cameraActive } class=\"no-print\" onclick={ closeCamera }>Close Camera</button>\n        let snapButton = document.createElement('button')\n        snapButton.innerHTML = '<i class=\"fa-solid fa-camera\"></i>'\n        snapButton.className = \"no-print camera-button camera-button-snapshot\"\n        snapButton.onclick = this.snapshot\n        buttonContainer.prepend(snapButton)\n\n        fullScreen.prepend(buttonContainer)\n\n        body.prepend(fullScreen);\n\n        this.update({\n          cameraActive: true\n        })\n\n        this.camera = document.getElementById(\"camera\")\n        navigator.mediaDevices.getUserMedia({\n          'video': {\n              'deviceId': this.localStorage.getItem(\"cameraId\")\n          },\n          'audio': false,\n        }).then(function(stream) {\n           this.stream = stream\n           this.camera.srcObject = this.stream;\n        }.bind(this)).catch(function(err) {\n           console.error('getUserMediaError', err, err.stack);\n        })\n      },\n\n      snapshot() {\n        this.update({\n          pictureTaken: true\n        })\n        \n        this.canvas = document.getElementById('canvas')\n        this.camera = document.getElementById('camera')\n        if (this.canvas) {\n          this.canvas.width = this.camera.videoWidth\n          this.canvas.height = this.camera.videoHeight\n\n          this.context = this.canvas.getContext('2d')\n          this.context.drawImage(this.camera, 0, 0);\n          this.closeCamera()\n        }\n\n      },\n\n      getEncodedImage() {\n        let canvas = document.getElementById('canvas')\n        if (!canvas) {\n          return ''\n        }\n        return canvas.toDataURL().replace(/^data:image\\/png;base64,/, \"\")\n      },\n\n\n    }\n  </script>\n  <style>\n    #canvas {\n      max-width: 300px;\n    }\n\n    .webcam-video,  .webcam-image{\n      max-width: 300px;\n      border: 1px solid #9b4dca;\n    }\n\n  </style>\n</take-picture>","/* Riot WIP, @license MIT */\nconst ATTRIBUTE = 0;\nconst EVENT = 1;\nconst TEXT = 2;\nconst VALUE = 3;\nconst REF = 4;\n\nconst expressionTypes = {\n  ATTRIBUTE,\n  EVENT,\n  TEXT,\n  VALUE,\n  REF,\n};\n\nexport { ATTRIBUTE, EVENT, REF, TEXT, VALUE, expressionTypes as default };\n","<location>\n  <element-header\n    if={ ! state.edit && state.location } \n    type=\"location\"\n    element={state.location}\n    next={ state.nextLocation ? \"#location/\" + state.nextLocation.id : \"\" }\n    previous={ state.previousLocation ? \"#location/\" + state.previousLocation.id : \"\" }\n  />\n  <element-detail if={ !state.edit && state.location } type=\"location\" element={ state.location } />\n  <element-form if={ state.edit && state.location } type=\"location\" element={ state.location } onCancel={ closeEdit }  />\n  <div if={ state.add && state.emptyBox } class=\"add-form\">\n    <h2>Add a box to the loction</h2>\n    <element-form type=\"box\" element={ state.emptyBox } onCancel={ closeEdit }  />\n  </div>\n  <element-list elements={ state.boxes } type=\"box\" />\n\n  <script>\n    import  './style.css'\n    import QrCode from '../../includes/_helper/qr-code.riot'\n    import ElementHeader from '../../includes/_helper/element-header.riot'\n    import ElementDetail from '../../includes/_helper/element-detail.riot'\n    import ElementForm from '../../includes/_helper/element-form.riot'\n    import ElementList from '../../includes/_helper/element-list.riot'\n\n    export default {\n      components: {\n        QrCode,\n        ElementHeader,\n        ElementDetail,\n        ElementForm,\n        ElementList,\n      },\n\n      state: {\n        nextLocation: false,\n        previousLocation: false,\n        location: false,\n        boxes: [],\n        persons: [],\n        showQr: true,\n        edit: false,\n        emptyBox: false\n      },\n\n      closeEdit() {\n        this.registry.application.render('#location/' + this.state.id)\n\n        // cheap hack to reload the image after upload, could fetch the url until a 200 is there. Only if the current box has an image, of course\n        const myTimeout = setTimeout(function() {\n          clearTimeout(myTimeout);\n          this.registry.eventBus.trigger('imageUploaded')\n        }.bind(this), 1000);\n      },\n\n      setupListenter() {\n        this.registry.eventBus.on('dataLocationLoadSuccess', function(locations) {\n          this.loadLocationData()\n        }.bind(this))\n\n        this.registry.eventBus.on('dataBoxLoadSuccess', function(locations) {\n          this.loadBoxData()\n        }.bind(this))\n\n        this.registry.eventBus.on('dataPersonLoadSuccess', function(locations) {\n          this.loadPersonData()\n        }.bind(this))\n      },\n\n      loadLocationData() {\n        let location = this.registry.dataStore.locations.getLocationById(this.props.params[0])\n        if (!location) {\n          return false\n        }\n        let nextLocation = this.registry.dataStore.locations.getNext(location)\n        let previousLocation = this.registry.dataStore.locations.getPrevious(location)\n\n        this.update({\n          nextLocation: nextLocation ? nextLocation : false,\n          previousLocation: previousLocation ? previousLocation : false,\n          location: location\n        })\n      },\n\n      loadBoxData() {\n        this.update({\n            boxes: this.registry.dataStore.boxes.getBoxesByLocationId(this.props.params[0])\n        })\n      },\n\n      loadPersonData() {\n        this.update({\n            persons: this.registry.dataStore.persons.getPersons()\n        })\n      },\n\n      onMounted() {\n        this.update({\n          id: this.props.params[0],\n          edit: this.props.params[1] == 'edit',\n          add: this.props.params[1] == 'add',\n        })\n\n        this.update({\n          emptyBox: {\n            name: '',\n            description: '',\n            boxId: 0,\n            image: this.registry.dataStore.defaults.getImages()['box'],\n            personId: window.localStorage.getItem(\"personId\"),\n            parentLocationId: this.state.id\n          }\n        })\n\n        this.setupListenter()\n        this.loadLocationData()\n        this.loadBoxData()\n        this.loadPersonData()\n      }\n    }\n  </script>\n\n  <style>\n  .add-form {\n    display: block;\n    background-color: white;\n    padding: 10px;\n    border-radius: 3px;\n  }\n  </style>\n\n</location>","/* Riot WIP, @license MIT */\nimport domToArray from '../bianco.dom-to-array/index.next.js';\n\n/**\n * Normalize the return values, in case of a single value we avoid to return an array\n * @param   { Array } values - list of values we want to return\n * @returns { Array|string|boolean } either the whole list of values or the single one found\n * @private\n */\nconst normalize = values => values.length === 1 ? values[0] : values;\n\n/**\n * Parse all the nodes received to get/remove/check their attributes\n * @param   { HTMLElement|NodeList|Array } els    - DOM node/s to parse\n * @param   { string|Array }               name   - name or list of attributes\n * @param   { string }                     method - method that will be used to parse the attributes\n * @returns { Array|string } result of the parsing in a list or a single value\n * @private\n */\nfunction parseNodes(els, name, method) {\n  const names = typeof name === 'string' ? [name] : name;\n  return normalize(domToArray(els).map(el => {\n    return normalize(names.map(n => el[method](n)))\n  }))\n}\n\n/**\n * Set any attribute on a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Object }              name  - either the name of the attribute to set\n *                                                 or a list of properties as object key - value\n * @param   { string }                     value - the new value of the attribute (optional)\n * @returns { HTMLElement|NodeList|Array } the original array of elements passed to this function\n *\n * @example\n *\n * import { set } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * set(img, 'width', 100)\n *\n * // or also\n * set(img, {\n *   width: 300,\n *   height: 300\n * })\n *\n */\nfunction set(els, name, value) {\n  const attrs = typeof name === 'object' ? name : { [name]: value };\n  const props = Object.keys(attrs);\n\n  domToArray(els).forEach(el => {\n    props.forEach(prop => el.setAttribute(prop, attrs[prop]));\n  });\n  return els\n}\n\n/**\n * Get any attribute from a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Array }               name  - name or list of attributes to get\n * @returns { Array|string } list of the attributes found\n *\n * @example\n *\n * import { get } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * get(img, 'width') // => '200'\n *\n * // or also\n * get(img, ['width', 'height']) // => ['200', '300']\n *\n * // or also\n * get([img1, img2], ['width', 'height']) // => [['200', '300'], ['500', '200']]\n */\nfunction get(els, name) {\n  return parseNodes(els, name, 'getAttribute')\n}\n\nexport { get, set };\n","<element-form>\n  <p if={ props.element }>\n    <take-picture currentPicture=\"{ state.apiHost }{ props.element.image }\"></take-picture>\n    <input placeholder=\"Name\" ame=\"element-name\" id=\"element-name\" type=\"text\" value=\"{ props.element.name }\"></input>\n    <textarea placeholder=\"Description\" name=\"element-description\" id=\"element-description\">{ props.element.description }</textarea>\n\n    <input if={ props.type == 'item' } placeholder=\"Amount\" name=\"element-amount\" id=\"element-amount\" value={ props.element.amount }></input>\n\n    <input class=\"margin-right\" if={ props.type == 'box' } onchange={ boxInBox } type=\"checkbox\" id=\"element-box-in-box\" name=\"element-box-in-box\" checked={ state.boxInBox }  />\n    <label class=\"no-block\" if={ props.type == 'box' } for=\"element-box-in-box\">This box is in another box</label>\n\n    <label if={ props.type == 'box' && !state.boxInBox } for=\"element-location-id\">Location</label>\n    <select if={ props.type == 'box' && !state.boxInBox } name=\"element-location-id\" id=\"element-location-id\">\n      <option selected={ !props.element.locationId || props.element.locationId <= 0 } value=\"0\" >unlocated</option>\n      <option selected={ props.element.parentLocationId == element.id } each={ element in state.locations } value={ element.id }>{ element.name }</option>\n    </select>\n\n    <label if={ props.type == 'box' && state.boxInBox } for=\"element-in-box-id\">Box</label>\n    <select if={ props.type == 'box' && state.boxInBox } name=\"element-in-box-id\" id=\"element-in-box-id\">\n      <option selected={ !props.element.locationId || props.element.locationId <= 0 } value=\"0\" >unboxed</option>\n      <option if={ props.element.id != element.id } selected={ props.element.boxId == element.id } each={ element in state.boxes } value={ element.id }>{ element.name }</option>\n    </select>\n\n    <label if={ props.type == 'box' } for=\"element-person-id\">Belongs to</label>\n    <select if={ props.type == 'box' } name=\"element-person-id\" id=\"element-person-id\">\n      <option selected={ !props.element.personId || props.element.personId <= 0 } value=\"0\" >everybody</option>\n      <option selected={ props.element.personId == element.id } each={ element in state.persons } value={ element.id }>{ element.name }</option>\n    </select>\n\n    <label if={ props.type == 'item' } for=\"element-box-id\">Box</label>\n    <select if={ props.type == 'item' } name=\"element-box-id\" id=\"element-box-id\">\n      <option selected={ !props.element.boxId || props.element.boxId <= 0 } value=\"0\" >unboxed</option>\n      <option selected={ props.element.boxId == element.id } each={ element in state.boxes } value={ element.id }>{ element.name }</option>\n    </select>\n\n    <select if={ props.type == 'location' } name=\"element-classification\" id=\"element-classification\">\n      <option value=\"0\">Location Type</option>\n      <option selected={ props.element.classification == 5 } value=\"5\">Outside</option>\n      <option selected={ props.element.classification == 4 } value=\"4\">Basement</option>\n      <option selected={ props.element.classification == 3 } value=\"3\">Attic</option>\n      <option selected={ props.element.classification == 2 } value=\"2\">Living Area</option>\n      <option selected={ props.element.classification == 1 } value=\"1\">My Room</option>\n    </select>\n  </p>\n\n  <div class=\"form-buttons\" if={ props.element }>\n    <button onclick={ saveEntry }>Save</button>\n    <button class=\"button-outline\" onclick={ onCancel }>Cancel</button>\n    <button if={ props.element.id } class=\"button-delete\" onclick={ deleteEntry }>Delete</button>\n  </div>\n  \n  <script>\n    import TakePicture from '../../includes/_helper/take-picture.riot'\n\n    export default {\n      components: {\n        TakePicture,\n      },\n\n      state: {\n        boxInBox: true,\n        locations: false,\n        boxes: false,\n        persons: false,\n      },\n\n      boxInBox(e) {\n        let checked = false\n        if (e.target) {\n          checked = e.target.checked\n        }\n\n        this.update({\n            boxInBox: checked\n        })\n\n      },\n\n      onCancel() {\n        TakePicture.exports.closeCamera()\n        this.props.onCancel()\n      },\n\n      setupListenter() {\n        this.registry.eventBus.on('dataLocationLoadSuccess', function(locations) {\n          this.loadLocationData()\n        }.bind(this))\n\n        this.registry.eventBus.on('dataBoxLoadSuccess', function(locations) {\n          this.loadBoxData()\n        }.bind(this))\n      },\n\n      loadLocationData() {\n        this.update({\n            locations: this.registry.dataStore.locations.getLocations()\n        })\n      },\n\n      loadBoxData() {\n        this.update({\n            boxes: this.registry.dataStore.boxes.getBoxes()\n        })\n      },\n\n      loadPersonData() {\n        this.update({\n            persons: this.registry.dataStore.persons.getPersons()\n        })\n      },\n\n      loadApiUrl() {\n        this.update({\n            apiHost: this.registry.dataStore.getApiHost()\n        })\n      },\n\n      onMounted() {\n        this.setupListenter()\n        this.loadApiUrl()\n        this.loadLocationData()\n        this.loadBoxData()\n        this.loadPersonData()\n\n        if (this.props && this.props.type == 'box') {\n          let boxInBox = false\n          if (parseInt(this.props.element.boxId) > 0) {\n            boxInBox = true\n          }\n\n          this.update({\n              boxInBox: boxInBox\n          })\n        }\n      },\n\n      saveEntry(e) {\n        TakePicture.exports.closeCamera()\n\n        let element = {\n          id: this.props.element.id || 0,\n          image: TakePicture.exports.getEncodedImage(),\n          name: document.getElementById(\"element-name\").value,\n          description: document.getElementById(\"element-description\").value,\n        }\n\n        let dataStore\n\n        switch(this.props.type) {\n          case 'location':\n            element.classification = parseInt(document.getElementById(\"element-classification\").value)\n            dataStore = this.registry.dataStore.locations\n            break\n          case 'box':\n            let locationId = 0\n            let inBoxId = 0\n\n            if (document.getElementById(\"element-location-id\")) {\n              locationId = parseInt(document.getElementById(\"element-location-id\").value)\n            }\n\n            if (document.getElementById(\"element-in-box-id\")) {\n              inBoxId = parseInt(document.getElementById(\"element-in-box-id\").value)\n            }\n\n            let personId = parseInt(document.getElementById(\"element-person-id\").value)\n            if (locationId > 0) {\n              element.locationId = locationId\n            }\n            if (inBoxId > 0) {\n              element.boxId = inBoxId\n            }\n            if (personId > 0) {\n              element.personId = personId\n            }\n            dataStore = this.registry.dataStore.boxes\n            break\n          case 'item':\n            element.amount = parseInt(document.getElementById(\"element-amount\").value)\n            let boxId = parseInt(document.getElementById(\"element-box-id\").value)\n            if (boxId > 0) {\n              element.boxId = boxId\n            }\n            dataStore = this.registry.dataStore.items\n            break\n          case 'person':\n            dataStore = this.registry.dataStore.persons\n            break\n        }\n\n        if (element.id > 0) {\n          dataStore.updateEntry(element)\n          this.props.onCancel()\n        } else {\n          dataStore.addEntry(element)\n          this.props.onCancel()\n        }\n      },\n\n      deleteEntry(e) {\n        if (!confirm(\"Really delete this entry?\")) {\n          return false\n        }\n\n        TakePicture.exports.closeCamera()\n        \n        let redirectUrl\n        let dataStore\n\n        switch(this.props.type) {\n          case 'location':\n            redirectUrl  = '#locations'\n            dataStore = this.registry.dataStore.locations\n            break\n          case 'box':\n            redirectUrl  = '#location/' + document.getElementById(\"element-location-id\").value\n            dataStore = this.registry.dataStore.boxes\n            break\n          case 'item':\n            redirectUrl  = '#box/' + document.getElementById(\"element-box-id\").value\n            dataStore = this.registry.dataStore.items\n            break\n          case 'person':\n            redirectUrl  = '#persons'\n            dataStore = this.registry.dataStore.persons\n            break\n        }\n\n        \n        dataStore.deleteEntry(this.props.element)        \n        this.registry.application.render(redirectUrl)\n      },\n    }\n\n  </script>\n\n  <style>\n    button {\n      margin-left: 5px;\n    }\n    video.camera {\n      width: 100%\n    }\n  </style>\n</element-form>","<config>\n\n  <label for=\"api-url\">Api URL</label>\n  <input placeholder=\"http://127.0.0.1:5000\" name=\"api-url\" id=\"api-url\" type=\"text\" value=\"{ state.apiUrl }\"></input>\n\n  <label if={ state.cameras.length > 1 } for=\"cameraId\">Preferred camera</label>\n  <select if={ state.cameras.length > 1 } name=\"cameraId\" id=\"cameraId\">\n    <option selected={ !state.cameraId || state.cameraId == '' } value=\"\" >choose camera</option>\n    <option selected={ state.cameraId == camera.id } each={ camera in state.cameras } value={ camera.id }>{ camera.label }</option>\n  </select>\n\n  <label for=\"personId\">Who are you?</label>\n    <select name=\"personId\" id=\"personId\">\n      <option selected={ state.personId == element.id } each={ element in state.persons } value={ element.id }>{ element.name }</option>\n    </select>\n\n\n  <label for=\"listView\">List view</label>\n  <select name=\"listView\" id=\"listView\">\n    <option selected={ state.listView == 'list' } value=\"list\" >list</option>\n    <option selected={ state.listView == 'image' } value=\"image\">image</option>\n  </select>\n\n  <button onclick={ save }>Save</button>\n\n\n  <!--<input onchange={ setListView } type=\"checkbox\" id=\"listView\" name=\"listView\" value=\"imageList\">-->\n\n  <label>Backup</label>\n  <button onclick={ backup } href=\"{ state.apiUrl }/backup\">Backup (Only data - No images yet)</button>\n  <!--\n  <label>Restore</label>\n  <button onclick={ restore }>Restore (Only data - No images yet)</button>\n  -->\n  <script>\n\n    export default {\n      localStorage: window.localStorage,\n\n      state: {\n        apiUrl: \"http://127.0.0.1:5000\",\n        listView: \"list\",\n        personId: 0,\n        persons: false,\n        cameraId: \"\",\n        cameras: [],\n      },\n\n      save(e) {\n        let apiUrl = document.getElementById(\"api-url\").value\n        this.registry.dataStore.setApiHost(apiUrl)\n        this.localStorage.setItem(\"apiUrl\", apiUrl)\n\n        let cameraIdSelect = document.getElementById(\"cameraId\")\n        let cameraId = ''\n        if (cameraIdSelect) {\n          cameraId = cameraIdSelect.value\n        } else if (this.state.cameras.length == 1) {\n          cameraId = this.state.cameras[0].id\n        }\n\n        let personIdSelect = document.getElementById(\"personId\")\n        let personId = 0\n        if (personIdSelect) {\n          personId = personIdSelect.value\n        }\n\n\n        let listViewSelect = document.getElementById(\"listView\")\n        let listView = 'list'\n        if (listViewSelect) {\n          listView = listViewSelect.value\n        }\n\n        this.localStorage.setItem(\"listView\", listView)\n        this.localStorage.setItem(\"cameraId\", cameraId)\n        this.localStorage.setItem(\"personId\", personId)\n      },\n\n      backup() {\n        window.location = this.state.apiUrl + \"/backup\"\n      },\n\n      setListView(e) {\n        if (e.target && e.target.checked) {\n          this.localStorage.setItem(\"listView\", 'image')\n        } else {\n          this.localStorage.setItem(\"listView\", 'list')\n        }\n      },\n\n      setupListenter() {\n        this.registry.eventBus.on('dataPersonLoadSuccess', function(locations) {\n          this.loadPersonData()\n        }.bind(this))\n      },\n\n      loadPersonData() {\n        this.update({\n            persons: this.registry.dataStore.persons.getPersons()\n        })\n      },\n\n      async onMounted(e) {\n        this.setupListenter()\n        this.loadPersonData()\n        let devices = await navigator.mediaDevices.enumerateDevices();\n        let cameras = [];\n        for (const device of devices) {\n            if (device.kind === \"videoinput\") {\n                cameras.push({\n                    id: device.deviceId,\n                    label: device.label\n                })\n            }\n        }\n\n        this.update({\n          apiUrl: this.localStorage.getItem(\"apiUrl\"),\n          listView: this.localStorage.getItem(\"listView\"),\n          cameraId: this.localStorage.getItem(\"cameraId\"),\n          personId: this.localStorage.getItem(\"personId\"),\n          cameras: cameras,\n        })\n      },\n\n    }\n  </script>\n</config>","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1749823087957\n        var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","<element-header>\n  <div class=\"header-image-container\">\n    <img\n      if={ props.element.image }\n      class=\"header-image no-print\"\n      src=\"{ state.apiHost }{ props.element.image }?time={state.timestamp}\" />\n  </div>\n\n  <div if={ props.previous } class=\"previous no-print\">\n    <a onclick={ registry.application.clickHandler } href={ props.previous }><i class=\"fa-solid fa-circle-arrow-left\"></i></a>\n  </div>\n\n  <div if={ props.next } class=\"next no-print\">\n    <a onclick={ registry.application.clickHandler } href=\"{ props.next }\"><i class=\"fa-solid fa-circle-arrow-right\"></i></a>\n  </div>\n\n  <script>\n    \n  export default {\n    state: {\n      timestamp: Date.now(),\n    },\n\n    setupListener() {\n      this.registry.eventBus.on('imageUploaded', this.reloadImage)\n    },\n\n    reloadImage() {\n      this.update({\n        timestamp: Date.now(),\n      })\n    },\n\n    loadApiUrl() {\n      this.update({\n          apiHost: this.registry.dataStore.getApiHost()\n      })\n    },\n\n    onMounted() {\n      this.loadApiUrl()\n      this.setupListener()\n    },\n  }\n  </script>\n\n  <style>\n    div.edit-entry, div.add-entry {\n        position: absolute;\n        left: 2px;\n        top: 107px;\n    }\n\n    div.add-entry {\n      top: 154px;\n    }\n\n    div.edit-entry a, div.add-entry a {\n      background: white;\n      display: flex;\n      align-content: center;\n      text-align: center;\n      width: 40px;\n      height: 45px;\n      border-radius: 3px;\n      padding: 5px;\n      margin: 0px;\n      font-size: 3rem;\n    }\n\n    div.header-image-container {\n      position: absolute;\n      left: 0;\n      max-width: 112.0rem;\n      width: 100%;\n      z-index: -1;\n      height: 350px;\n      overflow: hidden;\n      border-color: 1px solid grey;\n      border-radius: 3px;\n\n    }    \n\n    img.header-image {\n      width: 100%;\n      margin-top: -30%;\n      border-radius: 3px;\n    }\n\n    .previous {\n      position: absolute;\n      width: 40px;\n      padding-left: 2px;\n      top: 2px;\n      left: 2px;\n      font-size: 3.6rem;\n      z-index: 10;\n      background-color: white;\n      border-radius: 3px;\n      margin: 0px;\n    }\n\n    .next {\n      position: absolute;\n      width: 40px;\n      padding-left: 2px;\n      top: 2px;\n      right: 2px;\n      font-size: 3.6rem;\n      z-index: 10;\n      background-color: white;\n      border-radius: 3px;\n    }\n  </style>\n</element-header>\n","/* Riot WIP, @license MIT */\nimport { isObject } from './checks.js';\n\n/**\n * Helper function to set an immutable property\n * @param   {Object} source - object where the new property will be set\n * @param   {string} key - object key where the new property will be stored\n * @param   {*} value - value of the new property\n * @param   {Object} options - set the property overriding the default options\n * @returns {Object} - the original object modified\n */\nfunction defineProperty(source, key, value, options = {}) {\n  /* eslint-disable fp/no-mutating-methods */\n  Object.defineProperty(source, key, {\n    value,\n    enumerable: false,\n    writable: false,\n    configurable: true,\n    ...options,\n  });\n  /* eslint-enable fp/no-mutating-methods */\n\n  return source\n}\n\n/**\n * Define multiple properties on a target object\n * @param   {Object} source - object where the new properties will be set\n * @param   {Object} properties - object containing as key pair the key + value properties\n * @param   {Object} options - set the property overriding the default options\n * @returns {Object} the original object modified\n */\nfunction defineProperties(source, properties, options) {\n  Object.entries(properties).forEach(([key, value]) => {\n    defineProperty(source, key, value, options);\n  });\n\n  return source\n}\n\n/**\n * Define default properties if they don't exist on the source object\n * @param   {Object} source - object that will receive the default properties\n * @param   {Object} defaults - object containing additional optional keys\n * @returns {Object} the original object received enhanced\n */\nfunction defineDefaults(source, defaults) {\n  Object.entries(defaults).forEach(([key, value]) => {\n    if (!source[key]) source[key] = value;\n  });\n\n  return source\n}\n\n/**\n * Generate a new object picking only the properties from a given array\n * @param {Object} source - target object\n * @param {Array} keys - list of keys that we want to copy over to the new object\n * @return {Object} a new object conaining only the keys that we have picked from the keys array list\n */\nfunction pick(source, keys) {\n  return isObject(source)\n    ? Object.fromEntries(keys.map((key) => [key, source[key]]))\n    : source\n}\n\nexport { defineDefaults, defineProperties, defineProperty, pick };\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1749823087955\n        var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","/* Riot WIP, @license MIT */\n/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nfunction domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (\n      /^\\[object (HTMLCollection|NodeList|Object)\\]$/\n        .test(Object.prototype.toString.call(els))\n        && typeof els.length === 'number'\n    )\n      return Array.from(els)\n    else\n      // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els]\n  }\n  // this object could be looped out of the box\n  return els\n}\n\nexport { domToArray as default };\n","/* Riot WIP, @license MIT */\nimport { VALUE, ATTRIBUTE, REF } from './expression-types.js';\nimport { dashToCamelCase } from './strings.js';\n\n/**\n * Throw an error with a descriptive message\n * @param   { string } message - error message\n * @param   { string } cause - optional error cause object\n * @returns { undefined } hoppla... at this point the program should stop working\n */\nfunction panic(message, cause) {\n  throw new Error(message, { cause })\n}\n/**\n * Returns the memoized (cached) function.\n * // borrowed from https://www.30secondsofcode.org/js/s/memoize\n * @param {Function} fn - function to memoize\n * @returns {Function} memoize function\n */\nfunction memoize(fn) {\n  const cache = new Map();\n  const cached = (val) => {\n    return cache.has(val)\n      ? cache.get(val)\n      : cache.set(val, fn.call(this, val)) && cache.get(val)\n  };\n  cached.cache = cache;\n  return cached\n}\n\n/**\n * Evaluate a list of attribute expressions\n * @param   {Array} attributes - attribute expressions generated by the riot compiler\n * @returns {Object} key value pairs with the result of the computation\n */\nfunction evaluateAttributeExpressions(attributes) {\n  return attributes.reduce((acc, attribute) => {\n    const { value, type } = attribute;\n\n    switch (true) {\n      // ref attributes shouldn't be evaluated in the props\n      case attribute.type === REF:\n        break\n      // spread attribute\n      case !attribute.name && type === ATTRIBUTE:\n        return {\n          ...acc,\n          ...value,\n        }\n      // value attribute\n      case type === VALUE:\n        acc.value = attribute.value;\n        break\n      // normal attributes\n      default:\n        acc[dashToCamelCase(attribute.name)] = attribute.value;\n    }\n\n    return acc\n  }, {})\n}\n\nexport { evaluateAttributeExpressions, memoize, panic };\n","<items>\n    <element-form if={ state.add } type=\"item\" element={ state.emptyItem } onCancel={ toggleAdd } />\n    <element-list elements={ state.items } type=\"item\" add=\"#items/add\" />\n    \n  <script>\n    import  './style.css'\n    import ElementForm from '../../includes/_helper/element-form.riot'\n    import ElementList from '../../includes/_helper/element-list.riot'\n\n    export default {\n      components: {\n        ElementForm,\n        ElementList,\n      },\n\n      state: {\n        add: false,\n        items: [],\n        emptyItem: {\n          name: '',\n          description: '',\n          amount: 1,\n          boxId: 0,\n        }\n      },\n\n      toggleAdd() {\n        window.location.href = '/#items'\n      },\n\n      setupListenter() {\n        let target = this\n        this.registry.eventBus.on('dataItemLoadSuccess', function() {\n          target.loadData()\n        })\n      },\n\n      loadData() {\n        this.update({\n            items: this.registry.dataStore.items.getItems()\n        })\n      },\n\n      onMounted() {\n        this.setupListenter()\n        this.loadData()\n\n        this.update({\n          emptyItem: {\n            image: this.registry.dataStore.defaults.getImages()['item'],\n          }\n        })\n\n        this.update({\n          add: this.props.params[0] == 'add',\n        })\n      }\n    }\n\n  </script>\n\n\n\n</items>","<application>\n  <div if={ state.isLoggedIn }>\n    <navigation application={ this }></navigation>\n\n    <div class=\"clearfix\" />\n    <div class=\"application-body container\">\n      <locations application={ this } params={ state.controller.params } if={ isController('locations') }></locations>\n      <location application={ this } params={ state.controller.params } if={ isController('location') }></location>\n      <boxes application={ this } params={ state.controller.params } if={ isController('boxes') }></boxes>\n      <box application={ this } params={ state.controller.params } if={ isController('box') }></box>\n      <persons application={ this } params={ state.controller.params } if={ isController('persons') }></persons>\n      <person application={ this } params={ state.controller.params } if={ isController('person') }></person>\n      <items application={ this } params={ state.controller.params } if={ isController('items') }></items>\n      <item application={ this } params={ state.controller.params } if={ isController('item') }></item>\n      <search application={ this } params={ state.controller.params } if={ isController('search') }></search>\n      <config application={ this } params={ state.controller.params } if={ isController('config') }></config>\n    </div>\n  </div>\n\n  <div if={ !state.isLoggedIn } class=\"container\">\n    <login></login>\n  </div>\n\n  <script>\n    import './application.css'\n    import Registry from './registry.js'\n    import Navigation from './navigation.riot'\n    import Locations from '../controller/locations/locations.riot'\n    import Location from '../controller/locations/location.riot'\n    import Boxes from '../controller/boxes/boxes.riot'\n    import Box from '../controller/boxes/box.riot'\n    import Persons from '../controller/persons/persons.riot'\n    import Person from '../controller/persons/person.riot'\n    import Items from '../controller/items/items.riot'\n    import Item from '../controller/items/item.riot'\n    import Search from '../controller/search/search.riot'\n    import Config from '../controller/config/config.riot'\n\n    //const isLoggedIn = Login.exports.login()\n    const isLoggedIn = true\n\n    export default {\n      application: this,\n      currentControllerName: false,\n      state: {\n        controller: false,\n        isLoggedIn: isLoggedIn,\n      },\n\n      components: {\n        Navigation,\n        Locations,\n        Location,\n        Boxes,\n        Box,\n        Persons,\n        Person,\n        Items,\n        Item,\n        Search,\n        Config,\n      },\n\n      parseUrl(url = \"localhost#locations\") {\n        let controllerParams = []\n        let controller = 'locations'\n        let urlParts = url.split('#')\n\n        if (urlParts.length > 1) {\n          controller = urlParts[1]\n        }\n\n        let controllerParts = controller.split('/')\n        if (controllerParts.length > 1) {\n          controller = controllerParts[0]\n          controllerParams = controllerParts.splice(1, controllerParts.length)\n        }\n\n        return {\n          name: controller,\n          params: controllerParams\n        }\n      },\n\n      hashChange(e) {\n        // close the burger menu if open\n        if (document.getElementsByClassName('menu-btn')[0].checked) {\n          document.getElementsByClassName('menu-btn')[0].checked = false\n        }\n        if (e.newURL) {\n          this.render(e.newURL)\n        }\n      },\n\n      clickHandler(e) {\n        // close the burger menu if open\n        if (document.getElementsByClassName('menu-btn')[0].checked) {\n          document.getElementsByClassName('menu-btn')[0].checked = false\n        }\n      },\n\n      render(url) {\n        let controller = this.getController(url)\n        \n        if (controller.name == this.getCurrentController()) {\n          this.update({\n            controller: {}\n          })\n        }\n\n        this.currentControllerName = controller.name\n        this.registry.eventBus.trigger('applicationRender')\n\n        this.update({\n          controller: controller\n        })\n      },\n\n      onBeforeMount() {\n        this.registry.application = this\n        window.addEventListener(\"hashchange\", this.hashChange)\n      },\n\n      async onMounted() {\n        let devices = await navigator.mediaDevices.enumerateDevices();\n        this.render(document.URL)\n      },\n\n      getController(url) {\n        return this.parseUrl(url)\n      },\n\n      isController(controllerName) {\n        return this.state.controller.name == controllerName\n      },\n\n      getCurrentController() {\n        return this.currentControllerName\n      },\n    }\n  </script>\n</application>\n","<element-list class=\"no-print\">\n    <div class=\"clearfix\"></div>\n    <div if={ props.add } class=\"add-entry no-print\">\n      <a onclick={ registry.application.clickHandler } href=\"{ props.add }\"><i class=\"fa fa-plus\"></i></a>\n    </div>\n\n    <h2>\n      <i if={ props.type == 'item' } class=\"fa-solid fa-screwdriver-wrench\"></i>\n      <i if={ props.type == 'box' } class=\"fa-solid fa-boxes-stacked\"></i>\n      <i if={ props.type == 'person' } class=\"fa-solid fa-person\"></i>\n      <i if={ props.type == 'location' } class=\"fa-solid fa-location-dot\"></i>\n      { props.elements.length }\n      <span if={ props.type == 'item' }> Items</span>\n      <span if={ props.type == 'box' }> Boxes</span>\n      <span if={ props.type == 'person' }> Persons</span>\n      <span if={ props.type == 'location' }> Locations</span>\n    </h2>\n\n    <div if={ state.listView == 'image' }>\n      <a style=\"background-image: url('{state.apiUrl}{element.image}')\" class=\"image-list\" each={ element in props.elements } key={ element.id }  onclick={ registry.application.clickHandler } href=\"#{props.type}/{ element.id }\">\n        <div>\n          <i if={ props.type == 'item' } class=\"fa-solid fa-screwdriver-wrench\"></i>\n          <i if={ props.type == 'box' } class=\"fa-solid fa-boxes-stacked\"></i>\n          <i if={ props.type == 'location' } class=\"fa-solid fa-location-dot\"></i>\n          <i if={ props.type == 'person' } class=\"fa-solid fa-person\"></i>\n          { element.name }\n        </div>\n      </a>\n      <div class=\"clearfix last\"></div>\n    </div>\n\n\n    <table if={ state.listView == 'list' }>\n      <tbody>\n        <tr each={ element in props.elements } key={ element.id }>\n          <td>\n            <a onclick={ registry.application.clickHandler } href=\"#{props.type}/{ element.id }\">{ element.name }</a>\n          </td>\n          <td class=\"description\">{ element.description }</td>\n          <td if={ props.type == 'item' } class=\"length\">{ element.amount }</td>\n          <td if={ props.type == 'box' } class=\"length\">{ element.lenItems }</td>\n          <td if={ props.type == 'location' || props.type == 'person' } class=\"length\">{ element.lenBoxes }</td>\n        </tr>\n      </tbody>\n    </table>\n\n  <script>\n    export default {\n      state: {\n        apiUrl: window.localStorage.getItem(\"apiUrl\"),\n        listView: window.localStorage.getItem(\"listView\"),\n      },\n    }\n  </script>\n\n  <style>\n\n    element-list {\n      display: block;\n      background-color: white;\n      padding: 10px;\n      border-radius: 3px;\n    }\n\n    div.add-entry {\n        position: absolute;\n        right: 40px;\n        top: 10px !important;\n    }\n\n\n    div.add-entry a {\n      background: white;\n      display: flex;\n      align-content: center;\n      text-align: center;\n      width: 40px;\n      height: 45px;\n      border-radius: 3px;\n      padding: 5px;\n      margin: 0px;\n      font-size: 3rem;\n    }\n\n    .image-list {\n      width: 140px;\n      height: 140px;\n      margin: 5px;\n      padding: 5px;\n      float: left;\n      /*border: 1px solid red;*/\n      border-radius: 3px;\n      background-size: 140px 140px;\n    }\n\n    .image-list div {\n      padding: 2px;\n      font-size: small;\n      background-color: #FFFFFF;\n      border-radius: 3px;\n      text-overflow: ellipsis;\n    }\n\n    .image-list div i {\n      margin-right: 3px;\n    }\n\n    .last {\n      margin-bottom: 10px;\n    }\n  </style>\n\n\n\n</element-list>","/* Riot WIP, @license MIT */\n// Riot.js constants that can be used across more modules\n\nconst COMPONENTS_IMPLEMENTATION_MAP = new Map(),\n  DOM_COMPONENT_INSTANCE_PROPERTY = Symbol('riot-component'),\n  PLUGINS_SET = new Set(),\n  IS_DIRECTIVE = 'is',\n  MOUNT_METHOD_KEY = 'mount',\n  UPDATE_METHOD_KEY = 'update',\n  UNMOUNT_METHOD_KEY = 'unmount',\n  SHOULD_UPDATE_KEY = 'shouldUpdate',\n  ON_BEFORE_MOUNT_KEY = 'onBeforeMount',\n  ON_MOUNTED_KEY = 'onMounted',\n  ON_BEFORE_UPDATE_KEY = 'onBeforeUpdate',\n  ON_UPDATED_KEY = 'onUpdated',\n  ON_BEFORE_UNMOUNT_KEY = 'onBeforeUnmount',\n  ON_UNMOUNTED_KEY = 'onUnmounted',\n  PROPS_KEY = 'props',\n  STATE_KEY = 'state',\n  SLOTS_KEY = 'slots',\n  ROOT_KEY = 'root',\n  IS_PURE_SYMBOL = Symbol('pure'),\n  IS_COMPONENT_UPDATING = Symbol('is_updating'),\n  PARENT_KEY_SYMBOL = Symbol('parent'),\n  ATTRIBUTES_KEY_SYMBOL = Symbol('attributes'),\n  TEMPLATE_KEY_SYMBOL = Symbol('template');\n\nexport { ATTRIBUTES_KEY_SYMBOL, COMPONENTS_IMPLEMENTATION_MAP, DOM_COMPONENT_INSTANCE_PROPERTY, IS_COMPONENT_UPDATING, IS_DIRECTIVE, IS_PURE_SYMBOL, MOUNT_METHOD_KEY, ON_BEFORE_MOUNT_KEY, ON_BEFORE_UNMOUNT_KEY, ON_BEFORE_UPDATE_KEY, ON_MOUNTED_KEY, ON_UNMOUNTED_KEY, ON_UPDATED_KEY, PARENT_KEY_SYMBOL, PLUGINS_SET, PROPS_KEY, ROOT_KEY, SHOULD_UPDATE_KEY, SLOTS_KEY, STATE_KEY, TEMPLATE_KEY_SYMBOL, UNMOUNT_METHOD_KEY, UPDATE_METHOD_KEY };\n","<persons>\n  <element-form if={ state.add } type=\"person\" element={ state.emptyPerson } onCancel={ toggleAdd } />\n  <element-list elements={ state.persons } type=\"person\" add=\"#persons/add\" />\n\n  <script>\n    import ElementForm from '../../includes/_helper/element-form.riot'\n    import ElementList from '../../includes/_helper/element-list.riot'\n\n    export default {\n      components: {\n        ElementForm,\n        ElementList,\n      },\n      state: {\n        add: false,\n        persons: [],\n        emptyPerson: {\n          name: '',\n          description: '',\n        }\n      },\n\n      toggleAdd() {\n        window.location.href = '/#persons'\n      },\n\n      setupListenter() {\n        let target = this\n        this.registry.eventBus.on('dataPersonLoadSuccess', function() {\n          target.loadData()\n        })\n      },\n\n      loadData() {\n        this.update({\n            persons: this.registry.dataStore.persons.getPersons()\n        })\n      },\n\n      onMounted() {\n        this.setupListenter()\n        this.loadData()\n\n        this.update({\n          emptyPerson: {\n            image: this.registry.dataStore.defaults.getImages()['person'],\n          }\n        })\n\n        this.update({\n          add: this.props.params[0] == 'add',\n        })\n      }\n    }\n  </script>\n</persons>","/* Riot WIP, @license MIT */\nimport { isFunction } from './checks.js';\n\n// does simply nothing\nfunction noop() {\n  return this\n}\n\n/**\n * Autobind the methods of a source object to itself\n * @param   {Object} source - probably a riot tag instance\n * @param   {Array<string>} methods - list of the methods to autobind\n * @returns {Object} the original object received\n */\nfunction autobindMethods(source, methods) {\n  methods.forEach((method) => {\n    source[method] = source[method].bind(source);\n  });\n\n  return source\n}\n\n/**\n * Call the first argument received only if it's a function otherwise return it as it is\n * @param   {*} source - anything\n * @returns {*} anything\n */\nfunction callOrAssign(source) {\n  return isFunction(source)\n    ? source.prototype && source.prototype.constructor\n      ? new source()\n      : source()\n    : source\n}\n\nexport { autobindMethods, callOrAssign, noop };\n","/* Riot v9.4.9, @license MIT */\nimport { UNMOUNT_METHOD_KEY, UPDATE_METHOD_KEY, MOUNT_METHOD_KEY } from '../dependencies/@riotjs/util/constants.js';\nimport { removeChild, cleanNode } from '../dependencies/@riotjs/util/dom.js';\nimport { noop } from '../dependencies/@riotjs/util/functions.js';\n\n// Components without template use a mocked template interface with some basic functionalities to\n// guarantee consistent rendering behaviour see https://github.com/riot/riot/issues/2984\nconst MOCKED_TEMPLATE_INTERFACE = {\n  [MOUNT_METHOD_KEY](el) {\n    this.el = el;\n  },\n  [UPDATE_METHOD_KEY]: noop,\n  [UNMOUNT_METHOD_KEY](_, __, mustRemoveRoot = false) {\n    if (mustRemoveRoot) removeChild(this.el);\n    else if (!mustRemoveRoot) cleanNode(this.el);\n  },\n  clone() {\n    return { ...this }\n  },\n  createDOM: noop,\n};\n\nexport { MOCKED_TEMPLATE_INTERFACE };\n","/* Riot v9.4.9, @license MIT */\nimport { UNMOUNT_METHOD_KEY, UPDATE_METHOD_KEY, MOUNT_METHOD_KEY } from '../dependencies/@riotjs/util/constants.js';\nimport { noop } from '../dependencies/@riotjs/util/functions.js';\n\nconst PURE_COMPONENT_API = Object.freeze({\n  [MOUNT_METHOD_KEY]: noop,\n  [UPDATE_METHOD_KEY]: noop,\n  [UNMOUNT_METHOD_KEY]: noop,\n});\n\nexport { PURE_COMPONENT_API };\n","/* Riot v9.4.9, @license MIT */\nimport { DOM_COMPONENT_INSTANCE_PROPERTY } from '../dependencies/@riotjs/util/constants.js';\n\n/**\n * Bind a DOM node to its component object\n * @param   {HTMLElement} node - html node mounted\n * @param   {Object} component - Riot.js component object\n * @returns {Object} the component object received as second argument\n */\nconst bindDOMNodeToComponentInstance = (node, component) =>\n  (node[DOM_COMPONENT_INSTANCE_PROPERTY] = component);\n\nexport { bindDOMNodeToComponentInstance };\n","/* Riot v9.4.9, @license MIT */\nimport { MOUNT_METHOD_KEY, UPDATE_METHOD_KEY, UNMOUNT_METHOD_KEY } from '../dependencies/@riotjs/util/constants.js';\n\n/**\n * Wrap the Riot.js core API methods using a mapping function\n * @param   {Function} mapFunction - lifting function\n * @returns {Object} an object having the { mount, update, unmount } functions\n */\nfunction createCoreAPIMethods(mapFunction) {\n  return [MOUNT_METHOD_KEY, UPDATE_METHOD_KEY, UNMOUNT_METHOD_KEY].reduce(\n    (acc, method) => {\n      acc[method] = mapFunction(method);\n\n      return acc\n    },\n    {},\n  )\n}\n\nexport { createCoreAPIMethods };\n","/* Riot v9.4.9, @license MIT */\nimport $ from '../dependencies/bianco.query/index.next.js';\n\nconst COMPONENT_DOM_SELECTORS = Object.freeze({\n  // component helpers\n  $(selector) {\n    return $(selector, this.root)[0]\n  },\n  $$(selector) {\n    return $(selector, this.root)\n  },\n});\n\nexport { COMPONENT_DOM_SELECTORS };\n","/* Riot v9.4.9, @license MIT */\nimport { ON_UNMOUNTED_KEY, ON_BEFORE_UNMOUNT_KEY, ON_UPDATED_KEY, ON_BEFORE_UPDATE_KEY, ON_MOUNTED_KEY, ON_BEFORE_MOUNT_KEY, SHOULD_UPDATE_KEY } from '../dependencies/@riotjs/util/constants.js';\nimport { noop } from '../dependencies/@riotjs/util/functions.js';\n\nconst COMPONENT_LIFECYCLE_METHODS = Object.freeze({\n  [SHOULD_UPDATE_KEY]: noop,\n  [ON_BEFORE_MOUNT_KEY]: noop,\n  [ON_MOUNTED_KEY]: noop,\n  [ON_BEFORE_UPDATE_KEY]: noop,\n  [ON_UPDATED_KEY]: noop,\n  [ON_BEFORE_UNMOUNT_KEY]: noop,\n  [ON_UNMOUNTED_KEY]: noop,\n});\n\nexport { COMPONENT_LIFECYCLE_METHODS };\n","/* Riot WIP, @license MIT */\n/**\n * Function to curry any javascript method\n * @param   {Function}  fn - the target function we want to curry\n * @param   {...[args]} acc - initial arguments\n * @returns {Function|*} it will return a function until the target function\n *                       will receive all of its arguments\n */\nfunction curry(fn, ...acc) {\n  return (...args) => {\n    args = [...acc, ...args];\n\n    return args.length < fn.length ?\n      curry(fn, ...args) :\n      fn(...args)\n  }\n}\n\nexport { curry as default };\n","/* Riot v9.4.9, @license MIT */\nimport { callOrAssign } from '../dependencies/@riotjs/util/functions.js';\n\n/**\n * Compute the component current state merging it with its previous state\n * @param   {Object} oldState - previous state object\n * @param   {Object} newState - new state given to the `update` call\n * @returns {Object} new object state\n */\nfunction computeComponentState(oldState, newState) {\n  return {\n    ...oldState,\n    ...callOrAssign(newState),\n  }\n}\n\nexport { computeComponentState };\n","/* Riot v9.4.9, @license MIT */\nimport { DOMattributesToObject } from '../dependencies/@riotjs/util/dom.js';\nimport { callOrAssign } from '../dependencies/@riotjs/util/functions.js';\n\n/**\n * Evaluate the component properties either from its real attributes or from its initial user properties\n * @param   {HTMLElement} element - component root\n * @param   {Object}  initialProps - initial props\n * @returns {Object} component props key value pairs\n */\nfunction computeInitialProps(element, initialProps = {}) {\n  return {\n    ...DOMattributesToObject(element),\n    ...callOrAssign(initialProps),\n  }\n}\n\nexport { computeInitialProps };\n","/* Riot v9.4.9, @license MIT */\nimport '../dependencies/@riotjs/dom-bindings/dist/dom-bindings.js';\nimport expressionTypes from '../dependencies/@riotjs/util/expression-types.js';\nimport { memoize } from '../dependencies/@riotjs/util/misc.js';\n\n/**\n * Get the computed attribute names from the template instance\n * Since these attributes will not change we memoize the result of this computation\n * @param {TemplateChunk} template - template instance\n * @return {[]} list of attribute names that will be computed by the template expressions\n */\nconst getRootComputedAttributeNames = memoize((template) => {\n  const firstBinding = template?.bindingsData?.[0];\n\n  // if the first binding has the selector attribute it means that it doesn't belong to the root node\n  if (firstBinding?.selector) return []\n\n  return (\n    firstBinding?.expressions?.reduce(\n      (acc, { name, type }) =>\n        type === expressionTypes.ATTRIBUTE ? acc.concat([name]) : acc,\n      [],\n    ) ?? []\n  )\n});\n\nexport { getRootComputedAttributeNames };\n","/* Riot v9.4.9, @license MIT */\nimport { isFunction, isObject } from '../dependencies/@riotjs/util/checks.js';\nimport { ON_BEFORE_UNMOUNT_KEY, PROPS_KEY, STATE_KEY, ATTRIBUTES_KEY_SYMBOL, TEMPLATE_KEY_SYMBOL, PARENT_KEY_SYMBOL, ON_UNMOUNTED_KEY, ROOT_KEY, SHOULD_UPDATE_KEY, ON_BEFORE_UPDATE_KEY, IS_COMPONENT_UPDATING, ON_UPDATED_KEY, IS_PURE_SYMBOL, SLOTS_KEY, ON_BEFORE_MOUNT_KEY, ON_MOUNTED_KEY, IS_DIRECTIVE } from '../dependencies/@riotjs/util/constants.js';\nimport { DOMattributesToObject } from '../dependencies/@riotjs/util/dom.js';\nimport { autobindMethods } from '../dependencies/@riotjs/util/functions.js';\nimport { evaluateAttributeExpressions } from '../dependencies/@riotjs/util/misc.js';\nimport { defineProperties, defineProperty, pick } from '../dependencies/@riotjs/util/objects.js';\nimport { addCssHook } from './add-css-hook.js';\nimport { bindDOMNodeToComponentInstance } from './bind-dom-node-to-component-instance.js';\nimport { computeComponentState } from './compute-component-state.js';\nimport { computeInitialProps } from './compute-initial-props.js';\nimport { createAttributeBindings } from './create-attribute-bindings.js';\nimport { runPlugins } from './run-plugins.js';\nimport { getRootComputedAttributeNames } from '../utils/get-root-computed-attribute-names.js';\n\n/**\n * Component creation factory function that will enhance the user provided API\n * @param   {Object} component - a component implementation previously defined\n * @param   {Array} options.slots - component slots generated via riot compiler\n * @param   {Array} options.attributes - attribute expressions generated via riot compiler\n * @returns {Riot.Component} a riot component instance\n */\nfunction manageComponentLifecycle(\n  component,\n  { slots, attributes, props },\n) {\n  return autobindMethods(\n    runPlugins(\n      defineProperties(\n        isObject(component) ? Object.create(component) : component,\n        {\n          mount(element, state = {}, parentScope) {\n            // any element mounted passing through this function can't be a pure component\n            defineProperty(element, IS_PURE_SYMBOL, false);\n            this[PARENT_KEY_SYMBOL] = parentScope;\n            this[ATTRIBUTES_KEY_SYMBOL] = createAttributeBindings(\n              element,\n              attributes,\n            ).mount(parentScope);\n\n            defineProperty(\n              this,\n              PROPS_KEY,\n              Object.freeze({\n                ...computeInitialProps(element, props),\n                ...evaluateAttributeExpressions(\n                  this[ATTRIBUTES_KEY_SYMBOL].expressions,\n                ),\n              }),\n            );\n\n            this[STATE_KEY] = computeComponentState(this[STATE_KEY], state);\n            this[TEMPLATE_KEY_SYMBOL] = this.template.createDOM(element).clone();\n\n            // link this object to the DOM node\n            bindDOMNodeToComponentInstance(element, this);\n            // add eventually the 'is' attribute\n            component.name && addCssHook(element, component.name);\n\n            // define the root element\n            defineProperty(this, ROOT_KEY, element);\n            // define the slots array\n            defineProperty(this, SLOTS_KEY, slots);\n\n            // before mount lifecycle event\n            this[ON_BEFORE_MOUNT_KEY](this[PROPS_KEY], this[STATE_KEY]);\n            // mount the template\n            this[TEMPLATE_KEY_SYMBOL].mount(element, this, parentScope);\n            this[ON_MOUNTED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n\n            return this\n          },\n          update(state = {}, parentScope) {\n            if (parentScope) {\n              this[PARENT_KEY_SYMBOL] = parentScope;\n              this[ATTRIBUTES_KEY_SYMBOL].update(parentScope);\n            }\n\n            // get the attribute names that don't belong to the the props object\n            // this will avoid recursive props rendering https://github.com/riot/riot/issues/2994\n            const computedAttributeNames = getRootComputedAttributeNames(\n              this[TEMPLATE_KEY_SYMBOL],\n            );\n            // filter out the computed attributes from the root node\n            const staticRootAttributes = Array.from(\n              this[ROOT_KEY].attributes,\n            ).filter(({ name }) => !computedAttributeNames.includes(name));\n\n            // evaluate the value of the static dom attributes\n            const domNodeAttributes = DOMattributesToObject({\n              attributes: staticRootAttributes,\n            });\n\n            // Avoid adding the riot \"is\" directives to the component props\n            // eslint-disable-next-line no-unused-vars\n            const { [IS_DIRECTIVE]: _, ...newProps } = {\n              ...domNodeAttributes,\n              ...evaluateAttributeExpressions(\n                this[ATTRIBUTES_KEY_SYMBOL].expressions,\n              ),\n            };\n            if (this[SHOULD_UPDATE_KEY](newProps, this[PROPS_KEY]) === false)\n              return\n\n            defineProperty(\n              this,\n              PROPS_KEY,\n              Object.freeze({\n                // only root components will merge their initial props with the new ones\n                // children components will just get them overridden see also https://github.com/riot/riot/issues/2978\n                ...(parentScope\n                  ? pick(this[PROPS_KEY], computedAttributeNames)\n                  : this[PROPS_KEY]),\n                ...newProps,\n              }),\n            );\n\n            this[STATE_KEY] = computeComponentState(this[STATE_KEY], state);\n\n            this[ON_BEFORE_UPDATE_KEY](this[PROPS_KEY], this[STATE_KEY]);\n\n            // avoiding recursive updates\n            // see also https://github.com/riot/riot/issues/2895\n            if (!this[IS_COMPONENT_UPDATING]) {\n              this[IS_COMPONENT_UPDATING] = true;\n              this[TEMPLATE_KEY_SYMBOL].update(this, this[PARENT_KEY_SYMBOL]);\n            }\n\n            this[ON_UPDATED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n            this[IS_COMPONENT_UPDATING] = false;\n\n            return this\n          },\n          unmount(preserveRoot) {\n            this[ON_BEFORE_UNMOUNT_KEY](this[PROPS_KEY], this[STATE_KEY]);\n            this[ATTRIBUTES_KEY_SYMBOL].unmount();\n            // if the preserveRoot is null the template html will be left untouched\n            // in that case the DOM cleanup will happen differently from a parent node\n            this[TEMPLATE_KEY_SYMBOL].unmount(\n              this,\n              this[PARENT_KEY_SYMBOL],\n              preserveRoot === null ? null : !preserveRoot,\n            );\n            this[ON_UNMOUNTED_KEY](this[PROPS_KEY], this[STATE_KEY]);\n\n            return this\n          },\n        },\n      ),\n    ),\n    Object.keys(component).filter((prop) => isFunction(component[prop])),\n  )\n}\n\nexport { manageComponentLifecycle };\n","/* Riot v9.4.9, @license MIT */\nimport { PLUGINS_SET } from '../dependencies/@riotjs/util/constants.js';\n\n/**\n * Run the component instance through all the plugins set by the user\n * @param   {Object} component - component instance\n * @returns {Object} the component enhanced by the plugins\n */\nfunction runPlugins(component) {\n  return [...PLUGINS_SET].reduce((c, fn) => fn(c) || c, component)\n}\n\nexport { runPlugins };\n","/* Riot v9.4.9, @license MIT */\nimport { createCoreAPIMethods } from './create-core-api-methods.js';\nimport { createExpression as create$4 } from '../dependencies/@riotjs/dom-bindings/dist/dom-bindings.js';\n\n/**\n * Create the bindings to update the component attributes\n * @param   {HTMLElement} node - node where we will bind the expressions\n * @param   {Array} attributes - list of attribute bindings\n * @returns {TemplateChunk} - template bindings object\n */\nfunction createAttributeBindings(node, attributes = []) {\n  const expressions = attributes.map((a) => create$4(node, a));\n  const binding = {};\n\n  return Object.assign(binding, {\n    expressions,\n    ...createCoreAPIMethods((method) => (scope) => {\n      expressions.forEach((e) => e[method](scope));\n\n      return binding\n    }),\n  })\n}\n\nexport { createAttributeBindings };\n","/* Riot v9.4.9, @license MIT */\nimport { IS_DIRECTIVE } from '../dependencies/@riotjs/util/constants.js';\nimport { getName } from '../utils/dom.js';\nimport { set } from '../dependencies/bianco.attr/index.next.js';\n\n/**\n * Add eventually the \"is\" attribute to link this DOM node to its css\n * @param {HTMLElement} element - target root node\n * @param {string} name - name of the component mounted\n * @returns {undefined} it's a void function\n */\n\nfunction addCssHook(element, name) {\n  if (getName(element) !== name) {\n    set(element, IS_DIRECTIVE, name);\n  }\n}\n\nexport { addCssHook };\n","/* Riot v9.4.9, @license MIT */\nimport { IS_DIRECTIVE } from '../dependencies/@riotjs/util/constants.js';\nimport { get } from '../dependencies/bianco.attr/index.next.js';\n\n/**\n * Get the tag name of any DOM node\n * @param   {HTMLElement} element - DOM node we want to inspect\n * @returns {string} name to identify this dom node in riot\n */\nfunction getName(element) {\n  return get(element, IS_DIRECTIVE) || element.tagName.toLowerCase()\n}\n\nexport { getName };\n","/* Riot v9.4.9, @license MIT */\nimport { ROOT_KEY, SLOTS_KEY, STATE_KEY, PROPS_KEY } from '../dependencies/@riotjs/util/constants.js';\nimport { defineProperties, defineDefaults } from '../dependencies/@riotjs/util/objects.js';\nimport { COMPONENT_DOM_SELECTORS } from './component-dom-selectors.js';\nimport { COMPONENT_LIFECYCLE_METHODS } from './component-lifecycle-methods.js';\nimport cssManager from './css-manager.js';\nimport curry from '../dependencies/curri/index.js';\nimport { manageComponentLifecycle } from './manage-component-lifecycle.js';\n\n/**\n * Component definition function\n * @param   {Object} implementation - the component implementation will be generated via compiler\n * @param   {Object} component - the component initial properties\n * @returns {Object} a new component implementation object\n */\nfunction instantiateComponent({ css, template, componentAPI, name }) {\n  // add the component css into the DOM\n  if (css && name) cssManager.add(name, css);\n\n  return curry(manageComponentLifecycle)(\n    defineProperties(\n      // set the component defaults without overriding the original component API\n      defineDefaults(componentAPI, {\n        ...COMPONENT_LIFECYCLE_METHODS,\n        [PROPS_KEY]: {},\n        [STATE_KEY]: {},\n      }),\n      {\n        // defined during the component creation\n        [SLOTS_KEY]: null,\n        [ROOT_KEY]: null,\n        // these properties should not be overriden\n        ...COMPONENT_DOM_SELECTORS,\n        name,\n        css,\n        template,\n      },\n    ),\n  )\n}\n\nexport { instantiateComponent };\n","/* Riot v9.4.9, @license MIT */\nimport { IS_PURE_SYMBOL, COMPONENTS_IMPLEMENTATION_MAP } from '../dependencies/@riotjs/util/constants.js';\nimport { camelToDashCase } from '../dependencies/@riotjs/util/strings.js';\nimport { callOrAssign } from '../dependencies/@riotjs/util/functions.js';\nimport { memoize } from '../dependencies/@riotjs/util/misc.js';\nimport { MOCKED_TEMPLATE_INTERFACE } from './mocked-template-interface.js';\nimport { componentTemplateFactory } from './component-template-factory.js';\nimport { createPureComponent } from './create-pure-component.js';\nimport { instantiateComponent } from './instantiate-component.js';\n\n/**\n * Create the subcomponents that can be included inside a tag in runtime\n * @param   {Object} components - components imported in runtime\n * @returns {Object} all the components transformed into Riot.Component factory functions\n */\nfunction createChildrenComponentsObject(components = {}) {\n  return Object.entries(callOrAssign(components)).reduce(\n    (acc, [key, value]) => {\n      acc[camelToDashCase(key)] = createComponentFromWrapper(value);\n      return acc\n    },\n    {},\n  )\n}\n\n/**\n * Create the getter function to render the child components\n * @param   {RiotComponentWrapper} componentWrapper - riot compiler generated object\n * @returns {Function} function returning the component factory function\n */\nconst createChildComponentGetter = (componentWrapper) => {\n  const childrenComponents = createChildrenComponentsObject(\n    componentWrapper.exports ? componentWrapper.exports.components : {},\n  );\n\n  return (name) => {\n    // improve support for recursive components\n    if (name === componentWrapper.name)\n      return memoizedCreateComponentFromWrapper(componentWrapper)\n    // return the registered components\n    return childrenComponents[name] || COMPONENTS_IMPLEMENTATION_MAP.get(name)\n  }\n};\n\n/**\n * Performance optimization for the recursive components\n * @param  {RiotComponentWrapper} componentWrapper - riot compiler generated object\n * @returns {Object} component like interface\n */\nconst memoizedCreateComponentFromWrapper = memoize(createComponentFromWrapper);\n\n/**\n * Create the component interface needed for the @riotjs/dom-bindings tag bindings\n * @param   {RiotComponentWrapper} componentWrapper - riot compiler generated object\n * @param   {string} componentWrapper.css - component css\n * @param   {Function} componentWrapper.template - function that will return the dom-bindings template function\n * @param   {Object} componentWrapper.exports - component interface\n * @param   {string} componentWrapper.name - component name\n * @returns {Object} component like interface\n */\nfunction createComponentFromWrapper(componentWrapper) {\n  const { css, template, exports, name } = componentWrapper;\n  const templateFn = template\n    ? componentTemplateFactory(\n        template,\n        componentWrapper,\n        createChildComponentGetter(componentWrapper),\n      )\n    : MOCKED_TEMPLATE_INTERFACE;\n\n  return ({ slots, attributes, props }) => {\n    // pure components rendering will be managed by the end user\n    if (exports && exports[IS_PURE_SYMBOL])\n      return createPureComponent(exports, {\n        slots,\n        attributes,\n        props,\n        css,\n        template,\n      })\n\n    const componentAPI = callOrAssign(exports) || {};\n\n    const component = instantiateComponent({\n      css,\n      template: templateFn,\n      componentAPI,\n      name,\n    })({ slots, attributes, props });\n\n    // notice that for the components created via tag binding\n    // we need to invert the mount (state/parentScope) arguments\n    // the template bindings will only forward the parentScope updates\n    // and never deal with the component state\n    return {\n      mount(element, parentScope, state) {\n        return component.mount(element, state, parentScope)\n      },\n      update(parentScope, state) {\n        return component.update(state, parentScope)\n      },\n      unmount(preserveRoot) {\n        return component.unmount(preserveRoot)\n      },\n    }\n  }\n}\n\nexport { createComponentFromWrapper };\n","/* Riot v9.4.9, @license MIT */\nimport { template as create } from '../dependencies/@riotjs/dom-bindings/dist/dom-bindings.js';\nimport expressionTypes from '../dependencies/@riotjs/util/expression-types.js';\nimport bindingTypes from '../dependencies/@riotjs/util/binding-types.js';\n\n/**\n * Factory function to create the component templates only once\n * @param   {Function} template - component template creation function\n * @param   {RiotComponentWrapper} componentWrapper - riot compiler generated object\n * @param   {Function} getChildComponent - getter function to return the children components\n * @returns {TemplateChunk} template chunk object\n */\nfunction componentTemplateFactory(\n  template,\n  componentWrapper,\n  getChildComponent,\n) {\n  return template(\n    create,\n    expressionTypes,\n    bindingTypes,\n    getChildComponent,\n  )\n}\n\nexport { componentTemplateFactory };\n","/* Riot v9.4.9, @license MIT */\nimport { MOUNT_METHOD_KEY, IS_PURE_SYMBOL } from '../dependencies/@riotjs/util/constants.js';\nimport { panic } from '../dependencies/@riotjs/util/misc.js';\nimport { defineDefaults, defineProperty } from '../dependencies/@riotjs/util/objects.js';\nimport { PURE_COMPONENT_API } from './pure-component-api.js';\nimport { bindDOMNodeToComponentInstance } from './bind-dom-node-to-component-instance.js';\nimport { createCoreAPIMethods } from './create-core-api-methods.js';\n\n/**\n * Create a pure component\n * @param   {Function} pureFactoryFunction - pure component factory function\n * @param   {Array} options.slots - component slots\n * @param   {Array} options.attributes - component attributes\n * @param   {Array} options.template - template factory function\n * @param   {Array} options.template - template factory function\n * @param   {any} options.props - initial component properties\n * @returns {Object} pure component object\n */\nfunction createPureComponent(\n  pureFactoryFunction,\n  { slots, attributes, props, css, template },\n) {\n  if (template) panic('Pure components can not have html');\n  if (css) panic('Pure components do not have css');\n\n  const component = defineDefaults(\n    pureFactoryFunction({ slots, attributes, props }),\n    PURE_COMPONENT_API,\n  );\n\n  return createCoreAPIMethods((method) => (...args) => {\n    // intercept the mount calls to bind the DOM node to the pure object created\n    // see also https://github.com/riot/riot/issues/2806\n    if (method === MOUNT_METHOD_KEY) {\n      const [element] = args;\n      // mark this node as pure element\n      defineProperty(element, IS_PURE_SYMBOL, true);\n      bindDOMNodeToComponentInstance(element, component);\n    }\n\n    component[method](...args);\n\n    return component\n  })\n}\n\nexport { createPureComponent };\n","/* Riot v9.4.9, @license MIT */\nimport compose from '../dependencies/cumpa/index.js';\nimport { createComponentFromWrapper } from '../core/create-component-from-wrapper.js';\n\n/**\n * Helper method to create component without relying on the registered ones\n * @param   {Object} implementation - component implementation\n * @returns {Function} function that will allow you to mount a riot component on a DOM node\n */\nfunction component(implementation) {\n  return (el, props, { slots, attributes, parentScope } = {}) =>\n    compose(\n      (c) => c.mount(el, parentScope),\n      (c) => c({ props, slots, attributes }),\n      createComponentFromWrapper,\n    )(implementation)\n}\n\nexport { component };\n","/* Riot WIP, @license MIT */\n/**\n * Similar to compose but performs from left-to-right function composition.<br/>\n * {@link https://30secondsofcode.org/function#composeright see also}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n\n/**\n * Performs right-to-left function composition.<br/>\n * Use Array.prototype.reduce() to perform right-to-left function composition.<br/>\n * The last (rightmost) function can accept one or more arguments; the remaining functions must be unary.<br/>\n * {@link https://30secondsofcode.org/function#compose original source code}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\nfunction compose(...fns) {\n  return fns.reduce((f, g) => (...args) => f(g(...args)))\n}\n\nexport { compose as default };\n","/* Riot WIP, @license MIT */\n/**\n * Quick type checking\n * @param   {*} element - anything\n * @param   {string} type - type definition\n * @returns {boolean} true if the type corresponds\n */\nfunction checkType(element, type) {\n  return typeof element === type\n}\n\n/**\n * Check if an element is part of an svg\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if we are in an svg context\n */\nfunction isSvg(el) {\n  const owner = el.ownerSVGElement;\n\n  return !!owner || owner === null\n}\n\n/**\n * Check if an element is a template tag\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if it's a <template>\n */\nfunction isTemplate(el) {\n  return el.tagName.toLowerCase() === 'template'\n}\n\n/**\n * Check that will be passed if its argument is a function\n * @param   {*} value - value to check\n * @returns {boolean} - true if the value is a function\n */\nfunction isFunction(value) {\n  return checkType(value, 'function')\n}\n\n/**\n * Check if a value is a Boolean\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is a boolean\n */\nfunction isBoolean(value) {\n  return checkType(value, 'boolean')\n}\n\n/**\n * Check if a value is an Object\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is an object\n */\nfunction isObject(value) {\n  return !isNil(value) && value.constructor === Object\n}\n\n/**\n * Check if a value is null or undefined\n * @param   {*}  value - anything\n * @returns {boolean} true only for the 'undefined' and 'null' types\n */\nfunction isNil(value) {\n  return value === null || value === undefined\n}\n\nexport { checkType, isBoolean, isFunction, isNil, isObject, isSvg, isTemplate };\n","let instance;\n\nclass Registry {\n  properties = {\n    'application': false,\n    'eventBus': false,\n    'dataStore': false,\n    'test': false,\n  }\n\n  constructor() {\n    if (instance) {\n      throw new Error(\"New instance cannot be created!!\")\n    }\n\n    instance = this;\n  }\n\n\n\n  set test(value) {\n    this.properties['test'] = value\n  }\n  get test() {\n    return this.properties['test']\n  }\n\n\n  set application(value) {\n    this.properties['application'] = value\n  }\n  get application() {\n    return this.properties['application']\n  }\n\n  set dataStore(value) {\n    this.properties['dataStore'] = value\n  }\n  get dataStore() {\n    return this.properties['dataStore']\n  }\n\n  set eventBus(value) {\n    this.properties['eventBus'] = value\n  }\n  get eventBus() {\n    return this.properties['eventBus']\n  }\n\n\n}\n\nlet registryInstance = Object.freeze(new Registry())\n\nexport default registryInstance","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1749823087960\n        var cssReload = require(\"../../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","<boxes>\n  <element-form if={ state.add } type=\"box\" element={ state.emptyBox } onCancel={ toggleAdd } />\n  <element-list elements={ state.boxes } type=\"box\" add=\"#boxes/add\" />\n    \n  <script>\n    import  './style.css'\n    import ElementForm from '../../includes/_helper/element-form.riot'\n    import ElementList from '../../includes/_helper/element-list.riot'\n\n    export default {\n      components: {\n        ElementForm,\n        ElementList,\n      },\n\n      state: {\n        add: false,\n        boxes: [],\n        persons: [],\n        emptyBox: {\n          name: '',\n          description: '',\n          parentLocationId: 0,\n          boxId: 0,\n        }\n      },\n\n      toggleAdd() {\n        window.location.href = '/#boxes'\n      },\n\n      setupListenter() {\n        this.registry.eventBus.on('dataBoxLoadSuccess', function() {\n          this.loadBoxesData()\n        }.bind(this))\n\n        this.registry.eventBus.on('dataPersonLoadSuccess', function() {\n          this.loadPersonData()\n        }.bind(this))\n\n      },\n\n      loadBoxesData() {\n        this.update({\n            boxes: this.registry.dataStore.boxes.getBoxes()\n        })\n      },\n\n      loadPersonData() {\n        this.update({\n            persons: this.registry.dataStore.persons.getPersons()\n        })\n      },\n\n      onMounted() {\n        this.setupListenter()\n        this.loadBoxesData()\n        this.loadPersonData()\n\n        this.update({\n          emptyBox: {\n            image: this.registry.dataStore.defaults.getImages()['box'],\n            personId: window.localStorage.getItem(\"personId\"),\n          }\n        })\n\n        this.update({\n          add: this.props.params[0] == 'add',\n        })\n      }\n    }\n  </script>\n</boxes>","/* Riot v9.4.9, @license MIT */\nimport $ from '../dependencies/bianco.query/index.next.js';\nimport { set } from '../dependencies/bianco.attr/index.next.js';\n\nconst CSS_BY_NAME = new Map();\nconst STYLE_NODE_SELECTOR = 'style[riot]';\n\n// memoized curried function\nconst getStyleNode = ((style) => {\n  return () => {\n    // lazy evaluation:\n    // if this function was already called before\n    // we return its cached result\n    if (style) return style\n\n    // create a new style element or use an existing one\n    // and cache it internally\n    style = $(STYLE_NODE_SELECTOR)[0] || document.createElement('style');\n    set(style, 'type', 'text/css');\n\n    /* istanbul ignore next */\n    if (!style.parentNode) document.head.appendChild(style);\n\n    return style\n  }\n})();\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nconst cssManager = {\n  CSS_BY_NAME,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { string } name - if it's passed we will map the css to a tagname\n   * @param { string } css - css string\n   * @returns {Object} self\n   */\n  add(name, css) {\n    if (!CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.set(name, css);\n      this.inject();\n    }\n\n    return this\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   * @returns {Object} self\n   */\n  inject() {\n    getStyleNode().innerHTML = [...CSS_BY_NAME.values()].join('\\n');\n    return this\n  },\n\n  /**\n   * Remove a tag style from the DOM\n   * @param {string} name a registered tagname\n   * @returns {Object} self\n   */\n  remove(name) {\n    if (CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.delete(name);\n      this.inject();\n    }\n\n    return this\n  },\n};\n\nexport { CSS_BY_NAME, STYLE_NODE_SELECTOR, cssManager as default };\n","import Registry from './registry.js'\n\n\n\nlet apiHost = window.localStorage.getItem(\"apiUrl\") || 'http://127.0.0.1:5000'\n\nexport default {\n\n  setApiHost(url) {\n    apiHost = url\n  },\n\n  getApiHost() {\n    return apiHost\n  },\n\n  defaults: {\n    images: false,\n\n    getImages() {\n      if (!this.images) {\n        this.fetchImages()\n        return false\n      }\n\n\n      return this.images\n      //http://localhost:5000/config/default-images\n    },\n\n    fetchImages() {\n      if (!this.images) {\n        let target = this\n        function reqListener() {\n          let jsonResponse = JSON.parse(this.responseText)\n          target.images = jsonResponse\n          Registry.eventBus.trigger('dataDefaultImagesLoadSuccess', target.images)\n        }\n        const req = new XMLHttpRequest()\n        req.addEventListener(\"load\", reqListener)\n        req.open(\"GET\", apiHost + \"/config/default-images\")\n        req.send()\n\n        return false\n      } else {\n        return true\n      }\n    },\n  },\n\n  locations: {\n    locations: false,\n\n    getNext(location) {\n      if (!this.locations) {\n        return false\n      }\n      let index = this.locations.indexOf(location);\n      if(index >= 0 && index < this.locations.length - 1) {\n        return this.locations[index + 1]\n      }\n      return false\n    },\n\n    getPrevious(location) {\n      if (!this.locations) {\n        return false\n      }\n      let index = this.locations.indexOf(location)\n      if(index >= 1 && index < this.locations.length) {\n        return this.locations[index - 1]\n      }\n      return false\n    },\n\n    search(string) {\n      if (!this.locations) {\n        this.fetchLocations()\n        return []\n      }\n\n      string = string.toLowerCase()\n      function filterByString(item) {\n        if (string == '') {\n          return true\n        }\n        let found = false\n\n        if (item.name && item.name.toLowerCase().includes(string)) {\n          found = true\n        }\n\n        if (item.description && item.description.toLowerCase().includes(string)) {\n          found = true\n        }\n\n        return found\n      }\n\n      return this.locations.filter(filterByString)\n    },\n\n    getLocationById(id) {\n      if (!this.locations) {\n        this.fetchLocations()\n        return false\n      }\n\n      function filterByID(item) {\n        return Number.isFinite(item.id) && item.id == id\n      }\n\n      return this.locations.filter(filterByID)[0]\n    },\n\n    getLocations() {\n      if (!this.locations) {\n        this.fetchLocations()\n        return []\n      }\n\n      return this.locations\n    },\n\n    fetchLocations() {\n      if (this.locations == false) {\n        let target = this\n        function reqListener() {\n          let jsonResponse = JSON.parse(this.responseText)\n          target.locations = jsonResponse\n          Registry.eventBus.trigger('dataLocationLoadSuccess', target.locations)\n        }\n        const req = new XMLHttpRequest()\n        req.addEventListener(\"load\", reqListener)\n        req.open(\"GET\", apiHost + \"/locations\")\n        req.send()\n\n        return false\n      } else {\n        return true\n      }\n    },\n\n    reload() {\n      this.locations = false\n      this.fetchLocations()\n    },\n\n    updateEntry(location) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"PUT\", apiHost + \"/location/\" + location.id)\n      req.send(JSON.stringify(location))\n    },\n\n    addEntry(location) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"POST\", apiHost + \"/locations\")\n      req.send(JSON.stringify(location))\n    },\n\n    deleteEntry(location) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"DELETE\", apiHost + \"/location/\" + location.id)\n      req.send()\n    }\n  },\n\n  boxes: {\n    boxes: false,\n\n    getNext(box) {\n      let boxes = box.locationId ? this.getBoxesByLocationId(box.locationId) : this.boxes\n      if (!boxes) {\n        return false\n      }\n      let index = boxes.indexOf(box);\n      if(index >= 0 && index < boxes.length - 1) {\n        return boxes[index + 1]\n      }\n      return false\n    },\n\n    getPrevious(box) {\n      let boxes = box.locationId ? this.getBoxesByLocationId(box.locationId) : this.boxes\n      if (!boxes) {\n        return false\n      }\n      let index = boxes.indexOf(box);\n      if(index >= 1 && index < boxes.length) {\n        return boxes[index - 1]\n      }\n      return false\n    },\n\n    search(string) {\n      if (!this.boxes) {\n        this.fetchBoxes()\n        return []\n      }\n\n      string = string.toLowerCase()\n      function filterByString(item) {\n        if (string == '') {\n          return true\n        }\n\n        let found = false\n\n        if (item.name && item.name.toLowerCase().includes(string)) {\n          found = true\n        }\n\n        if (item.description && item.description.toLowerCase().includes(string)) {\n          found = true\n        }\n\n        return found\n      }\n\n      return this.boxes.filter(filterByString)\n    },\n\n    getBoxById(id) {\n      if (!this.boxes) {\n        this.fetchBoxes()\n        return false\n      }\n\n      function filterByID(item) {\n        return Number.isFinite(item.id) && item.id == id\n      }\n\n      return this.boxes.filter(filterByID)[0]\n    },\n\n    getBoxesByLocationId(locationId) {\n      if (!this.boxes) {\n        this.fetchBoxes()\n        return []\n      }\n\n      function filterByLocationID(item) {\n        return Number.isFinite(item.parentLocationId) && item.parentLocationId == locationId\n      }\n\n      return this.boxes.filter(filterByLocationID)\n    },\n\n    getBoxesByBoxId(boxId) {\n      if (!this.boxes) {\n        this.fetchBoxes()\n        return []\n      }\n\n      function filterByBoxID(box) {\n        return Number.isFinite(box.boxId) && box.boxId == boxId\n      }\n\n      return this.boxes.filter(filterByBoxID)\n    },\n\n    getBoxesByPersonId(personId) {\n      if (!this.boxes) {\n        this.fetchBoxes()\n        return []\n      }\n\n      function filterByPersonID(item) {\n        return Number.isFinite(item.personId) && item.personId == personId\n      }\n\n      return this.boxes.filter(filterByPersonID)\n    },\n\n\n    getBoxes() {\n      if (!this.boxes) {\n        this.fetchBoxes()\n        return []\n      }\n\n      return this.boxes\n      return true\n    },\n\n    fetchBoxes() {\n      if (this.boxes == false) {\n        let target = this\n        function reqListener() {\n          let jsonResponse = JSON.parse(this.responseText)\n          target.boxes = jsonResponse\n          Registry.eventBus.trigger('dataBoxLoadSuccess', target.boxes)\n        }\n\n        const req = new XMLHttpRequest();\n        req.addEventListener(\"load\", reqListener);\n        req.open(\"GET\", apiHost + \"/boxes\");\n        req.send();\n      }\n    },\n\n    reload() {\n      this.boxes = false\n      this.fetchBoxes()\n    },\n\n    updateEntry(box) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"PUT\", apiHost + \"/box/\" + box.id)\n      req.send(JSON.stringify(box))\n    },\n\n    addEntry(box) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"POST\", apiHost + \"/boxes\")\n      req.send(JSON.stringify(box))\n    },\n\n    deleteEntry(box) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"DELETE\", apiHost + \"/box/\" + box.id)\n      req.send()\n    }\n  },\n\n  persons: {\n    persons: false,\n\n    getNext(person) {\n      if (!this.persons) {\n        return false\n      }\n      let index = this.persons.indexOf(person);\n      if(index >= 0 && index < this.persons.length - 1) {\n        return this.persons[index + 1]\n      }\n      return false\n    },\n\n    getPrevious(person) {\n      if (!this.persons) {\n        return false\n      }\n      let index = this.persons.indexOf(person)\n      if(index >= 1 && index < this.persons.length) {\n        return this.persons[index - 1]\n      }\n      return false\n    },\n\n    search(string) {\n      if (!this.persons) {\n        this.fetchPersons()\n        return []\n      }\n\n      string = string.toLowerCase()\n      function filterByString(item) {\n        if (string == '') {\n          return true\n        }\n        let found = false\n\n        if (item.name && item.name.toLowerCase().includes(string)) {\n          found = true\n        }\n\n        if (item.description && item.description.toLowerCase().includes(string)) {\n          found = true\n        }\n\n        return found\n      }\n\n      return this.persons.filter(filterByString)\n    },\n\n    getPersonById(id) {\n      if (!this.persons) {\n        this.fetchPersons()\n        return false\n      }\n\n      function filterByID(item) {\n        return Number.isFinite(item.id) && item.id == id\n      }\n\n      return this.persons.filter(filterByID)[0]\n    },\n\n    getPersons() {\n      if (!this.persons) {\n        this.fetchPersons()\n        return []\n      }\n\n      return this.persons\n    },\n\n    fetchPersons() {\n      if (this.persons == false) {\n        let target = this\n        function reqListener() {\n          let jsonResponse = JSON.parse(this.responseText)\n          target.persons = jsonResponse\n          Registry.eventBus.trigger('dataPersonLoadSuccess', target.persons)\n        }\n        const req = new XMLHttpRequest()\n        req.addEventListener(\"load\", reqListener)\n        req.open(\"GET\", apiHost + \"/persons\")\n        req.send()\n\n        return false\n      } else {\n        return true\n      }\n    },\n\n    reload() {\n      this.persons = false\n      this.fetchPersons()\n    },\n\n    updateEntry(person) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"PUT\", apiHost + \"/person/\" + person.id)\n      req.send(JSON.stringify(person))\n    },\n\n    addEntry(person) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"POST\", apiHost + \"/persons\")\n      req.send(JSON.stringify(person))\n    },\n\n    deleteEntry(person) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"DELETE\", apiHost + \"/person/\" + person.id)\n      req.send()\n    }\n  },\n\n  items: {\n    items: false,\n\n    getNext(item) {\n      let items = item.boxId ? this.getItemsByBoxId(item.boxId) : this.items\n\n      if (!items) {\n        return false\n      }\n      let index = items.indexOf(item);\n      if(index >= 0 && index < items.length - 1) {\n        return items[index + 1]\n      }\n      return false\n    },\n\n    getPrevious(item) {\n      let items = item.boxId ? this.getItemsByBoxId(item.boxId) : this.items\n\n      if (!items) {\n        return false\n      }\n      let index = items.indexOf(item);\n      if(index >= 1 && index < items.length) {\n        return items[index - 1]\n      }\n      return false\n    },\n\n    search(string) {\n      if (!this.items) {\n        this.fetchItems()\n        return []\n      }\n\n      string = string.toLowerCase()\n      function filterByString(item) {\n        if (string == '') {\n          return true\n        }\n        let found = false\n\n        if (item.name && item.name.toLowerCase().includes(string)) {\n          found = true\n        }\n\n        if (item.description && item.description.toLowerCase().includes(string)) {\n          found = true\n        }\n\n        return found\n      }\n\n      return this.items.filter(filterByString)\n    },\n\n    getItemById(id) {\n      if (!this.items) {\n        this.fetchItems()\n        return []\n      }\n\n      function filterByID(item) {\n        return Number.isFinite(item.id) && item.id == id\n      }\n\n      return this.items.filter(filterByID)[0]\n    },\n\n    getItemsByBoxId(boxId) {\n      if (!this.items) {\n        this.fetchItems()\n        return []\n      }\n\n      function filterByBoxID(item) {\n        return Number.isFinite(item.boxId) && item.boxId == boxId\n      }\n\n      return this.items.filter(filterByBoxID)\n    },\n\n    getItems() {\n      if (!this.items) {\n        this.fetchItems()\n        return []\n      }\n\n      return this.items\n    },\n\n    fetchItems() {\n      if (this.items == false) {\n        let target = this\n        function reqListener() {\n          let jsonResponse = JSON.parse(this.responseText)\n          target.items = jsonResponse\n          Registry.eventBus.trigger('dataItemLoadSuccess', target.items)\n        }\n\n        const req = new XMLHttpRequest();\n        req.addEventListener(\"load\", reqListener);\n        req.open(\"GET\", apiHost + \"/items\");\n        req.send();\n      }\n\n    },\n\n\n    reload() {\n      this.items = false\n      this.fetchItems()\n    },\n\n    updateEntry(item) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"PUT\", apiHost + \"/item/\" + item.id)\n      req.send(JSON.stringify(item))\n    },\n\n    addEntry(item) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"POST\", apiHost + \"/items\")\n      req.send(JSON.stringify(item))\n    },\n\n    deleteEntry(item) {\n      let target = this\n      function reqListener() {\n        let jsonResponse = JSON.parse(this.responseText)\n        target.reload()\n      }\n\n      const req = new XMLHttpRequest()\n      req.addEventListener(\"load\", reqListener)\n      req.open(\"DELETE\", apiHost + \"/item/\" + item.id)\n      req.send()\n    }\n  },\n\n}\n","/* Riot v9.4.9, @license MIT */\nimport { isFunction } from '../dependencies/@riotjs/util/checks.js';\nimport { PLUGINS_SET } from '../dependencies/@riotjs/util/constants.js';\nimport { panic } from '../dependencies/@riotjs/util/misc.js';\n\n/**\n * Define a riot plugin\n * @param   {Function} plugin - function that will receive all the components created\n * @returns {Set} the set containing all the plugins installed\n */\nfunction install(plugin) {\n  if (!isFunction(plugin)) panic('Plugins must be of type function');\n  if (PLUGINS_SET.has(plugin)) panic('This plugin was already installed');\n\n  PLUGINS_SET.add(plugin);\n\n  return PLUGINS_SET\n}\n\nexport { install };\n","import * as riot from 'riot'\nimport observable from 'riot-observable'\nimport Registry from './components/application/registry.js'\n\nimport Application from './components/application/application.riot'\nimport DataStore from './components/application/dataStore'\n\nRegistry.eventBus = observable()\nRegistry.dataStore = DataStore\nRegistry.dataStore.defaults.getImages()\nriot.install(function(component) {\n  // all components will pass through here\n  component.registry = Registry\n  return component\n})\n\nconst mountApp = riot.component(Application)\nconst app = mountApp(\n  document.getElementById('root'),\n  {}\n)\n\n",";(function(window, undefined) {var observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          (callbacks[event] = callbacks[event] || []).push(fn)\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) callbacks = {}\n        else {\n          if (fn) {\n            var arr = callbacks[event]\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) arr.splice(i--, 1)\n            }\n          } else delete callbacks[event]\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0)\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args)\n        }\n\n        if (callbacks['*'] && event != '*')\n          el.trigger.apply(el, ['*', event].concat(args))\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n  /* istanbul ignore next */\n  // support CommonJS, AMD & browser\n  if (typeof exports === 'object')\n    module.exports = observable\n  else if (typeof define === 'function' && define.amd)\n    define(function() { return observable })\n  else\n    window.observable = observable\n\n})(typeof window != 'undefined' ? window : undefined);","/* Riot WIP, @license MIT */\nimport domToArray from '../bianco.dom-to-array/index.next.js';\n\n/**\n * Simple helper to find DOM nodes returning them as array like loopable object\n * @param   { string|DOMNodeList } selector - either the query or the DOM nodes to arraify\n * @param   { HTMLElement }        scope      - context defining where the query will search for the DOM nodes\n * @returns { Array } DOM nodes found as array\n */\nfunction $(selector, scope) {\n  return domToArray(typeof selector === 'string' ?\n    (scope || document).querySelectorAll(selector) :\n    selector\n  )\n}\n\nexport { $ as default };\n","<element-detail>\n    <div class=\"element\">\n      <h2>\n        <div class=\"text\">\n          <i if={ props.type == \"box\" } class=\"fa-solid fa-box-open\"></i>\n          <i if={ props.type == \"location\" } class=\"fa-solid fa-location-dot\"></i>\n          <i if={ props.type == \"item\" } class=\"fa-solid fa-screwdriver-wrench\"></i>\n          <i if={ props.type == \"person\" } class=\"fa-solid fa-person\"></i>\n          { props.element.name }\n        </div>\n      </h2>\n      \n      <p if={ props.element.description } class=\"no-print\">\n        <div class=\"text description\">\n          { props.element.description }\n        </div>\n      </p>\n      \n      <p if={ props.type == 'item' }>\n        <div class=\"text\">\n          Amount: \n          <b>{ props.element.amount }</b>\n        </div>\n      </p>\n\n      <p if={ props.box }>\n        <div class=\"text\">\n          Box:\n          <b><a onclick={ registry.application.clickHandler } href=\"#box/{ props.box.id }\">{ props.box.name }</a></b>\n        </div>\n      </p>\n\n      <p if={ props.location }>\n        <div class=\"text\">\n          Location: \n          <b><a onclick={ registry.application.clickHandler } href=\"#location/{ props.location.id }\">{ props.location.name }</a></b>\n        </div>\n      </p>\n\n      <p if={ props.person }>\n        <div class=\"text\">\n          Belongs to:\n          <b><a onclick={ registry.application.clickHandler } href=\"#person/{ props.person.id }\">{ props.person.name }</a></b>\n        </div>\n      </p>\n\n      <button class=\"action no-print\" onclick={ edit }><i class=\"fa fa-edit\"></i></button>\n      <button if={ props.type != 'item' && props.type != 'person' } class=\"action no-print\" onclick={ add }><i class=\"fa fa-plus\"></i></button>\n      <qr-code if={ props.type != 'person' }></qr-code>\n\n    </div>\n\n  <script>\n    import QrCode from './qr-code.riot'\n\n    export default {\n      baseLink: false,\n      components: {\n        QrCode,\n      },\n\n      exec(link) {\n        this.registry.application.render(link)\n      },\n\n      edit(e) {\n        this.exec(this.baseLink + \"/edit\")\n      },\n\n      add(e) {\n        this.exec(this.baseLink + \"/add\")\n      },\n\n      onMounted() {\n        this.baseLink = \"#\" + this.props.type + \"/\" + this.props.element.id\n      }\n\n    }\n  </script>\n  <style>\n    p{\n      margin-bottom: 5px;\n    }\n    div.element {\n      min-height: 290px;\n      background-color: rgba(255, 255, 255, 0.7);\n      display: inline-block;\n      margin-top: 2px;\n      margin-bottom: 2px;\n      min-width: 50%\n    }\n    .text {\n      display: inline-block;\n      background-color: white;\n      padding: 5px;\n      border-radius: 3px;\n      min-width: 50%\n    }\n\n    .text.description {\n      white-space: pre-wrap;\n    }\n\n\n    div.element {\n      z-index: 10;\n      padding: 30px;\n    }\n\n    button.action {\n      margin-right: 5px;\n      margin-bottom: 5px;\n      font-size: 1.6rem;\n    }\n\n  </style>\n\n</element-detail>","<scan-qr-code>\n  <button class=\"no-print\" onclick={ scan }>Scan qr code</button>\n  <div id=\"reader\" width=\"600px\"></div>\n  <script>\n\n    import * as riot from 'riot'\n\n\n    export default {\n      scan(e) {\n        alert('rebuild')\n      },\n    }\n  </script>\n</scan-qr-code>","/* Riot WIP, @license MIT */\n/**\n * Convert a string from camel case to dash-case\n * @param   {string} string - probably a component tag name\n * @returns {string} component name normalized\n */\nfunction camelToDashCase(string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   {string} string - input string\n * @returns {string} my-string -> myString\n */\nfunction dashToCamelCase(string) {\n  return string.replace(/-(\\w)/g, (_, c) => c.toUpperCase())\n}\n\nexport { camelToDashCase, dashToCamelCase };\n","\"use strict\";\n\n/* eslint-disable */\n\n/**\n * @param {string[]} pathComponents\n * @returns {string}\n */\nfunction normalizeUrl(pathComponents) {\n  return pathComponents.reduce(function (accumulator, item) {\n    switch (item) {\n      case \"..\":\n        accumulator.pop();\n        break;\n      case \".\":\n        break;\n      default:\n        accumulator.push(item);\n    }\n    return accumulator;\n  }, /** @type {string[]} */[]).join(\"/\");\n}\n\n/**\n * @param {string} urlString\n * @returns {string}\n */\nmodule.exports = function (urlString) {\n  urlString = urlString.trim();\n  if (/^data:/i.test(urlString)) {\n    return urlString;\n  }\n  var protocol = urlString.indexOf(\"//\") !== -1 ? urlString.split(\"//\")[0] + \"//\" : \"\";\n  var components = urlString.replace(new RegExp(protocol, \"i\"), \"\").split(\"/\");\n  var host = components[0].toLowerCase().replace(/\\.$/, \"\");\n  components[0] = \"\";\n  var path = normalizeUrl(components);\n  return protocol + host + path;\n};","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      (function() {\n        var localsJsonString = undefined;\n        // 1749823087961\n        var cssReload = require(\"../../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {});\n        // only invalidate when locals change\n        if (\n          module.hot.data &&\n          module.hot.data.value &&\n          module.hot.data.value !== localsJsonString\n        ) {\n          module.hot.invalidate();\n        } else {\n          module.hot.accept();\n        }\n        module.hot.dispose(function(data) {\n          data.value = localsJsonString;\n          cssReload();\n        });\n      })();\n    }\n  ","<locations>\n  <element-form if={ state.add } type=\"location\" element={ state.emptyLocation } onCancel={ toggleAdd } />\n  <element-list elements={ state.locations } type=\"location\" add=\"#locations/add\" />\n\n  <script>\n    import  './style.css'\n    import ElementForm from '../../includes/_helper/element-form.riot'\n    import ElementList from '../../includes/_helper/element-list.riot'\n\n    export default {\n      components: {\n        ElementForm,\n        ElementList,\n      },\n      state: {\n        add: 'nice',\n        locations: [],\n        emptyLocation: {\n          name: '',\n          description: '',\n          classification: 0,\n        }\n      },\n\n      toggleAdd() {\n        window.location.href = '/#locations'\n      },\n\n      setupListenter() {\n        let target = this\n        this.registry.eventBus.on('dataLocationLoadSuccess', function() {\n          target.loadData()\n        })\n      },\n\n      loadData() {\n\n        this.update({\n          locations: this.registry.dataStore.locations.getLocations()\n        })\n      },\n\n      onMounted() {\n        this.setupListenter()\n        this.loadData()\n\n        this.update({\n          emptyLocation: {\n            image: this.registry.dataStore.defaults.getImages()['location'],\n          }\n        })\n\n        this.update({\n          add: this.props.params[0] == 'add',\n        })\n\n      }\n    }\n  </script>\n</locations>","<person>\n    <element-header\n      if={ !state.edit && state.person }\n      type=\"person\"\n      element={state.person}\n      next={ state.nextPerson ? \"#person/\" + state.nextPerson.id : \"\" }\n      previous={ state.previousPerson ? \"#person/\" + state.previousPerson.id : \"\" }\n    />\n    <element-detail if={ !state.edit && state.person } type=\"person\" element={ state.person }  />\n    <element-form if={ state.edit && state.person } type=\"person\" element={ state.person } onCancel={ closeEdit }  />\n\n    <element-list elements={ state.boxes } type=\"box\" />\n\n  <script>\n\n    import ElementHeader from '../../includes/_helper/element-header.riot'\n    import ElementDetail from '../../includes/_helper/element-detail.riot'\n    import ElementForm from '../../includes/_helper/element-form.riot'\n    import ElementList from '../../includes/_helper/element-list.riot'\n\n    export default {\n      components: {\n        ElementHeader,\n        ElementDetail,\n        ElementForm,\n        ElementList,\n      },\n\n      state: {\n        nextPerson: false,\n        previousPerson: false,\n        person: false,\n        boxes: [],\n        edit: false,\n        id: false,\n      },\n\n      closeEdit() {\n        this.registry.application.render('#person/' + this.state.id)\n\n        // cheap hack to reload the image after upload, could fetch the url until a 200 is there. Only if the current person has an image, of course\n        const myTimeout = setTimeout(function() {\n          clearTimeout(myTimeout);\n          this.registry.eventBus.trigger('imageUploaded')\n        }.bind(this), 1000);\n      },\n\n      setupListenter() {\n        let target = this\n\n        this.registry.eventBus.on('dataPersonLoadSuccess', function(boxes) {\n          target.loadPersonData()\n        })\n\n        this.registry.eventBus.on('dataBoxLoadSuccess', function(locations) {\n          target.loadBoxData()\n        })\n      },\n\n      clickHandler(e) {\n        // hack to rerender if only the controller properties have changed\n        this.registry.application.render('')\n        this.registry.application.clickHandler(e)\n      },\n\n      loadPersonData() {\n        let person = this.registry.dataStore.persons.getPersonById(this.state.id)\n        if (!person) {\n          return false\n        }\n        let nextPerson = this.registry.dataStore.persons.getNext(person)\n        let previousPerson = this.registry.dataStore.persons.getPrevious(person)\n        this.update({\n          person: person,\n          nextPerson: nextPerson ? nextPerson : false,\n          previousPerson: previousPerson ? previousPerson : false,\n        })\n      },\n\n      loadBoxData() {\n        this.update({\n            boxes: this.registry.dataStore.boxes.getBoxesByPersonId(this.props.params[0])\n        })\n      },\n\n      onMounted() {\n        this.update({\n          id: this.props.params[0],\n          edit: this.props.params[1] == 'edit',\n          add: this.props.params[1] == 'add',\n        })\n\n        this.setupListenter()\n        this.loadPersonData()\n        this.loadBoxData()\n      }\n    }\n  </script>\n\n  <style>\n  .add-form {\n    display: block;\n    background-color: white;\n    padding: 10px;\n    border-radius: 3px;\n  }\n  </style>\n\n</person>"],"names":["DOMattributesToObject","element","Array","from","attributes","reduce","acc","attribute","name","value","moveChildren","source","target","firstChild","appendChild","cleanNode","node","removeChild","clearChildren","children","i","length","remove","insertBefore","newNode","refNode","parentNode","replaceChild","replaced","localsJsonString","cssReload","undefined","module","id","hot","data","invalidate","accept","dispose","components","ScanQrCode","ElementList","state","locations","boxes","items","typeahead","e","allowEmpty","searchString","this","search","update","registry","dataStore","setupListenter","eventBus","on","loadItemData","loadBoxData","loadLocationData","getLocations","getBoxes","getItems","onMounted","EACH","IF","SIMPLE","TAG","SLOT","bindingTypes","HEAD_SYMBOL","Symbol","TAIL_SYMBOL","UNMOUNT_SCOPE","EachBinding","nodes","mount","scope","parentScope","placeholder","childrenMap","collection","evaluate","newChildrenMap","batches","futureNodes","binding","condition","template","itemName","getKey","indexName","root","isTemplateTag","Map","forEach","item","index","context","extendScope","Object","create","key","oldItem","get","mustFilterItem","mustMount","componentTemplate","clone","el","cloneNode","meta","fragment","dom","head","tail","document","createTextNode","createHeadTailPlaceholders","avoidDOMInjection","childNodes","createTemplateMeta","push","delete","set","createPatch","a","b","before","bLength","aEnd","bEnd","aStart","bStart","map","nextSibling","has","sequence","udomdiff","redundant","info","pop","unmount","patch","values","fn","IfBinding","mustUnmount","pristine","ElementProto","Element","prototype","isNativeHtmlProperty","hasOwnProperty","RE_EVENTS_PREFIX","EventListener","handleEvent","event","type","ListenersWeakMap","WeakMap","normalizeStringValue","getTextNode","childNodeIndex","expressions","attributeExpression","isBoolean","isBoolean$1","oldValue","newAttributes","oldAttributes","newKeys","keys","filter","includes","removeAttribute","removeAllAttributes","setAllAttributes","shouldRemoveAttribute","canRenderAttribute","setAttribute","normalizeValue","normalizedEventName","replace","eventListener","listener","createListener","callback","options","isArray","getCallbackAndOptions","handler","mustAddEvent","removeEventListener","addEventListener","Expression","create$4","findSlotById","slots","find","slot","getRealParent","SlotBinding","getTemplateScope","attr","assign","extendParentScope","templateData","realParent","html","bindings","createDOM","moveSlotInnerContent","mustRemoveRoot","child","slotBindings","concat","TagBinding","tag","component","slotsToMarkup","getTag","getComponent","keepRootTag","expression","method","fixTextExpressionsOffset","textExpressionsOffset","create$1","templateTagOffset","selector","redundantAttribute","querySelector","bindingExpressions","TemplateChunk","container","ownerDocument","importNode","window","DOMParser","parseFromString","documentElement","createSVGTree","createElement","innerHTML","content","createHTMLTree","createDOMTree","createTemplateDOM","createDocumentFragment","siblings","Math","max","indexOf","getTemplateTagOffset","injectDOM","bindingsData","normalizeUrl","srcByModuleId","noDocument","noop","updateCss","url","href","split","isUrlRequest","isLoaded","visited","newEl","Date","now","reloadAll","elements","querySelectorAll","call","test","exports","moduleId","console","log","timeout","getScriptSrc","src","currentScript","scripts","getElementsByTagName","lastScriptTag","fileMap","splitResult","filename","mapRule","reg","RegExp","getCurrentScriptUrl","reloaded","loaded","ret","some","getReloadUrl","reloadStyle","locals","join","self","args","arguments","clearTimeout","setTimeout","apply","toggleQr","getElementById","QRCode","text","URL","width","height","colorDark","colorLight","correctLevel","CorrectLevel","H","__","cssManager","DOMBindings","createBinding","createExpression","expressionTypes","globals","PROPS_KEY","STATE_KEY","IS_COMPONENT_UPDATING","ATTRIBUTES_KEY_SYMBOL","COMPONENTS_IMPLEMENTATION_MAP","PLUGINS_SET","DOM_COMPONENT_INSTANCE_PROPERTY","PARENT_KEY_SYMBOL","reload","componentAPI","els","toString","oldTag","newTag","props","warn","ElementHeader","ElementDetail","ElementForm","nextBox","previousBox","box","parentBox","location","parentLocation","person","edit","emptyItem","closeEdit","application","render","myTimeout","trigger","bind","loadBoxLocationAndPersonData","clickHandler","getBoxById","locationId","parentLocationId","boxId","parentBoxId","personId","getNext","getPrevious","getLocationById","persons","getPersonById","getBoxesByBoxId","getItemsByBoxId","params","add","description","amount","image","defaults","getImages","classes","config","setupListener","onApplicationRender","controller","getCurrentController","nextItem","previousItem","loadData","getItemById","localStorage","stream","camera","canvas","cameraActive","pictureTaken","closeCamera","body","className","fullScreen","srcObject","getTracks","track","stop","openCamera","video","prepend","buttonContainer","closeButton","onclick","snapButton","snapshot","navigator","mediaDevices","getUserMedia","getItem","then","catch","err","error","stack","videoWidth","videoHeight","getContext","drawImage","getEncodedImage","toDataURL","currentPicture","ATTRIBUTE","EVENT","TEXT","VALUE","REF","QrCode","nextLocation","previousLocation","showQr","emptyBox","loadPersonData","getBoxesByLocationId","getPersons","normalize","attrs","prop","names","n","parseNodes","TakePicture","boxInBox","checked","onCancel","loadApiUrl","apiHost","getApiHost","parseInt","saveEntry","classification","inBoxId","updateEntry","addEntry","deleteEntry","confirm","redirectUrl","apiUrl","listView","cameraId","cameras","save","setApiHost","setItem","cameraIdSelect","personIdSelect","listViewSelect","backup","setListView","devices","enumerateDevices","device","kind","deviceId","label","timestamp","reloadImage","previous","next","defineProperty","enumerable","writable","configurable","defineProperties","properties","entries","defineDefaults","pick","fromEntries","domToArray","panic","message","cause","Error","memoize","cache","cached","val","evaluateAttributeExpressions","toggleAdd","currentControllerName","isLoggedIn","Navigation","Locations","Location","Boxes","Box","Persons","Person","Items","Item","Search","Config","parseUrl","controllerParams","urlParts","controllerParts","splice","hashChange","getElementsByClassName","newURL","getController","onBeforeMount","isController","controllerName","lenItems","lenBoxes","Set","IS_DIRECTIVE","MOUNT_METHOD_KEY","UPDATE_METHOD_KEY","UNMOUNT_METHOD_KEY","SHOULD_UPDATE_KEY","ON_BEFORE_MOUNT_KEY","ON_MOUNTED_KEY","ON_BEFORE_UPDATE_KEY","ON_UPDATED_KEY","ON_BEFORE_UNMOUNT_KEY","ON_UNMOUNTED_KEY","SLOTS_KEY","ROOT_KEY","IS_PURE_SYMBOL","TEMPLATE_KEY_SYMBOL","emptyPerson","callOrAssign","constructor","MOCKED_TEMPLATE_INTERFACE","_","PURE_COMPONENT_API","freeze","bindDOMNodeToComponentInstance","createCoreAPIMethods","mapFunction","COMPONENT_DOM_SELECTORS","$","$$","COMPONENT_LIFECYCLE_METHODS","curry","computeComponentState","oldState","newState","computeInitialProps","initialProps","getRootComputedAttributeNames","firstBinding","manageComponentLifecycle","c","runPlugins","createAttributeBindings","tagName","toLowerCase","getName","addCssHook","computedAttributeNames","staticRootAttributes","domNodeAttributes","newProps","preserveRoot","instantiateComponent","css","createChildComponentGetter","componentWrapper","childrenComponents","createComponentFromWrapper","createChildrenComponentsObject","memoizedCreateComponentFromWrapper","templateFn","getChildComponent","componentTemplateFactory","pureFactoryFunction","createPureComponent","implementation","fns","f","g","compose","checkType","isSvg","owner","ownerSVGElement","isTemplate","isFunction","isObject","isNil","instance","loadBoxesData","CSS_BY_NAME","style","inject","images","fetchImages","reqListener","jsonResponse","JSON","parse","responseText","req","XMLHttpRequest","open","send","string","found","fetchLocations","Number","isFinite","stringify","fetchBoxes","getBoxesByPersonId","fetchPersons","fetchItems","plugin","A","mountApp","callbacks","slice","off","cb","arr","one","arglen","baseLink","exec","link","scan","alert","camelToDashCase","dashToCamelCase","toUpperCase","urlString","trim","protocol","host","accumulator","emptyLocation","nextPerson","previousPerson"],"sourceRoot":""}