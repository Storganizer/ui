/*! For license information please see app.bundle.js.LICENSE.txt */
(self.webpackChunkstorganizer_ui=self.webpackChunkstorganizer_ui||[]).push([[524],{21:(e,t,a)=>{"use strict";a.d(t,{BT:()=>r,Br:()=>d,nc:()=>p,uN:()=>o,v7:()=>i,wN:()=>s,zz:()=>l});var n=a(867);function s(e){return Array.from(e.attributes).reduce(((e,t)=>(e[(0,n.I)(t.name)]=t.value,e)),{})}function r(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function o(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function i(e){for(let t=0;t<e.length;t++)l(e[t])}const l=e=>e.remove(),p=(e,t)=>t&&t.parentNode&&t.parentNode.insertBefore(e,t),d=(e,t)=>t&&t.parentNode&&t.parentNode.replaceChild(e,t)},27:(e,t,a)=>{"use strict";var n,s;n=void 0,s=a(140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,s()}))},79:(e,t,a)=>{"use strict";a.d(t,{A:()=>o}),a(935);var n=a(852),s=a(600),r=a(146);const o={css:null,exports:{components:{ScanQrCode:n.A,ElementList:s.A},state:{locations:[],boxes:[],items:[]},typeahead(e,t=!1){let a=e.target.value;this.search(a)},search(e,t=!1){this.update({locations:this.registry.dataStore.locations.search(e),boxes:this.registry.dataStore.boxes.search(e),items:this.registry.dataStore.items.search(e)})},setupListenter(){let e=this;this.registry.eventBus.on("dataItemLoadSuccess",(function(t){e.loadItemData()})),this.registry.eventBus.on("dataBoxLoadSuccess",(function(t){e.loadBoxData()})),this.registry.eventBus.on("dataLocationLoadSuccess",(function(t){e.loadLocationData()}))},loadLocationData(){this.update({locations:this.registry.dataStore.locations.getLocations()})},loadBoxData(){this.update({boxes:this.registry.dataStore.boxes.getBoxes()})},loadItemData(){this.update({items:this.registry.dataStore.items.getItems()})},onMounted(){this.setupListenter(),this.loadItemData(),this.loadBoxData(),this.loadLocationData()}},template:(e,t,a,n)=>e('<scan-qr-code expr48="expr48"></scan-qr-code><div class="search"><input expr49="expr49" type="text" placeholder="search" id="search" name="search"/></div><div class="results"><element-list expr50="expr50" type="location"></element-list><element-list expr51="expr51" type="box"></element-list><element-list expr52="expr52" type="item"></element-list></div>',[{type:a.TAG,getComponent:n,evaluate:e=>"scan-qr-code",slots:[],attributes:[],redundantAttribute:"expr48",selector:"[expr48]"},{redundantAttribute:"expr49",selector:"[expr49]",expressions:[{type:t.EVENT,name:"onkeyup",evaluate:e=>e.typeahead}]},{type:a.IF,evaluate:e=>e.state.locations.length,redundantAttribute:"expr50",selector:"[expr50]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.locations}]}])},{type:a.IF,evaluate:e=>e.state.boxes.length,redundantAttribute:"expr51",selector:"[expr51]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.boxes}]}])},{type:a.IF,evaluate:e=>e.state.items.length,redundantAttribute:"expr52",selector:"[expr52]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.items}]}])}]),name:"search"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(79).A;(0,r.A)(e)}})()},80:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l,Dk:()=>o,IF:()=>s,RB:()=>r,We:()=>n,rt:()=>i});const n=0,s=1,r=2,o=3,i=4,l={EACH:n,IF:s,SIMPLE:r,TAG:o,SLOT:i}},116:(e,t,a)=>{"use strict";a.d(t,{KF:()=>k,Lg:()=>B,vs:()=>D});var n=a(21),s=a(604),r=a(80),o=a(359),i=a(527),l=a(732),p=a(569);const d=Symbol(),c=Symbol();const u=Symbol("unmount"),m={nodes:[],mount(e,t){return this.update(e,t)},update(e,t){const{placeholder:a,nodes:s,childrenMap:r}=this,o=e===u?null:this.evaluate(e),l=o?Array.from(o):[],{newChildrenMap:p,batches:m,futureNodes:x}=function(e,t,a,n){const{condition:s,template:r,childrenMap:o,itemName:l,getKey:p,indexName:u,root:m,isTemplateTag:x}=n,h=new Map,y=[],v=[];return e.forEach(((e,n)=>{const b=function(e,{itemName:t,indexName:a,index:n,item:s}){return(0,i.n8)(e,t,s),a&&(0,i.n8)(e,a,n),e}(Object.create(t),{itemName:l,indexName:u,index:n,item:e}),g=p?p(b):n,f=o.get(g),T=[];if(function(e,t){return!!e&&!e(t)}(s,b))return;const A=!f,I=f?f.template:r.clone(),B=I.el||m.cloneNode(),E=x&&A?function(e){const t=e.dom.cloneNode(!0),{head:a,tail:n}=function(){const e=document.createTextNode(""),t=document.createTextNode("");return e[d]=!0,t[c]=!0,{head:e,tail:t}}();return{avoidDOMInjection:!0,fragment:t,head:a,tail:n,children:[a,...Array.from(t.childNodes),n]}}(I):I.meta;A?y.push((()=>I.mount(B,b,a,E))):y.push((()=>I.update(b,a))),x?T.push(...E.children):T.push(B),o.delete(g),v.push(...T),h.set(g,{nodes:T,template:I,context:b,index:n})})),{newChildrenMap:h,batches:y,futureNodes:v}}(l,e,t,this);return((e,t,a,s)=>{const r=t.length;let o=e.length,i=r,l=0,p=0,d=null;for(;l<o||p<i;)if(o===l){const e=i<r?p?a(t[p-1],-0).nextSibling:a(t[i-p],0):s;for(;p<i;)(0,n.nc)(a(t[p++],1),e)}else if(i===p)for(;l<o;)d&&d.has(e[l])||(0,n.zz)(a(e[l],-1)),l++;else if(e[l]===t[p])l++,p++;else if(e[o-1]===t[i-1])o--,i--;else if(e[l]===t[i-1]&&t[p]===e[o-1]){const s=a(e[--o],-1).nextSibling;(0,n.nc)(a(t[p++],1),a(e[l++],-1).nextSibling),(0,n.nc)(a(t[--i],1),s),e[o]=t[i]}else{if(!d){d=new Map;let e=p;for(;e<i;)d.set(t[e],e++)}if(d.has(e[l])){const s=d.get(e[l]);if(p<s&&s<i){let r=l,c=1;for(;++r<o&&r<i&&d.get(e[r])===s+c;)c++;if(c>s-p){const r=a(e[l],0);for(;p<s;)(0,n.nc)(a(t[p++],1),r)}else(0,n.Br)(a(t[p++],1),a(e[l++],-1))}else l++}else(0,n.zz)(a(e[l++],-1))}})(s,x,function(e,t){return(a,n)=>{if(n<0){const a=e[e.length-1];if(a){const{template:n,nodes:s,context:r}=a;s.pop(),s.length||(e.pop(),n.unmount(r,t,null))}}return a}}(Array.from(r.values()),t),a),m.forEach((e=>e())),this.childrenMap=p,this.nodes=x,this},unmount(e,t){return this.update(u,t),this}},x={mount(e,t){return this.update(e,t)},update(e,t){const a=!!this.evaluate(e),s=!this.value&&a,r=this.value&&!a,o=()=>{const a=this.node.cloneNode();(0,n.nc)(a,this.placeholder),this.template=this.template.clone(),this.template.mount(a,e,t)};switch(!0){case s:o();break;case r:this.unmount(e);break;default:a&&this.template.update(e,t)}return this.value=a,this},unmount(e,t){return this.template.unmount(e,t,!0),this}},h="undefined"==typeof Element?{}:Element.prototype,y=(0,p.Bj)((e=>h.hasOwnProperty(e)));const v=/^on/,b={handleEvent(e){this[e.type](e)}},g=new WeakMap;function f(e){return(0,l.gD)(e)?"":e}const T=(e,t)=>e.childNodes[t],A={[o.bc]:function e({node:t,name:a,isBoolean:n,value:s},r){if(!a)return s&&function(e,t,a){const n=t?Object.keys(t):[];Object.keys(a).filter((e=>!n.includes(e))).forEach((t=>e.removeAttribute(t)))}(t,r,s),void(r&&function(t,a){Object.keys(a).forEach((n=>e({node:t,name:n},a[n])))}(t,r));!y(a)&&((0,l.Lm)(r)||(0,l.Gv)(r)||(0,l.Tn)(r))&&(t[a]=r),function(e,t){return t?!e&&0!==e:null==e}(r,n)?t.removeAttribute(a):function(e){return["string","number","boolean"].includes(typeof e)}(r)&&t.setAttribute(a,function(e,t,a){return!0===t&&a?e:t}(a,r,n))},[o.ll]:function({node:e,name:t},a){const n=t.replace(v,""),s=g.get(e)||(e=>{const t=Object.create(b);return g.set(e,t),t})(e),[r,o]=(e=>Array.isArray(e)?e:[e,!1])(a),i=s[n],l=r&&!i;i&&!r&&e.removeEventListener(n,s),l&&e.addEventListener(n,s,o),s[n]=r},[o.a$]:function({node:e},t){e.data=f(t)},[o.Qg]:function({node:e},t){e.value=f(t)},[o.g4]:function({node:e,value:t},a){a?a(e):t(null)}},I={mount(e){return this.value=this.evaluate(e),A[this.type](this,this.value),this},update(e){const t=this.evaluate(e);return this.value!==t&&(A[this.type](this,t),this.value=t),this},unmount(){return[o.ll,o.g4].includes(this.type)&&A[this.type](this,null),this}};function B(e,t){return{...I,...t,node:t.type===o.a$?T(e,t.childNodeIndex):e}}const E=(e,t)=>t?.find((t=>t.id===e)),L=(e,t)=>e[s.e5]||t,N={attributes:[],getTemplateScope(e,t){return((e,t,a)=>{if(!e||!e.length)return a;const n=e.map((e=>({...e,value:e.evaluate(t)})));return Object.assign(Object.create(a||null),(0,p.tA)(n))})(this.attributes,e,t)},mount(e,t){const a=!!e.slots&&E(this.name,e.slots),{parentNode:s}=this.node,r=a?L(e,t):e;return this.templateData=a?.html?a:E(this.name,r.slots),this.template=this.templateData&&D(this.templateData.html,this.templateData.bindings).createDOM(s)||this.template?.clone(),this.template&&((0,n.uN)(this.node),this.template.mount(this.node,this.getTemplateScope(e,r),r),this.template.children=Array.from(this.node.childNodes)),w(this.node),(0,n.zz)(this.node),this},update(e,t){if(this.template){const a=this.templateData?L(e,t):e;this.template.update(this.getTemplateScope(e,a),a)}return this},unmount(e,t,a){return this.template&&this.template.unmount(this.getTemplateScope(e,t),null,a),this}};function w(e){const t=e&&e.firstChild;t&&((0,n.nc)(t,e),w(e))}function S(e){return e.reduce(((e,{bindings:t})=>e.concat(t)),[])}const C={mount(e){return this.update(e)},update(e,t){const a=this.evaluate(e);return a&&a===this.name?this.tag.update(e):(this.unmount(e,t,!0),this.name=a,this.tag=function(e,t=[],a=[]){return e?e({slots:t,attributes:a}):D(function(e){return e.reduce(((e,t)=>e+t.html),"")}(t),[...S(t),{expressions:a.map((e=>({type:o.bc,...e})))}])}(this.getComponent(a),this.slots,this.attributes),this.tag.mount(this.node,e)),this},unmount(e,t,a){return this.tag&&this.tag.unmount(a),this}},R={[r.IF]:function(e,{evaluate:t,template:a}){const s=document.createTextNode("");return(0,n.nc)(s,e),(0,n.zz)(e),{...x,node:e,evaluate:t,placeholder:s,template:a.createDOM(e)}},[r.RB]:function(e,{expressions:t}){return a=t.map((t=>B(e,t))),["mount","update","unmount"].reduce(((e,t)=>({...e,[t]:e=>a.map((a=>a[t](e)))&&undefined})),{});var a},[r.We]:function(e,{evaluate:t,condition:a,itemName:s,indexName:r,getKey:o,template:i}){const p=document.createTextNode(""),d=e.cloneNode();return(0,n.nc)(p,e),(0,n.zz)(e),{...m,childrenMap:new Map,node:e,root:d,condition:a,evaluate:t,isTemplateTag:(0,l.Fl)(d),template:i.createDOM(e),getKey:o,indexName:r,itemName:s,placeholder:p}},[r.Dk]:function(e,{evaluate:t,getComponent:a,slots:n,attributes:s}){return{...C,node:e,evaluate:t,slots:n,attributes:s,getComponent:a}},[r.rt]:function(e,{name:t,attributes:a,template:n}){return{...N,attributes:a,template:n,node:e,name:t}}};function U(e,t){return e.map((e=>e.type===o.a$?{...e,childNodeIndex:e.childNodeIndex+t}:e))}function k(e,t,a){const{selector:n,type:s,redundantAttribute:o,expressions:i}=t,l=n?e.querySelector(n):e;o&&l.removeAttribute(o);const p=i||[];return(R[s]||R[r.RB])(l,{...t,expressions:a&&!n?U(p,a):p})}const F={createDOM(e){return this.dom=this.dom||function(e,t){return t&&("string"==typeof t?function(e,t){return(0,l.$D)(e)?function(e,t){return t.ownerDocument.importNode((new window.DOMParser).parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${e}</svg>`,"application/xml").documentElement,!0)}(t,e):function(e,t){const a=(0,l.Fl)(t)?t:document.createElement("template");return a.innerHTML=e,a.content}(t,e)}(e,t):t)}(e,this.html)||document.createDocumentFragment(),this},mount(e,t,a,s={}){e||(0,p.WQ)("Please provide DOM node to mount properly your template"),this.el&&this.unmount(t);const{fragment:r,children:o,avoidDOMInjection:i}=s,{parentNode:d}=o?o[0]:e,c=(0,l.Fl)(e),u=c?function(e,t,a){const n=Array.from(e.childNodes);return Math.max(n.indexOf(t),n.indexOf(a.head)+1,0)}(d,e,s):null;this.createDOM(e);const m=r||this.dom.cloneNode(!0);return this.el=c?d:e,this.children=c?o||Array.from(m.childNodes):null,!i&&m&&function(e,t){switch(!0){case(0,l.$D)(e):(0,n.BT)(t,e);break;case(0,l.Fl)(e):e.parentNode.replaceChild(t,e);break;default:e.appendChild(t)}}(e,m),this.bindings=this.bindingsData.map((e=>k(this.el,e,u))),this.bindings.forEach((e=>e.mount(t,a))),this.meta=s,this},update(e,t){return this.bindings.forEach((a=>a.update(e,t))),this},unmount(e,t,a=!1){const r=this.el;if(!r)return this;switch(this.bindings.forEach((n=>n.unmount(e,t,a))),!0){case r[s.Db]||null===a:break;case Array.isArray(this.children):(0,n.v7)(this.children);break;case!a:(0,n.uN)(r);break;case!!a:(0,n.zz)(r)}return this.el=null,this},clone(){return{...this,meta:{},el:null}}};function D(e,t=[]){return{...F,html:e,bindingsData:t}}},140:(e,t,a)=>{"use strict";var n=a(918),s=Object.create(null),r="undefined"==typeof document,o=Array.prototype.forEach;function i(){}function l(e,t){if(!t){if(!e.href)return;t=e.href.split("?")[0]}if(d(t)&&!1!==e.isLoaded&&t&&t.indexOf(".css")>-1){e.visited=!0;var a=e.cloneNode();a.isLoaded=!1,a.addEventListener("load",(function(){a.isLoaded||(a.isLoaded=!0,e.parentNode.removeChild(e))})),a.addEventListener("error",(function(){a.isLoaded||(a.isLoaded=!0,e.parentNode.removeChild(e))})),a.href="".concat(t,"?").concat(Date.now()),e.nextSibling?e.parentNode.insertBefore(a,e.nextSibling):e.parentNode.appendChild(a)}}function p(){var e=document.querySelectorAll("link");o.call(e,(function(e){!0!==e.visited&&l(e)}))}function d(e){return!!/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}e.exports=function(e,t){if(r)return console.log("no window.document found, will not HMR CSS"),i;var a,c,u=function(e){var t=s[e];if(!t){if(document.currentScript)t=document.currentScript.src;else{var a=document.getElementsByTagName("script"),r=a[a.length-1];r&&(t=r.src)}s[e]=t}return function(e){if(!t)return null;var a=t.split(/([^\\/]+)\.js$/),s=a&&a[1];return s&&e?e.split(",").map((function(e){var a=new RegExp("".concat(s,"\\.js$"),"g");return n(t.replace(a,"".concat(e.replace(/{fileName}/g,s),".css")))})):[t.replace(".js",".css")]}}(e);return a=function(){var e=u(t.filename),a=function(e){if(!e)return!1;var t=document.querySelectorAll("link"),a=!1;return o.call(t,(function(t){if(t.href){var s=function(e,t){var a;return e=n(e),t.some((function(n){e.indexOf(t)>-1&&(a=n)})),a}(t.href,e);d(s)&&!0!==t.visited&&s&&(l(t,s),a=!0)}})),a}(e);if(t.locals)return console.log("[HMR] Detected local css modules. Reload all css"),void p();a?console.log("[HMR] css reload %s",e.join(" ")):(console.log("[HMR] Reload all css"),p())},c=0,function(){var e=this,t=arguments;clearTimeout(c),c=setTimeout((function(){return a.apply(e,t)}),50)}}},142:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(146);const s={css:null,exports:{toggleQr(e){let t=document.getElementById("location-qr");t.innerHTML="","Show qr code"==e.target.innerHTML?(e.target.innerHTML="Hide qr code",new QRCode(t,{text:document.URL,width:256,height:256,colorDark:"#9b4dca",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H})):e.target.innerHTML="Show qr code"}},template:(e,t,a,n)=>e('<p><button expr95="expr95" class="no-print">Show qr code</button></p><p><div id="location-qr"></div></p>',[{redundantAttribute:"expr95",selector:"[expr95]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.toggleQr}]}]),name:"qr-code"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(142).A;(0,n.A)(e)}})()},146:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(80),s=a(604),r=a(359),o=a(116);const i={cssManager:a(781).Ay,DOMBindings:{template:o.vs,createBinding:o.KF,createExpression:o.Lg,bindingTypes:n.Ay,expressionTypes:r.Ay},globals:{PROPS_KEY:s.zF,STATE_KEY:s.Mq,IS_COMPONENT_UPDATING:s.wR,ATTRIBUTES_KEY_SYMBOL:s.hs,COMPONENTS_IMPLEMENTATION_MAP:s.j$,PLUGINS_SET:s.as,DOM_COMPONENT_INSTANCE_PROPERTY:s.pw,PARENT_KEY_SYMBOL:s.e5}};var l=a(696);const{cssManager:p}=i,{DOM_COMPONENT_INSTANCE_PROPERTY:d}=i.globals;function c(e){const{name:t}=e;return t?(a=`${t}, [is=${t}]`,s="string"==typeof a?(n||document).querySelectorAll(a):a,Array.isArray(s)?s:/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(s))&&"number"==typeof s.length?Array.from(s):[s]).map((a=>{const n=a[d];if(!n)return;n.unmount(!0),p.remove(t);const s=(0,l.s)(e)(a,n.props);return s.update(n.state),s})):(console.warn("Anonymous components can not be reloaded"),[]);var a,n,s}},163:(e,t,a)=>{"use strict";var n,s;n=void 0,s=a(140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,s()}))},165:(e,t,a)=>{"use strict";a.d(t,{A:()=>l}),a(776);var n=a(521),s=a(837),r=a(437),o=a(600),i=a(146);const l={css:'box .add-form,[is="box"] .add-form{ display: block; background-color: white; padding: 10px; border-radius: 3px; }',exports:{components:{ElementHeader:n.A,ElementDetail:s.A,ElementForm:r.A,ElementList:o.A},state:{nextBox:!1,previousBox:!1,box:!1,parentBox:!1,location:!1,parentLocation:!1,person:!1,items:!1,boxes:!1,edit:!1,id:!1,emptyItem:!1},closeEdit(){this.registry.application.render("#box/"+this.state.id);const e=setTimeout(function(){clearTimeout(e),this.registry.eventBus.trigger("imageUploaded")}.bind(this),1e3)},setupListenter(){let e=this;this.registry.eventBus.on("dataBoxLoadSuccess",(function(t){e.loadBoxLocationAndPersonData()})),this.registry.eventBus.on("dataLocationLoadSuccess",(function(t){e.loadBoxLocationAndPersonData()})),this.registry.eventBus.on("dataItemLoadSuccess",(function(t){e.loadItemData()}))},clickHandler(e){this.registry.application.render(""),this.registry.application.clickHandler(e)},loadBoxLocationAndPersonData(){let e=this.registry.dataStore.boxes.getBoxById(this.state.id);if(!e)return!1;let t=e&&e.locationId?e.locationId:0,a=e&&e.parentLocationId?e.parentLocationId:0,n=e&&e.id?e.id:0,s=e&&e.boxId?e.boxId:0,r=e&&e.personId?e.personId:0,o=this.registry.dataStore.boxes.getNext(e),i=this.registry.dataStore.boxes.getPrevious(e);console.log(e),this.update({box:e,nextBox:o||!1,previousBox:i||!1,location:this.registry.dataStore.locations.getLocationById(t),parentLocation:this.registry.dataStore.locations.getLocationById(a),person:this.registry.dataStore.persons.getPersonById(r),boxes:this.registry.dataStore.boxes.getBoxesByBoxId(n),parentBox:this.registry.dataStore.boxes.getBoxById(s)})},loadItemData(){this.update({items:this.registry.dataStore.items.getItemsByBoxId(this.state.id)})},loadBoxData(){this.update({boxes:this.registry.dataStore.boxes.getBoxesByBoxId(this.state.id)})},onMounted(){this.update({id:this.props.params[0],edit:"edit"==this.props.params[1],add:"add"==this.props.params[1]}),this.update({emptyItem:{name:"",description:"",amount:1,image:this.registry.dataStore.defaults.getImages().item,boxId:this.state.id}}),this.setupListenter(),this.loadBoxLocationAndPersonData(),this.loadItemData(),this.loadBoxData()}},template:(e,t,a,n)=>e('<element-header expr63="expr63" type="box"></element-header><element-detail expr64="expr64" type="box"></element-detail><element-form expr65="expr65" type="box"></element-form><div expr66="expr66" class="add-form"></div><element-list expr68="expr68" type="box"></element-list><element-list expr69="expr69" type="item"></element-list>',[{type:a.IF,evaluate:e=>!e.state.edit&&e.state.box,redundantAttribute:"expr63",selector:"[expr63]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-header",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.box},{type:t.ATTRIBUTE,isBoolean:!1,name:"next",evaluate:e=>e.state.nextBox?"#box/"+e.state.nextBox.id:""},{type:t.ATTRIBUTE,isBoolean:!1,name:"previous",evaluate:e=>e.state.previousBox?"#box/"+e.state.previousBox.id:""}]}])},{type:a.IF,evaluate:e=>!e.state.edit&&e.state.box,redundantAttribute:"expr64",selector:"[expr64]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-detail",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.box},{type:t.ATTRIBUTE,isBoolean:!1,name:"location",evaluate:e=>e.state.parentLocation},{type:t.ATTRIBUTE,isBoolean:!1,name:"person",evaluate:e=>e.state.person},{type:t.ATTRIBUTE,isBoolean:!1,name:"box",evaluate:e=>e.state.parentBox}]}])},{type:a.IF,evaluate:e=>e.state.edit&&e.state.box,redundantAttribute:"expr65",selector:"[expr65]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.box},{type:t.EVENT,name:"onCancel",evaluate:e=>e.closeEdit}]}])},{type:a.IF,evaluate:e=>e.state.add&&e.state.emptyItem,redundantAttribute:"expr66",selector:"[expr66]",template:e('<h2>Add an item to the box</h2><element-form expr67="expr67" type="item"></element-form>',[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.emptyItem},{type:t.EVENT,name:"onCancel",evaluate:e=>e.closeEdit}],redundantAttribute:"expr67",selector:"[expr67]"}])},{type:a.IF,evaluate:e=>e.state.boxes&&e.state.boxes[0],redundantAttribute:"expr68",selector:"[expr68]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.boxes}]}])},{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.items}],redundantAttribute:"expr69",selector:"[expr69]"}]),name:"box"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(165).A;(0,i.A)(e)}})()},236:(e,t,a)=>{"use strict";a.d(t,{A:()=>s}),a(459);var n=a(146);const s={css:null,exports:{state:{classes:{locations:"",boxes:"",items:"",persons:"",search:"",config:""}},setupListener(){this.registry.eventBus.on("applicationRender",this.onApplicationRender)},onApplicationRender(){let e=this.registry.application.getCurrentController(),t={locations:"locations"==e||"location"==e?"active":"",boxes:"boxes"==e||"box"==e?"active":"",items:"items"==e||"item"==e?"active":"",persons:"persons"==e||"person"==e?"active":"",search:"search"==e?"active":"",config:"config"==e?"active":""};this.update({classes:t})},onMounted(){this.setupListener()}},template:(e,t,a,n)=>e('<div class="header"><a expr14="expr14" href="#locations" class="logo"><img width="20px" src="./storganizer-logo.png"/><div class="app-title">Storganizer</div></a><input class="menu-btn" type="checkbox" id="menu-btn"/><label class="menu-icon" for="menu-btn"><span class="navicon"></span></label><ul class="menu"><li expr15="expr15"><a expr16="expr16" href="#locations">Locations</a></li><li expr17="expr17"><a expr18="expr18" href="#boxes">Boxes</a></li><li expr19="expr19"><a expr20="expr20" href="#items">Items</a></li><li expr21="expr21"><a expr22="expr22" href="#persons"><i class="fa-solid fa-person"></i></a></li><li expr23="expr23"><a expr24="expr24" href="#search"><i class="fa-solid fa-magnifying-glass"></i></a></li><li expr25="expr25"><a expr26="expr26" href="#config"><i class="fa-solid fa-gear"></i></a></li></ul></div>',[{expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"class",evaluate:e=>"no-print"}]},{redundantAttribute:"expr14",selector:"[expr14]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler}]},{redundantAttribute:"expr15",selector:"[expr15]",expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"class",evaluate:e=>e.state.classes.locations}]},{redundantAttribute:"expr16",selector:"[expr16]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler}]},{redundantAttribute:"expr17",selector:"[expr17]",expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"class",evaluate:e=>e.state.classes.boxes}]},{redundantAttribute:"expr18",selector:"[expr18]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler}]},{redundantAttribute:"expr19",selector:"[expr19]",expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"class",evaluate:e=>e.state.classes.items}]},{redundantAttribute:"expr20",selector:"[expr20]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler}]},{redundantAttribute:"expr21",selector:"[expr21]",expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"class",evaluate:e=>e.state.classes.persons}]},{redundantAttribute:"expr22",selector:"[expr22]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler}]},{redundantAttribute:"expr23",selector:"[expr23]",expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"class",evaluate:e=>e.state.classes.search}]},{redundantAttribute:"expr24",selector:"[expr24]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler}]},{redundantAttribute:"expr25",selector:"[expr25]",expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"class",evaluate:e=>e.state.classes.config}]},{redundantAttribute:"expr26",selector:"[expr26]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler}]}]),name:"navigation"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(236).A;(0,n.A)(e)}})()},244:(e,t,a)=>{"use strict";a.d(t,{A:()=>i}),a(27);var n=a(521),s=a(837),r=a(437),o=a(146);const i={css:null,exports:{components:{ElementHeader:n.A,ElementDetail:s.A,ElementForm:r.A},state:{nextItem:!1,previousItem:!1,id:!1,edit:!1,item:!1,box:!1,location:!1,edit:!1},closeEdit(){this.registry.application.render("#item/"+this.state.id);const e=setTimeout(function(){clearTimeout(e),this.registry.eventBus.trigger("imageUploaded")}.bind(this),1e3)},setupListenter(){let e=this;this.registry.eventBus.on("dataItemLoadSuccess",(function(t){e.loadData()})),this.registry.eventBus.on("dataBoxLoadSuccess",(function(t){e.loadData()})),this.registry.eventBus.on("dataLocationLoadSuccess",(function(t){e.loadData()}))},loadData(){let e=this.registry.dataStore.items.getItemById(this.state.id);if(!e)return!1;let t=e&&e.boxId?e.boxId:0,a=this.registry.dataStore.boxes.getBoxById(t),n=a&&a.locationId?a.locationId:0,s=this.registry.dataStore.locations.getLocationById(n),r=this.registry.dataStore.items.getNext(e),o=this.registry.dataStore.items.getPrevious(e);this.update({location:s,box:a,item:e,nextItem:r||!1,previousItem:o||!1})},onMounted(){this.update({id:this.props.params[0],edit:"edit"==this.props.params[1],add:"add"==this.props.params[1]}),this.setupListenter(),this.loadData()}},template:(e,t,a,n)=>e('<element-header expr35="expr35" type="item"></element-header><element-detail expr36="expr36" type="item"></element-detail><element-form expr37="expr37" type="item"></element-form>',[{type:a.IF,evaluate:e=>!e.state.edit&&e.state.item,redundantAttribute:"expr35",selector:"[expr35]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-header",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.item},{type:t.ATTRIBUTE,isBoolean:!1,name:"next",evaluate:e=>e.state.nextItem?"#item/"+e.state.nextItem.id:""},{type:t.ATTRIBUTE,isBoolean:!1,name:"previous",evaluate:e=>e.state.previousItem?"#item/"+e.state.previousItem.id:""}]}])},{type:a.IF,evaluate:e=>!e.state.edit&&e.state.item,redundantAttribute:"expr36",selector:"[expr36]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-detail",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.item},{type:t.ATTRIBUTE,isBoolean:!1,name:"box",evaluate:e=>e.state.box},{type:t.ATTRIBUTE,isBoolean:!1,name:"location",evaluate:e=>e.state.location}]}])},{type:a.IF,evaluate:e=>e.state.edit&&e.state.item,redundantAttribute:"expr37",selector:"[expr37]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.item},{type:t.EVENT,name:"onCancel",evaluate:e=>e.closeEdit}]}])}]),name:"item"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(244).A;(0,o.A)(e)}})()},263:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(146);const s={css:'take-picture #canvas,[is="take-picture"] #canvas{ max-width: 300px; }take-picture .webcam-video,[is="take-picture"] .webcam-video,take-picture .webcam-image,[is="take-picture"] .webcam-image{ max-width: 300px; border: 1px solid #9b4dca; }',exports:{localStorage:window.localStorage,stream:!1,camera:!1,canvas:!1,context:!1,state:{cameraActive:!1,pictureTaken:!1},closeCamera(e){let t=document.getElementsByTagName("body")[0];t.className="";let a=document.getElementById("fullscreen"),n=document.getElementById("camera");if(n){let e=n.srcObject;e&&e.getTracks().forEach((function(e){e.stop()}))}a&&t.removeChild(a),this.update&&this.update({cameraActive:!1})},openCamera(e){let t=document.getElementsByTagName("body")[0];t.className="no-scroll";let a=document.createElement("div");a.id="fullscreen";let n=document.createElement("video");n.className="webcam-video",n.setAttribute("muted","1"),n.setAttribute("autoplay","1"),n.setAttribute("playsinline","playsinline"),n.setAttribute("webkit-playsinline","1"),n.id="camera",a.prepend(n);let s=document.createElement("div");s.className="camera-button-container";let r=document.createElement("button");r.innerHTML='<i class="fa-solid fa-xmark"></i>',r.className="no-print camera-button",r.onclick=this.closeCamera,s.prepend(r);let o=document.createElement("button");o.innerHTML='<i class="fa-solid fa-camera"></i>',o.className="no-print camera-button camera-button-snapshot",o.onclick=this.snapshot,s.prepend(o),a.prepend(s),t.prepend(a),this.update({cameraActive:!0}),this.camera=document.getElementById("camera"),navigator.mediaDevices.getUserMedia({video:{deviceId:this.localStorage.getItem("cameraId")},audio:!1}).then(function(e){this.stream=e,this.camera.srcObject=this.stream}.bind(this)).catch((function(e){console.error("getUserMediaError",e,e.stack)}))},snapshot(){this.update({pictureTaken:!0}),this.canvas=document.getElementById("canvas"),this.camera=document.getElementById("camera"),this.canvas&&(this.canvas.width=this.camera.videoWidth,this.canvas.height=this.camera.videoHeight,this.context=this.canvas.getContext("2d"),this.context.drawImage(this.camera,0,0),this.closeCamera())},getEncodedImage(){let e=document.getElementById("canvas");return e?e.toDataURL().replace(/^data:image\/png;base64,/,""):""}},template:(e,t,a,n)=>e('<p><button expr153="expr153" class="no-print"></button></p><p expr154="expr154"></p><p expr155="expr155"></p>',[{type:a.IF,evaluate:e=>!e.state.cameraActive,redundantAttribute:"expr153",selector:"[expr153]",template:e("Open Camera",[{expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.openCamera}]}])},{type:a.IF,evaluate:e=>e.state.pictureTaken,redundantAttribute:"expr154",selector:"[expr154]",template:e('<canvas class="webcam-image" id="canvas"></canvas>',[])},{type:a.IF,evaluate:e=>!e.state.pictureTaken&&e.props.currentPicture,redundantAttribute:"expr155",selector:"[expr155]",template:e('<img expr156="expr156" class="webcam-image"/>',[{redundantAttribute:"expr156",selector:"[expr156]",expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"src",evaluate:e=>e.props.currentPicture}]}])}]),name:"take-picture"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(263).A;(0,n.A)(e)}})()},359:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l,Qg:()=>o,a$:()=>r,bc:()=>n,g4:()=>i,ll:()=>s});const n=0,s=1,r=2,o=3,i=4,l={ATTRIBUTE:n,EVENT:s,TEXT:r,VALUE:o,REF:i}},364:(e,t,a)=>{"use strict";a.d(t,{A:()=>p}),a(163);var n=a(142),s=a(521),r=a(837),o=a(437),i=a(600),l=a(146);const p={css:'location .add-form,[is="location"] .add-form{ display: block; background-color: white; padding: 10px; border-radius: 3px; }',exports:{components:{QrCode:n.A,ElementHeader:s.A,ElementDetail:r.A,ElementForm:o.A,ElementList:i.A},state:{nextLocation:!1,previousLocation:!1,location:!1,boxes:[],persons:[],showQr:!0,edit:!1,emptyBox:!1},closeEdit(){this.registry.application.render("#location/"+this.state.id);const e=setTimeout(function(){clearTimeout(e),this.registry.eventBus.trigger("imageUploaded")}.bind(this),1e3)},setupListenter(){this.registry.eventBus.on("dataLocationLoadSuccess",function(e){this.loadLocationData()}.bind(this)),this.registry.eventBus.on("dataBoxLoadSuccess",function(e){this.loadBoxData()}.bind(this)),this.registry.eventBus.on("dataPersonLoadSuccess",function(e){this.loadPersonData()}.bind(this))},loadLocationData(){let e=this.registry.dataStore.locations.getLocationById(this.props.params[0]);if(!e)return!1;let t=this.registry.dataStore.locations.getNext(e),a=this.registry.dataStore.locations.getPrevious(e);this.update({nextLocation:t||!1,previousLocation:a||!1,location:e})},loadBoxData(){this.update({boxes:this.registry.dataStore.boxes.getBoxesByLocationId(this.props.params[0])})},loadPersonData(){this.update({persons:this.registry.dataStore.persons.getPersons()})},onMounted(){this.update({id:this.props.params[0],edit:"edit"==this.props.params[1],add:"add"==this.props.params[1]}),this.update({emptyBox:{name:"",description:"",boxId:0,image:this.registry.dataStore.defaults.getImages().box,personId:window.localStorage.getItem("personId"),parentLocationId:this.state.id}}),this.setupListenter(),this.loadLocationData(),this.loadBoxData(),this.loadPersonData()}},template:(e,t,a,n)=>e('<element-header expr40="expr40" type="location"></element-header><element-detail expr41="expr41" type="location"></element-detail><element-form expr42="expr42" type="location"></element-form><div expr43="expr43" class="add-form"></div><element-list expr45="expr45" type="box"></element-list>',[{type:a.IF,evaluate:e=>!e.state.edit&&e.state.location,redundantAttribute:"expr40",selector:"[expr40]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-header",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.location},{type:t.ATTRIBUTE,isBoolean:!1,name:"next",evaluate:e=>e.state.nextLocation?"#location/"+e.state.nextLocation.id:""},{type:t.ATTRIBUTE,isBoolean:!1,name:"previous",evaluate:e=>e.state.previousLocation?"#location/"+e.state.previousLocation.id:""}]}])},{type:a.IF,evaluate:e=>!e.state.edit&&e.state.location,redundantAttribute:"expr41",selector:"[expr41]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-detail",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.location}]}])},{type:a.IF,evaluate:e=>e.state.edit&&e.state.location,redundantAttribute:"expr42",selector:"[expr42]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.location},{type:t.EVENT,name:"onCancel",evaluate:e=>e.closeEdit}]}])},{type:a.IF,evaluate:e=>e.state.add&&e.state.emptyBox,redundantAttribute:"expr43",selector:"[expr43]",template:e('<h2>Add a box to the loction</h2><element-form expr44="expr44" type="box"></element-form>',[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.emptyBox},{type:t.EVENT,name:"onCancel",evaluate:e=>e.closeEdit}],redundantAttribute:"expr44",selector:"[expr44]"}])},{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.boxes}],redundantAttribute:"expr45",selector:"[expr45]"}]),name:"location"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(364).A;(0,l.A)(e)}})()},397:(e,t,a)=>{"use strict";a.d(t,{J:()=>o,h:()=>r});var n=a(550);const s=e=>1===e.length?e[0]:e;function r(e,t,a){const s="object"==typeof t?t:{[t]:a},r=Object.keys(s);return(0,n.A)(e).forEach((e=>{r.forEach((t=>e.setAttribute(t,s[t])))})),e}function o(e,t){return function(e,t){const a="string"==typeof t?[t]:t;return s((0,n.A)(e).map((e=>s(a.map((t=>e.getAttribute(t)))))))}(e,t)}},437:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(263),s=a(146);const r={css:'element-form button,[is="element-form"] button{ margin-left: 5px; }element-form video.camera,[is="element-form"] video.camera{ width: 100% }',exports:{components:{TakePicture:n.A},state:{boxInBox:!0,locations:!1,boxes:!1,persons:!1},boxInBox(e){let t=!1;e.target&&(t=e.target.checked),this.update({boxInBox:t})},onCancel(){n.A.exports.closeCamera(),this.props.onCancel()},setupListenter(){this.registry.eventBus.on("dataLocationLoadSuccess",function(e){this.loadLocationData()}.bind(this)),this.registry.eventBus.on("dataBoxLoadSuccess",function(e){this.loadBoxData()}.bind(this))},loadLocationData(){this.update({locations:this.registry.dataStore.locations.getLocations()})},loadBoxData(){this.update({boxes:this.registry.dataStore.boxes.getBoxes()})},loadPersonData(){this.update({persons:this.registry.dataStore.persons.getPersons()})},loadApiUrl(){this.update({apiHost:this.registry.dataStore.getApiHost()})},onMounted(){if(this.setupListenter(),this.loadApiUrl(),this.loadLocationData(),this.loadBoxData(),this.loadPersonData(),this.props&&"box"==this.props.type){let e=!1;parseInt(this.props.element.boxId)>0&&(e=!0),this.update({boxInBox:e})}},saveEntry(e){n.A.exports.closeCamera();let t,a={id:this.props.element.id||0,image:n.A.exports.getEncodedImage(),name:document.getElementById("element-name").value,description:document.getElementById("element-description").value};switch(this.props.type){case"location":a.classification=parseInt(document.getElementById("element-classification").value),t=this.registry.dataStore.locations;break;case"box":let e=0,n=0;document.getElementById("element-location-id")&&(e=parseInt(document.getElementById("element-location-id").value)),document.getElementById("element-in-box-id")&&(n=parseInt(document.getElementById("element-in-box-id").value));let s=parseInt(document.getElementById("element-person-id").value);e>0&&(a.locationId=e),n>0&&(a.boxId=n),s>0&&(a.personId=s),t=this.registry.dataStore.boxes;break;case"item":a.amount=parseInt(document.getElementById("element-amount").value);let r=parseInt(document.getElementById("element-box-id").value);r>0&&(a.boxId=r),t=this.registry.dataStore.items;break;case"person":t=this.registry.dataStore.persons}a.id>0?(t.updateEntry(a),this.props.onCancel()):(t.addEntry(a),this.props.onCancel())},deleteEntry(e){if(!confirm("Really delete this entry?"))return!1;let t,a;switch(n.A.exports.closeCamera(),this.props.type){case"location":t="#locations",a=this.registry.dataStore.locations;break;case"box":t="#location/"+document.getElementById("element-location-id").value,a=this.registry.dataStore.boxes;break;case"item":t="#box/"+document.getElementById("element-box-id").value,a=this.registry.dataStore.items;break;case"person":t="#persons",a=this.registry.dataStore.persons}a.deleteEntry(this.props.element),this.registry.application.render(t)}},template:(e,t,a,n)=>e('<p expr120="expr120"></p><div expr149="expr149" class="form-buttons"></div>',[{type:a.IF,evaluate:e=>e.props.element,redundantAttribute:"expr120",selector:"[expr120]",template:e('<take-picture expr121="expr121"></take-picture><input expr122="expr122" placeholder="Name" ame="element-name" id="element-name" type="text"/><textarea expr123="expr123" placeholder="Description" name="element-description" id="element-description"> </textarea><input expr124="expr124" placeholder="Amount" name="element-amount" id="element-amount"/><input expr125="expr125" class="margin-right" type="checkbox" id="element-box-in-box" name="element-box-in-box"/><label expr126="expr126" class="no-block" for="element-box-in-box"></label><label expr127="expr127" for="element-location-id"></label><select expr128="expr128" name="element-location-id" id="element-location-id"></select><label expr131="expr131" for="element-in-box-id"></label><select expr132="expr132" name="element-in-box-id" id="element-in-box-id"></select><label expr135="expr135" for="element-person-id"></label><select expr136="expr136" name="element-person-id" id="element-person-id"></select><label expr139="expr139" for="element-box-id"></label><select expr140="expr140" name="element-box-id" id="element-box-id"></select><select expr143="expr143" name="element-classification" id="element-classification"></select>',[{type:a.TAG,getComponent:n,evaluate:e=>"take-picture",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"currentPicture",evaluate:e=>[e.state.apiHost,e.props.element.image].join("")}],redundantAttribute:"expr121",selector:"[expr121]"},{redundantAttribute:"expr122",selector:"[expr122]",expressions:[{type:t.VALUE,evaluate:e=>e.props.element.name}]},{redundantAttribute:"expr123",selector:"[expr123]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.props.element.description}]},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr124",selector:"[expr124]",template:e(null,[{expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"value",evaluate:e=>e.props.element.amount}]}])},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr125",selector:"[expr125]",template:e(null,[{expressions:[{type:t.EVENT,name:"onchange",evaluate:e=>e.boxInBox},{type:t.ATTRIBUTE,isBoolean:!0,name:"checked",evaluate:e=>e.state.boxInBox}]}])},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr126",selector:"[expr126]",template:e("This box is in another box",[])},{type:a.IF,evaluate:e=>"box"==e.props.type&&!e.state.boxInBox,redundantAttribute:"expr127",selector:"[expr127]",template:e("Location",[])},{type:a.IF,evaluate:e=>"box"==e.props.type&&!e.state.boxInBox,redundantAttribute:"expr128",selector:"[expr128]",template:e('<option expr129="expr129" value="0">unlocated</option><option expr130="expr130"></option>',[{redundantAttribute:"expr129",selector:"[expr129]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>!e.props.element.locationId||e.props.element.locationId<=0}]},{type:a.EACH,getKey:null,condition:null,template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.name},{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>e.props.element.parentLocationId==e.element.id},{type:t.ATTRIBUTE,isBoolean:!1,name:"value",evaluate:e=>e.element.id}]}]),redundantAttribute:"expr130",selector:"[expr130]",itemName:"element",indexName:null,evaluate:e=>e.state.locations}])},{type:a.IF,evaluate:e=>"box"==e.props.type&&e.state.boxInBox,redundantAttribute:"expr131",selector:"[expr131]",template:e("Box",[])},{type:a.IF,evaluate:e=>"box"==e.props.type&&e.state.boxInBox,redundantAttribute:"expr132",selector:"[expr132]",template:e('<option expr133="expr133" value="0">unboxed</option><option expr134="expr134"></option>',[{redundantAttribute:"expr133",selector:"[expr133]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>!e.props.element.locationId||e.props.element.locationId<=0}]},{type:a.EACH,getKey:null,condition:e=>e.props.element.id!=e.element.id,template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.name},{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>e.props.element.boxId==e.element.id},{type:t.ATTRIBUTE,isBoolean:!1,name:"value",evaluate:e=>e.element.id}]}]),redundantAttribute:"expr134",selector:"[expr134]",itemName:"element",indexName:null,evaluate:e=>e.state.boxes}])},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr135",selector:"[expr135]",template:e("Belongs to",[])},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr136",selector:"[expr136]",template:e('<option expr137="expr137" value="0">everybody</option><option expr138="expr138"></option>',[{redundantAttribute:"expr137",selector:"[expr137]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>!e.props.element.personId||e.props.element.personId<=0}]},{type:a.EACH,getKey:null,condition:null,template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.name},{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>e.props.element.personId==e.element.id},{type:t.ATTRIBUTE,isBoolean:!1,name:"value",evaluate:e=>e.element.id}]}]),redundantAttribute:"expr138",selector:"[expr138]",itemName:"element",indexName:null,evaluate:e=>e.state.persons}])},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr139",selector:"[expr139]",template:e("Box",[])},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr140",selector:"[expr140]",template:e('<option expr141="expr141" value="0">unboxed</option><option expr142="expr142"></option>',[{redundantAttribute:"expr141",selector:"[expr141]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>!e.props.element.boxId||e.props.element.boxId<=0}]},{type:a.EACH,getKey:null,condition:null,template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.name},{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>e.props.element.boxId==e.element.id},{type:t.ATTRIBUTE,isBoolean:!1,name:"value",evaluate:e=>e.element.id}]}]),redundantAttribute:"expr142",selector:"[expr142]",itemName:"element",indexName:null,evaluate:e=>e.state.boxes}])},{type:a.IF,evaluate:e=>"location"==e.props.type,redundantAttribute:"expr143",selector:"[expr143]",template:e('<option value="0">Location Type</option><option expr144="expr144" value="5">Outside</option><option expr145="expr145" value="4">Basement</option><option expr146="expr146" value="3">Attic</option><option expr147="expr147" value="2">Living Area</option><option expr148="expr148" value="1">My Room</option>',[{redundantAttribute:"expr144",selector:"[expr144]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>5==e.props.element.classification}]},{redundantAttribute:"expr145",selector:"[expr145]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>4==e.props.element.classification}]},{redundantAttribute:"expr146",selector:"[expr146]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>3==e.props.element.classification}]},{redundantAttribute:"expr147",selector:"[expr147]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>2==e.props.element.classification}]},{redundantAttribute:"expr148",selector:"[expr148]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>1==e.props.element.classification}]}])}])},{type:a.IF,evaluate:e=>e.props.element,redundantAttribute:"expr149",selector:"[expr149]",template:e('<button expr150="expr150">Save</button><button expr151="expr151" class="button-outline">Cancel</button><button expr152="expr152" class="button-delete"></button>',[{redundantAttribute:"expr150",selector:"[expr150]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.saveEntry}]},{redundantAttribute:"expr151",selector:"[expr151]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.onCancel}]},{type:a.IF,evaluate:e=>e.props.element.id,redundantAttribute:"expr152",selector:"[expr152]",template:e("Delete",[{expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.deleteEntry}]}])}])}]),name:"element-form"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(437).A;(0,s.A)(e)}})()},451:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(146);const s={css:null,exports:{localStorage:window.localStorage,state:{apiUrl:"http://127.0.0.1:5000",listView:"list",personId:0,persons:!1,cameraId:"",cameras:[]},save(e){let t=document.getElementById("api-url").value;this.registry.dataStore.setApiHost(t),this.localStorage.setItem("apiUrl",t);let a=document.getElementById("cameraId"),n="";a?n=a.value:1==this.state.cameras.length&&(n=this.state.cameras[0].id);let s=document.getElementById("personId"),r=0;s&&(r=s.value);let o=document.getElementById("listView"),i="list";o&&(i=o.value),this.localStorage.setItem("listView",i),this.localStorage.setItem("cameraId",n),this.localStorage.setItem("personId",r)},backup(){window.location=this.state.apiUrl+"/backup"},setListView(e){e.target&&e.target.checked?this.localStorage.setItem("listView","image"):this.localStorage.setItem("listView","list")},setupListenter(){this.registry.eventBus.on("dataPersonLoadSuccess",function(e){this.loadPersonData()}.bind(this))},loadPersonData(){this.update({persons:this.registry.dataStore.persons.getPersons()})},async onMounted(e){this.setupListenter(),this.loadPersonData();let t=await navigator.mediaDevices.enumerateDevices(),a=[];for(const e of t)"videoinput"===e.kind&&a.push({id:e.deviceId,label:e.label});this.update({apiUrl:this.localStorage.getItem("apiUrl"),listView:this.localStorage.getItem("listView"),cameraId:this.localStorage.getItem("cameraId"),personId:this.localStorage.getItem("personId"),cameras:a})}},template:(e,t,a,n)=>e('<label for="api-url">Api URL</label><input expr53="expr53" placeholder="http://127.0.0.1:5000" name="api-url" id="api-url" type="text"/><label expr54="expr54" for="cameraId"></label><select expr55="expr55" name="cameraId" id="cameraId"></select><label for="personId">Who are you?</label><select name="personId" id="personId"><option expr58="expr58"></option></select><label for="listView">List view</label><select name="listView" id="listView"><option expr59="expr59" value="list">list</option><option expr60="expr60" value="image">image</option></select><button expr61="expr61">Save</button><label>Backup</label><button expr62="expr62">Backup (Only data - No images yet)</button>',[{redundantAttribute:"expr53",selector:"[expr53]",expressions:[{type:t.VALUE,evaluate:e=>e.state.apiUrl}]},{type:a.IF,evaluate:e=>e.state.cameras.length>1,redundantAttribute:"expr54",selector:"[expr54]",template:e("Preferred camera",[])},{type:a.IF,evaluate:e=>e.state.cameras.length>1,redundantAttribute:"expr55",selector:"[expr55]",template:e('<option expr56="expr56" value>choose camera</option><option expr57="expr57"></option>',[{redundantAttribute:"expr56",selector:"[expr56]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>!e.state.cameraId||""==e.state.cameraId}]},{type:a.EACH,getKey:null,condition:null,template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.camera.label},{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>e.state.cameraId==e.camera.id},{type:t.ATTRIBUTE,isBoolean:!1,name:"value",evaluate:e=>e.camera.id}]}]),redundantAttribute:"expr57",selector:"[expr57]",itemName:"camera",indexName:null,evaluate:e=>e.state.cameras}])},{type:a.EACH,getKey:null,condition:null,template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.name},{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>e.state.personId==e.element.id},{type:t.ATTRIBUTE,isBoolean:!1,name:"value",evaluate:e=>e.element.id}]}]),redundantAttribute:"expr58",selector:"[expr58]",itemName:"element",indexName:null,evaluate:e=>e.state.persons},{redundantAttribute:"expr59",selector:"[expr59]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>"list"==e.state.listView}]},{redundantAttribute:"expr60",selector:"[expr60]",expressions:[{type:t.ATTRIBUTE,isBoolean:!0,name:"selected",evaluate:e=>"image"==e.state.listView}]},{redundantAttribute:"expr61",selector:"[expr61]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.save}]},{redundantAttribute:"expr62",selector:"[expr62]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.backup},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>[e.state.apiUrl,"/backup"].join("")}]}]),name:"config"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(451).A;(0,n.A)(e)}})()},459:(e,t,a)=>{"use strict";var n,s;n=void 0,s=a(140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,s()}))},521:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(146);const s={css:'element-header div.edit-entry,[is="element-header"] div.edit-entry,element-header div.add-entry,[is="element-header"] div.add-entry{ position: absolute; left: 2px; top: 107px; }element-header div.add-entry,[is="element-header"] div.add-entry{ top: 154px; }element-header div.edit-entry a,[is="element-header"] div.edit-entry a,element-header div.add-entry a,[is="element-header"] div.add-entry a{ background: white; display: flex; align-content: center; text-align: center; width: 40px; height: 45px; border-radius: 3px; padding: 5px; margin: 0px; font-size: 3rem; }element-header div.header-image-container,[is="element-header"] div.header-image-container{ position: absolute; left: 0; max-width: 112.0rem; width: 100%; z-index: -1; height: 350px; overflow: hidden; border-color: 1px solid grey; border-radius: 3px; }element-header img.header-image,[is="element-header"] img.header-image{ width: 100%; margin-top: -30%; border-radius: 3px; }element-header .previous,[is="element-header"] .previous{ position: absolute; width: 40px; padding-left: 2px; top: 2px; left: 2px; font-size: 3.6rem; z-index: 10; background-color: white; border-radius: 3px; margin: 0px; }element-header .next,[is="element-header"] .next{ position: absolute; width: 40px; padding-left: 2px; top: 2px; right: 2px; font-size: 3.6rem; z-index: 10; background-color: white; border-radius: 3px; }',exports:{state:{timestamp:Date.now()},setupListener(){this.registry.eventBus.on("imageUploaded",this.reloadImage)},reloadImage(){this.update({timestamp:Date.now()})},loadApiUrl(){this.update({apiHost:this.registry.dataStore.getApiHost()})},onMounted(){this.loadApiUrl(),this.setupListener()}},template:(e,t,a,n)=>e('<div class="header-image-container"><img expr115="expr115" class="header-image no-print"/></div><div expr116="expr116" class="previous no-print"></div><div expr118="expr118" class="next no-print"></div>',[{type:a.IF,evaluate:e=>e.props.element.image,redundantAttribute:"expr115",selector:"[expr115]",template:e(null,[{expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"src",evaluate:e=>[e.state.apiHost,e.props.element.image,"?time=",e.state.timestamp].join("")}]}])},{type:a.IF,evaluate:e=>e.props.previous,redundantAttribute:"expr116",selector:"[expr116]",template:e('<a expr117="expr117"><i class="fa-solid fa-circle-arrow-left"></i></a>',[{redundantAttribute:"expr117",selector:"[expr117]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>e.props.previous}]}])},{type:a.IF,evaluate:e=>e.props.next,redundantAttribute:"expr118",selector:"[expr118]",template:e('<a expr119="expr119"><i class="fa-solid fa-circle-arrow-right"></i></a>',[{redundantAttribute:"expr119",selector:"[expr119]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>e.props.next}]}])}]),name:"element-header"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(521).A;(0,n.A)(e)}})()},527:(e,t,a)=>{"use strict";a.d(t,{Up:()=>i,n8:()=>s,ny:()=>r,qI:()=>o});var n=a(732);function s(e,t,a,n={}){return Object.defineProperty(e,t,{value:a,enumerable:!1,writable:!1,configurable:!0,...n}),e}function r(e,t,a){return Object.entries(t).forEach((([t,n])=>{s(e,t,n,a)})),e}function o(e,t){return Object.entries(t).forEach((([t,a])=>{e[t]||(e[t]=a)})),e}function i(e,t){return(0,n.Gv)(e)?Object.fromEntries(t.map((t=>[t,e[t]]))):e}},547:(e,t,a)=>{"use strict";var n,s;n=void 0,s=a(140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,s()}))},550:(e,t,a)=>{"use strict";function n(e){return Array.isArray(e)?e:/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&"number"==typeof e.length?Array.from(e):[e]}a.d(t,{A:()=>n})},569:(e,t,a)=>{"use strict";a.d(t,{Bj:()=>o,WQ:()=>r,tA:()=>i});var n=a(359),s=a(867);function r(e,t){throw new Error(e,{cause:t})}function o(e){const t=new Map,a=a=>(t.has(a)||t.set(a,e.call(this,a)))&&t.get(a);return a.cache=t,a}function i(e){return e.reduce(((e,t)=>{const{value:a,type:r}=t;switch(!0){case t.type===n.g4:break;case!t.name&&r===n.bc:return{...e,...a};case r===n.Qg:e.value=t.value;break;default:e[(0,s.I)(t.name)]=t.value}return e}),{})}},577:(e,t,a)=>{"use strict";a.d(t,{A:()=>o}),a(27);var n=a(437),s=a(600),r=a(146);const o={css:null,exports:{components:{ElementForm:n.A,ElementList:s.A},state:{add:!1,items:[],emptyItem:{name:"",description:"",amount:1,boxId:0}},toggleAdd(){window.location.href="/#items"},setupListenter(){let e=this;this.registry.eventBus.on("dataItemLoadSuccess",(function(){e.loadData()}))},loadData(){this.update({items:this.registry.dataStore.items.getItems()})},onMounted(){this.setupListenter(),this.loadData(),this.update({emptyItem:{image:this.registry.dataStore.defaults.getImages().item}}),this.update({add:"add"==this.props.params[0]})}},template:(e,t,a,n)=>e('<element-form expr46="expr46" type="item"></element-form><element-list expr47="expr47" type="item" add="#items/add"></element-list>',[{type:a.IF,evaluate:e=>e.state.add,redundantAttribute:"expr46",selector:"[expr46]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.emptyItem},{type:t.EVENT,name:"onCancel",evaluate:e=>e.toggleAdd}]}])},{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.items}],redundantAttribute:"expr47",selector:"[expr47]"}]),name:"items"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(577).A;(0,r.A)(e)}})()},580:(e,t,a)=>{"use strict";a.d(t,{A:()=>h}),a(547),a(765);var n=a(236),s=a(937),r=a(364),o=a(777),i=a(165),l=a(689),p=a(956),d=a(577),c=a(244),u=a(79),m=a(451),x=a(146);const h={css:null,exports:{application:void 0,currentControllerName:!1,state:{controller:!1,isLoggedIn:!0},components:{Navigation:n.A,Locations:s.A,Location:r.A,Boxes:o.A,Box:i.A,Persons:l.A,Person:p.A,Items:d.A,Item:c.A,Search:u.A,Config:m.A},parseUrl(e="localhost#locations"){let t=[],a="locations",n=e.split("#");n.length>1&&(a=n[1]);let s=a.split("/");return s.length>1&&(a=s[0],t=s.splice(1,s.length)),{name:a,params:t}},hashChange(e){document.getElementsByClassName("menu-btn")[0].checked&&(document.getElementsByClassName("menu-btn")[0].checked=!1),e.newURL&&this.render(e.newURL)},clickHandler(e){document.getElementsByClassName("menu-btn")[0].checked&&(document.getElementsByClassName("menu-btn")[0].checked=!1)},render(e){let t=this.getController(e);t.name==this.getCurrentController()&&this.update({controller:{}}),this.currentControllerName=t.name,this.registry.eventBus.trigger("applicationRender"),this.update({controller:t})},onBeforeMount(){this.registry.application=this,window.addEventListener("hashchange",this.hashChange)},async onMounted(){await navigator.mediaDevices.enumerateDevices(),this.render(document.URL)},getController(e){return this.parseUrl(e)},isController(e){return this.state.controller.name==e},getCurrentController(){return this.currentControllerName}},template:(e,t,a,n)=>e('<div expr0="expr0"></div><div expr12="expr12" class="container"></div>',[{type:a.IF,evaluate:e=>e.state.isLoggedIn,redundantAttribute:"expr0",selector:"[expr0]",template:e('<navigation expr1="expr1"></navigation><div class="clearfix"></div><div class="application-body container"><locations expr2="expr2"></locations><location expr3="expr3"></location><boxes expr4="expr4"></boxes><box expr5="expr5"></box><persons expr6="expr6"></persons><person expr7="expr7"></person><items expr8="expr8"></items><item expr9="expr9"></item><search expr10="expr10"></search><config expr11="expr11"></config></div>',[{type:a.TAG,getComponent:n,evaluate:e=>"navigation",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e}],redundantAttribute:"expr1",selector:"[expr1]"},{type:a.IF,evaluate:e=>e.isController("locations"),redundantAttribute:"expr2",selector:"[expr2]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"locations",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("location"),redundantAttribute:"expr3",selector:"[expr3]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"location",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("boxes"),redundantAttribute:"expr4",selector:"[expr4]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"boxes",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("box"),redundantAttribute:"expr5",selector:"[expr5]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"box",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("persons"),redundantAttribute:"expr6",selector:"[expr6]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"persons",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("person"),redundantAttribute:"expr7",selector:"[expr7]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"person",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("items"),redundantAttribute:"expr8",selector:"[expr8]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"items",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("item"),redundantAttribute:"expr9",selector:"[expr9]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"item",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("search"),redundantAttribute:"expr10",selector:"[expr10]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"search",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])},{type:a.IF,evaluate:e=>e.isController("config"),redundantAttribute:"expr11",selector:"[expr11]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"config",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"application",evaluate:e=>e},{type:t.ATTRIBUTE,isBoolean:!1,name:"params",evaluate:e=>e.state.controller.params}]}])}])},{type:a.IF,evaluate:e=>!e.state.isLoggedIn,redundantAttribute:"expr12",selector:"[expr12]",template:e('<login expr13="expr13"></login>',[{type:a.TAG,getComponent:n,evaluate:e=>"login",slots:[],attributes:[],redundantAttribute:"expr13",selector:"[expr13]"}])}]),name:"application"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(580).A;(0,x.A)(e)}})()},600:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(146);const s={css:'element-list { display: block; background-color: white; padding: 10px; border-radius: 3px; }element-list div.add-entry,[is="element-list"] div.add-entry{ position: absolute; right: 40px; top: 10px !important; }element-list div.add-entry a,[is="element-list"] div.add-entry a{ background: white; display: flex; align-content: center; text-align: center; width: 40px; height: 45px; border-radius: 3px; padding: 5px; margin: 0px; font-size: 3rem; }element-list .image-list,[is="element-list"] .image-list{ width: 140px; height: 140px; margin: 5px; padding: 5px; float: left; border-radius: 3px; background-size: 140px 140px; }element-list .image-list div,[is="element-list"] .image-list div{ padding: 2px; font-size: small; background-color: #FFFFFF; border-radius: 3px; text-overflow: ellipsis; }element-list .image-list div i,[is="element-list"] .image-list div i{ margin-right: 3px; }element-list .last,[is="element-list"] .last{ margin-bottom: 10px; }',exports:{state:{apiUrl:window.localStorage.getItem("apiUrl"),listView:window.localStorage.getItem("listView")}},template:(e,t,a,n)=>e('<div class="clearfix"></div><div expr70="expr70" class="add-entry no-print"></div><h2 expr72="expr72"><i expr73="expr73" class="fa-solid fa-screwdriver-wrench"></i><i expr74="expr74" class="fa-solid fa-boxes-stacked"></i><i expr75="expr75" class="fa-solid fa-person"></i><i expr76="expr76" class="fa-solid fa-location-dot"></i> <span expr77="expr77"></span><span expr78="expr78"></span><span expr79="expr79"></span><span expr80="expr80"></span></h2><div expr81="expr81"></div><table expr88="expr88"></table>',[{expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"class",evaluate:e=>"no-print"}]},{type:a.IF,evaluate:e=>e.props.add,redundantAttribute:"expr70",selector:"[expr70]",template:e('<a expr71="expr71"><i class="fa fa-plus"></i></a>',[{redundantAttribute:"expr71",selector:"[expr71]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>e.props.add}]}])},{redundantAttribute:"expr72",selector:"[expr72]",expressions:[{type:t.TEXT,childNodeIndex:4,evaluate:e=>[e.props.elements.length].join("")}]},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr73",selector:"[expr73]",template:e(null,[])},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr74",selector:"[expr74]",template:e(null,[])},{type:a.IF,evaluate:e=>"person"==e.props.type,redundantAttribute:"expr75",selector:"[expr75]",template:e(null,[])},{type:a.IF,evaluate:e=>"location"==e.props.type,redundantAttribute:"expr76",selector:"[expr76]",template:e(null,[])},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr77",selector:"[expr77]",template:e(" Items",[])},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr78",selector:"[expr78]",template:e(" Boxes",[])},{type:a.IF,evaluate:e=>"person"==e.props.type,redundantAttribute:"expr79",selector:"[expr79]",template:e(" Persons",[])},{type:a.IF,evaluate:e=>"location"==e.props.type,redundantAttribute:"expr80",selector:"[expr80]",template:e(" Locations",[])},{type:a.IF,evaluate:e=>"image"==e.state.listView,redundantAttribute:"expr81",selector:"[expr81]",template:e('<a expr82="expr82" class="image-list"></a><div class="clearfix last"></div>',[{type:a.EACH,getKey:e=>e.element.id,condition:null,template:e('<div expr83="expr83"><i expr84="expr84" class="fa-solid fa-screwdriver-wrench"></i><i expr85="expr85" class="fa-solid fa-boxes-stacked"></i><i expr86="expr86" class="fa-solid fa-location-dot"></i><i expr87="expr87" class="fa-solid fa-person"></i> </div>',[{expressions:[{type:t.ATTRIBUTE,isBoolean:!1,name:"style",evaluate:e=>["background-image: url('",e.state.apiUrl,e.element.image,"')"].join("")},{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>["#",e.props.type,"/",e.element.id].join("")}]},{redundantAttribute:"expr83",selector:"[expr83]",expressions:[{type:t.TEXT,childNodeIndex:4,evaluate:e=>[e.element.name].join("")}]},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr84",selector:"[expr84]",template:e(null,[])},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr85",selector:"[expr85]",template:e(null,[])},{type:a.IF,evaluate:e=>"location"==e.props.type,redundantAttribute:"expr86",selector:"[expr86]",template:e(null,[])},{type:a.IF,evaluate:e=>"person"==e.props.type,redundantAttribute:"expr87",selector:"[expr87]",template:e(null,[])}]),redundantAttribute:"expr82",selector:"[expr82]",itemName:"element",indexName:null,evaluate:e=>e.props.elements}])},{type:a.IF,evaluate:e=>"list"==e.state.listView,redundantAttribute:"expr88",selector:"[expr88]",template:e('<tbody><tr expr89="expr89"></tr></tbody>',[{type:a.EACH,getKey:e=>e.element.id,condition:null,template:e('<td><a expr90="expr90"> </a></td><td expr91="expr91" class="description"> </td><td expr92="expr92" class="length"></td><td expr93="expr93" class="length"></td><td expr94="expr94" class="length"></td>',[{redundantAttribute:"expr90",selector:"[expr90]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.name},{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>["#",e.props.type,"/",e.element.id].join("")}]},{redundantAttribute:"expr91",selector:"[expr91]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.description}]},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr92",selector:"[expr92]",template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.amount}]}])},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr93",selector:"[expr93]",template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.lenItems}]}])},{type:a.IF,evaluate:e=>"location"==e.props.type||"person"==e.props.type,redundantAttribute:"expr94",selector:"[expr94]",template:e(" ",[{expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.element.lenBoxes}]}])}]),redundantAttribute:"expr89",selector:"[expr89]",itemName:"element",indexName:null,evaluate:e=>e.props.elements}])}]),name:"element-list"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(600).A;(0,n.A)(e)}})()},604:(e,t,a)=>{"use strict";a.d(t,{Db:()=>T,Dc:()=>o,Gm:()=>c,Ic:()=>d,Jb:()=>u,KE:()=>l,Mq:()=>b,QK:()=>m,U5:()=>x,YE:()=>i,YS:()=>y,as:()=>r,co:()=>g,e5:()=>I,hs:()=>B,j$:()=>n,pw:()=>s,qC:()=>E,tC:()=>h,ts:()=>f,wR:()=>A,zF:()=>v,zr:()=>p});const n=new Map,s=Symbol("riot-component"),r=new Set,o="is",i="mount",l="update",p="unmount",d="shouldUpdate",c="onBeforeMount",u="onMounted",m="onBeforeUpdate",x="onUpdated",h="onBeforeUnmount",y="onUnmounted",v="props",b="state",g="slots",f="root",T=Symbol("pure"),A=Symbol("is_updating"),I=Symbol("parent"),B=Symbol("attributes"),E=Symbol("template")},689:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(437),s=a(600),r=a(146);const o={css:null,exports:{components:{ElementForm:n.A,ElementList:s.A},state:{add:!1,persons:[],emptyPerson:{name:"",description:""}},toggleAdd(){window.location.href="/#persons"},setupListenter(){let e=this;this.registry.eventBus.on("dataPersonLoadSuccess",(function(){e.loadData()}))},loadData(){this.update({persons:this.registry.dataStore.persons.getPersons()})},onMounted(){this.setupListenter(),this.loadData(),this.update({emptyPerson:{image:this.registry.dataStore.defaults.getImages().person}}),this.update({add:"add"==this.props.params[0]})}},template:(e,t,a,n)=>e('<element-form expr33="expr33" type="person"></element-form><element-list expr34="expr34" type="person" add="#persons/add"></element-list>',[{type:a.IF,evaluate:e=>e.state.add,redundantAttribute:"expr33",selector:"[expr33]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.emptyPerson},{type:t.EVENT,name:"onCancel",evaluate:e=>e.toggleAdd}]}])},{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.persons}],redundantAttribute:"expr34",selector:"[expr34]"}]),name:"persons"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(689).A;(0,r.A)(e)}})()},696:(e,t,a)=>{"use strict";a.d(t,{s:()=>U});var n=a(604),s=a(867),r=a(732);function o(){return this}function i(e){return(0,r.Tn)(e)?e.prototype&&e.prototype.constructor?new e:e():e}var l=a(569),p=a(21);const d={[n.YE](e){this.el=e},[n.KE]:o,[n.zr](e,t,a=!1){a?(0,p.zz)(this.el):a||(0,p.uN)(this.el)},clone(){return{...this}},createDOM:o};var c=a(116),u=a(359),m=a(80),x=a(527);const h=Object.freeze({[n.YE]:o,[n.KE]:o,[n.zr]:o}),y=(e,t)=>e[n.pw]=t;function v(e){return[n.YE,n.KE,n.zr].reduce(((t,a)=>(t[a]=e(a),t)),{})}var b=a(818);const g=Object.freeze({$(e){return(0,b.A)(e,this.root)[0]},$$(e){return(0,b.A)(e,this.root)}}),f=Object.freeze({[n.Ic]:o,[n.Gm]:o,[n.Jb]:o,[n.QK]:o,[n.U5]:o,[n.tC]:o,[n.YS]:o});var T=a(781);function A(e,...t){return(...a)=>(a=[...t,...a]).length<e.length?A(e,...a):e(...a)}var I=a(397);function B(e,t){return{...e,...i(t)}}function E(e,t={}){return{...(0,p.wN)(e),...i(t)}}const L=(0,l.Bj)((e=>{const t=e?.bindingsData?.[0];return t?.selector?[]:t?.expressions?.reduce(((e,{name:t,type:a})=>a===u.Ay.ATTRIBUTE?e.concat([t]):e),[])??[]}));function N(e,{slots:t,attributes:a,props:s}){return o=function(e){return[...n.as].reduce(((e,t)=>t(e)||e),e)}((0,x.ny)((0,r.Gv)(e)?Object.create(e):e,{mount(r,o={},i){return(0,x.n8)(r,n.Db,!1),this[n.e5]=i,this[n.hs]=function(e,t=[]){const a=t.map((t=>(0,c.Lg)(e,t))),n={};return Object.assign(n,{expressions:a,...v((e=>t=>(a.forEach((a=>a[e](t))),n)))})}(r,a).mount(i),(0,x.n8)(this,n.zF,Object.freeze({...E(r,s),...(0,l.tA)(this[n.hs].expressions)})),this[n.Mq]=B(this[n.Mq],o),this[n.qC]=this.template.createDOM(r).clone(),y(r,this),e.name&&function(e,t){(function(e){return(0,I.J)(e,n.Dc)||e.tagName.toLowerCase()})(e)!==t&&(0,I.h)(e,n.Dc,t)}(r,e.name),(0,x.n8)(this,n.ts,r),(0,x.n8)(this,n.co,t),this[n.Gm](this[n.zF],this[n.Mq]),this[n.qC].mount(r,this,i),this[n.Jb](this[n.zF],this[n.Mq]),this},update(e={},t){t&&(this[n.e5]=t,this[n.hs].update(t));const a=L(this[n.qC]),s=Array.from(this[n.ts].attributes).filter((({name:e})=>!a.includes(e))),r=(0,p.wN)({attributes:s}),{[n.Dc]:o,...i}={...r,...(0,l.tA)(this[n.hs].expressions)};if(!1!==this[n.Ic](i,this[n.zF]))return(0,x.n8)(this,n.zF,Object.freeze({...t?(0,x.Up)(this[n.zF],a):this[n.zF],...i})),this[n.Mq]=B(this[n.Mq],e),this[n.QK](this[n.zF],this[n.Mq]),this[n.wR]||(this[n.wR]=!0,this[n.qC].update(this,this[n.e5])),this[n.U5](this[n.zF],this[n.Mq]),this[n.wR]=!1,this},unmount(e){return this[n.tC](this[n.zF],this[n.Mq]),this[n.hs].unmount(),this[n.qC].unmount(this,this[n.e5],null===e?null:!e),this[n.YS](this[n.zF],this[n.Mq]),this}})),Object.keys(e).filter((t=>(0,r.Tn)(e[t]))).forEach((e=>{o[e]=o[e].bind(o)})),o;var o}function w({css:e,template:t,componentAPI:a,name:s}){return e&&s&&T.Ay.add(s,e),A(N)((0,x.ny)((0,x.qI)(a,{...f,[n.zF]:{},[n.Mq]:{}}),{[n.co]:null,[n.ts]:null,...g,name:s,css:e,template:t}))}const S=e=>{const t=function(e={}){return Object.entries(i(e)).reduce(((e,[t,a])=>(e[(0,s.e)(t)]=R(a),e)),{})}(e.exports?e.exports.components:{});return a=>a===e.name?C(e):t[a]||n.j$.get(a)},C=(0,l.Bj)(R);function R(e){const{css:t,template:a,exports:s,name:r}=e,o=a?function(e,t,a){return e(c.vs,u.Ay,m.Ay,a)}(a,0,S(e)):d;return({slots:e,attributes:p,props:d})=>{if(s&&s[n.Db])return function(e,{slots:t,attributes:a,props:s,css:r,template:o}){o&&(0,l.WQ)("Pure components can not have html"),r&&(0,l.WQ)("Pure components do not have css");const i=(0,x.qI)(e({slots:t,attributes:a,props:s}),h);return v((e=>(...t)=>{if(e===n.YE){const[e]=t;(0,x.n8)(e,n.Db,!0),y(e,i)}return i[e](...t),i}))}(s,{slots:e,attributes:p,props:d,css:t,template:a});const c=i(s)||{},u=w({css:t,template:o,componentAPI:c,name:r})({slots:e,attributes:p,props:d});return{mount:(e,t,a)=>u.mount(e,a,t),update:(e,t)=>u.update(t,e),unmount:e=>u.unmount(e)}}}function U(e){return(t,a,{slots:n,attributes:s,parentScope:r}={})=>function(...e){return e.reduce(((e,t)=>(...a)=>e(t(...a))))}((e=>e.mount(t,r)),(e=>e({props:a,slots:n,attributes:s})),R)(e)}},732:(e,t,a)=>{"use strict";function n(e,t){return typeof e===t}function s(e){const t=e.ownerSVGElement;return!!t||null===t}function r(e){return"template"===e.tagName.toLowerCase()}function o(e){return n(e,"function")}function i(e){return n(e,"boolean")}function l(e){return!p(e)&&e.constructor===Object}function p(e){return null==e}a.d(t,{$D:()=>s,Fl:()=>r,Gv:()=>l,Lm:()=>i,Tn:()=>o,gD:()=>p})},765:(e,t,a)=>{"use strict";let n;a.d(t,{A:()=>s});const s=Object.freeze(new class{properties={application:!1,eventBus:!1,dataStore:!1,test:!1};constructor(){if(n)throw new Error("New instance cannot be created!!");n=this}set test(e){this.properties.test=e}get test(){return this.properties.test}set application(e){this.properties.application=e}get application(){return this.properties.application}set dataStore(e){this.properties.dataStore=e}get dataStore(){return this.properties.dataStore}set eventBus(e){this.properties.eventBus=e}get eventBus(){return this.properties.eventBus}})},776:(e,t,a)=>{"use strict";var n,s;n=void 0,s=a(140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,s()}))},777:(e,t,a)=>{"use strict";a.d(t,{A:()=>o}),a(776);var n=a(437),s=a(600),r=a(146);const o={css:null,exports:{components:{ElementForm:n.A,ElementList:s.A},state:{add:!1,boxes:[],persons:[],emptyBox:{name:"",description:"",parentLocationId:0,boxId:0}},toggleAdd(){window.location.href="/#boxes"},setupListenter(){this.registry.eventBus.on("dataBoxLoadSuccess",function(){this.loadBoxesData()}.bind(this)),this.registry.eventBus.on("dataPersonLoadSuccess",function(){this.loadPersonData()}.bind(this))},loadBoxesData(){this.update({boxes:this.registry.dataStore.boxes.getBoxes()})},loadPersonData(){this.update({persons:this.registry.dataStore.persons.getPersons()})},onMounted(){this.setupListenter(),this.loadBoxesData(),this.loadPersonData(),this.update({emptyBox:{image:this.registry.dataStore.defaults.getImages().box,personId:window.localStorage.getItem("personId")}}),this.update({add:"add"==this.props.params[0]})}},template:(e,t,a,n)=>e('<element-form expr38="expr38" type="box"></element-form><element-list expr39="expr39" type="box" add="#boxes/add"></element-list>',[{type:a.IF,evaluate:e=>e.state.add,redundantAttribute:"expr38",selector:"[expr38]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.emptyBox},{type:t.EVENT,name:"onCancel",evaluate:e=>e.toggleAdd}]}])},{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.boxes}],redundantAttribute:"expr39",selector:"[expr39]"}]),name:"boxes"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(777).A;(0,r.A)(e)}})()},781:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i});var n=a(818),s=a(397);const r=new Map;var o;const i={CSS_BY_NAME:r,add(e,t){return r.has(e)||(r.set(e,t),this.inject()),this},inject(){return(o||(o=(0,n.A)("style[riot]")[0]||document.createElement("style"),(0,s.h)(o,"type","text/css"),o.parentNode||document.head.appendChild(o),o)).innerHTML=[...r.values()].join("\n"),this},remove(e){return r.has(e)&&(r.delete(e),this.inject()),this}}},786:(e,t,a)=>{"use strict";var n=a(732),s=a(604),r=a(569),o=a(696),i=a(799),l=a.n(i),p=a(765),d=a(580);let c=window.localStorage.getItem("apiUrl")||"http://127.0.0.1:5000";const u={setApiHost(e){c=e},getApiHost:()=>c,defaults:{images:!1,getImages(){return this.images?this.images:(this.fetchImages(),!1)},fetchImages(){if(this.images)return!0;{let e=this;function t(){let t=JSON.parse(this.responseText);e.images=t,p.A.eventBus.trigger("dataDefaultImagesLoadSuccess",e.images)}const a=new XMLHttpRequest;return a.addEventListener("load",t),a.open("GET",c+"/config/default-images"),a.send(),!1}}},locations:{locations:!1,getNext(e){if(!this.locations)return!1;let t=this.locations.indexOf(e);return t>=0&&t<this.locations.length-1&&this.locations[t+1]},getPrevious(e){if(!this.locations)return!1;let t=this.locations.indexOf(e);return t>=1&&t<this.locations.length&&this.locations[t-1]},search(e){return this.locations?(e=e.toLowerCase(),this.locations.filter((function(t){if(""==e)return!0;let a=!1;return t.name&&t.name.toLowerCase().includes(e)&&(a=!0),t.description&&t.description.toLowerCase().includes(e)&&(a=!0),a}))):(this.fetchLocations(),[])},getLocationById(e){return this.locations?this.locations.filter((function(t){return Number.isFinite(t.id)&&t.id==e}))[0]:(this.fetchLocations(),!1)},getLocations(){return this.locations?this.locations:(this.fetchLocations(),[])},fetchLocations(){if(0==this.locations){let e=this;function t(){let t=JSON.parse(this.responseText);e.locations=t,p.A.eventBus.trigger("dataLocationLoadSuccess",e.locations)}const a=new XMLHttpRequest;return a.addEventListener("load",t),a.open("GET",c+"/locations"),a.send(),!1}return!0},reload(){this.locations=!1,this.fetchLocations()},updateEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("PUT",c+"/location/"+e.id),a.send(JSON.stringify(e))},addEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("POST",c+"/locations"),a.send(JSON.stringify(e))},deleteEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("DELETE",c+"/location/"+e.id),a.send()}},boxes:{boxes:!1,getNext(e){let t=e.locationId?this.getBoxesByLocationId(e.locationId):this.boxes;if(!t)return!1;let a=t.indexOf(e);return a>=0&&a<t.length-1&&t[a+1]},getPrevious(e){let t=e.locationId?this.getBoxesByLocationId(e.locationId):this.boxes;if(!t)return!1;let a=t.indexOf(e);return a>=1&&a<t.length&&t[a-1]},search(e){return this.boxes?(e=e.toLowerCase(),this.boxes.filter((function(t){if(""==e)return!0;let a=!1;return t.name&&t.name.toLowerCase().includes(e)&&(a=!0),t.description&&t.description.toLowerCase().includes(e)&&(a=!0),a}))):(this.fetchBoxes(),[])},getBoxById(e){return this.boxes?this.boxes.filter((function(t){return Number.isFinite(t.id)&&t.id==e}))[0]:(this.fetchBoxes(),!1)},getBoxesByLocationId(e){return this.boxes?this.boxes.filter((function(t){return Number.isFinite(t.parentLocationId)&&t.parentLocationId==e})):(this.fetchBoxes(),[])},getBoxesByBoxId(e){return this.boxes?this.boxes.filter((function(t){return Number.isFinite(t.boxId)&&t.boxId==e})):(this.fetchBoxes(),[])},getBoxesByPersonId(e){return this.boxes?this.boxes.filter((function(t){return Number.isFinite(t.personId)&&t.personId==e})):(this.fetchBoxes(),[])},getBoxes(){return this.boxes?this.boxes:(this.fetchBoxes(),[])},fetchBoxes(){if(0==this.boxes){let e=this;function t(){let t=JSON.parse(this.responseText);e.boxes=t,p.A.eventBus.trigger("dataBoxLoadSuccess",e.boxes)}const a=new XMLHttpRequest;a.addEventListener("load",t),a.open("GET",c+"/boxes"),a.send()}},reload(){this.boxes=!1,this.fetchBoxes()},updateEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("PUT",c+"/box/"+e.id),a.send(JSON.stringify(e))},addEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("POST",c+"/boxes"),a.send(JSON.stringify(e))},deleteEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("DELETE",c+"/box/"+e.id),a.send()}},persons:{persons:!1,getNext(e){if(!this.persons)return!1;let t=this.persons.indexOf(e);return t>=0&&t<this.persons.length-1&&this.persons[t+1]},getPrevious(e){if(!this.persons)return!1;let t=this.persons.indexOf(e);return t>=1&&t<this.persons.length&&this.persons[t-1]},search(e){return this.persons?(e=e.toLowerCase(),this.persons.filter((function(t){if(""==e)return!0;let a=!1;return t.name&&t.name.toLowerCase().includes(e)&&(a=!0),t.description&&t.description.toLowerCase().includes(e)&&(a=!0),a}))):(this.fetchPersons(),[])},getPersonById(e){return this.persons?this.persons.filter((function(t){return Number.isFinite(t.id)&&t.id==e}))[0]:(this.fetchPersons(),!1)},getPersons(){return this.persons?this.persons:(this.fetchPersons(),[])},fetchPersons(){if(0==this.persons){let e=this;function t(){let t=JSON.parse(this.responseText);e.persons=t,p.A.eventBus.trigger("dataPersonLoadSuccess",e.persons)}const a=new XMLHttpRequest;return a.addEventListener("load",t),a.open("GET",c+"/persons"),a.send(),!1}return!0},reload(){this.persons=!1,this.fetchPersons()},updateEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("PUT",c+"/person/"+e.id),a.send(JSON.stringify(e))},addEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("POST",c+"/persons"),a.send(JSON.stringify(e))},deleteEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("DELETE",c+"/person/"+e.id),a.send()}},items:{items:!1,getNext(e){let t=e.boxId?this.getItemsByBoxId(e.boxId):this.items;if(!t)return!1;let a=t.indexOf(e);return a>=0&&a<t.length-1&&t[a+1]},getPrevious(e){let t=e.boxId?this.getItemsByBoxId(e.boxId):this.items;if(!t)return!1;let a=t.indexOf(e);return a>=1&&a<t.length&&t[a-1]},search(e){return this.items?(e=e.toLowerCase(),this.items.filter((function(t){if(""==e)return!0;let a=!1;return t.name&&t.name.toLowerCase().includes(e)&&(a=!0),t.description&&t.description.toLowerCase().includes(e)&&(a=!0),a}))):(this.fetchItems(),[])},getItemById(e){return this.items?this.items.filter((function(t){return Number.isFinite(t.id)&&t.id==e}))[0]:(this.fetchItems(),[])},getItemsByBoxId(e){return this.items?this.items.filter((function(t){return Number.isFinite(t.boxId)&&t.boxId==e})):(this.fetchItems(),[])},getItems(){return this.items?this.items:(this.fetchItems(),[])},fetchItems(){if(0==this.items){let e=this;function t(){let t=JSON.parse(this.responseText);e.items=t,p.A.eventBus.trigger("dataItemLoadSuccess",e.items)}const a=new XMLHttpRequest;a.addEventListener("load",t),a.open("GET",c+"/items"),a.send()}},reload(){this.items=!1,this.fetchItems()},updateEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("PUT",c+"/item/"+e.id),a.send(JSON.stringify(e))},addEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("POST",c+"/items"),a.send(JSON.stringify(e))},deleteEntry(e){let t=this;const a=new XMLHttpRequest;a.addEventListener("load",(function(){JSON.parse(this.responseText),t.reload()})),a.open("DELETE",c+"/item/"+e.id),a.send()}}};var m;p.A.eventBus=l()(),p.A.dataStore=u,p.A.dataStore.defaults.getImages(),m=function(e){return e.registry=p.A,e},(0,n.Tn)(m)||(0,r.WQ)("Plugins must be of type function"),s.as.has(m)&&(0,r.WQ)("This plugin was already installed"),s.as.add(m),s.as,o.s(d.A)(document.getElementById("root"),{})},799:e=>{"undefined"!=typeof window&&window,e.exports=function(e){e=e||{};var t={},a=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(a,n){return"function"==typeof n&&(t[a]=t[a]||[]).push(n),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function(a,n){if("*"!=a||n)if(n)for(var s,r=t[a],o=0;s=r&&r[o];++o)s==n&&r.splice(o--,1);else delete t[a];else t={};return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,a){return e.on(t,(function n(){e.off(t,n),a.apply(e,arguments)}))},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(n){var s,r,o,i=arguments.length-1,l=new Array(i);for(o=0;o<i;o++)l[o]=arguments[o+1];for(s=a.call(t[n]||[],0),o=0;r=s[o];++o)r.apply(e,l);return t["*"]&&"*"!=n&&e.trigger.apply(e,["*",n].concat(l)),e},enumerable:!1,writable:!1,configurable:!1}}),e}},818:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(550);function s(e,t){return(0,n.A)("string"==typeof e?(t||document).querySelectorAll(e):e)}},837:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(142),s=a(146);const r={css:'element-detail p,[is="element-detail"] p{ margin-bottom: 5px; }element-detail div.element,[is="element-detail"] div.element{ min-height: 290px; background-color: rgba(255, 255, 255, 0.7); display: inline-block; margin-top: 2px; margin-bottom: 2px; min-width: 50% }element-detail .text,[is="element-detail"] .text{ display: inline-block; background-color: white; padding: 5px; border-radius: 3px; min-width: 50% }element-detail .text.description,[is="element-detail"] .text.description{ white-space: pre-wrap; }element-detail div.element,[is="element-detail"] div.element{ z-index: 10; padding: 30px; }element-detail button.action,[is="element-detail"] button.action{ margin-right: 5px; margin-bottom: 5px; font-size: 1.6rem; }',exports:{baseLink:!1,components:{QrCode:n.A},exec(e){this.registry.application.render(e)},edit(e){this.exec(this.baseLink+"/edit")},add(e){this.exec(this.baseLink+"/add")},onMounted(){this.baseLink="#"+this.props.type+"/"+this.props.element.id}},template:(e,t,a,n)=>e('<div class="element"><h2><div expr97="expr97" class="text"><i expr98="expr98" class="fa-solid fa-box-open"></i><i expr99="expr99" class="fa-solid fa-location-dot"></i><i expr100="expr100" class="fa-solid fa-screwdriver-wrench"></i><i expr101="expr101" class="fa-solid fa-person"></i> </div></h2><p expr102="expr102" class="no-print"></p><p expr104="expr104"></p><p expr106="expr106"></p><p expr108="expr108"></p><p expr110="expr110"></p><button expr112="expr112" class="action no-print"><i class="fa fa-edit"></i></button><button expr113="expr113" class="action no-print"></button><qr-code expr114="expr114"></qr-code></div>',[{redundantAttribute:"expr97",selector:"[expr97]",expressions:[{type:t.TEXT,childNodeIndex:4,evaluate:e=>[e.props.element.name].join("")}]},{type:a.IF,evaluate:e=>"box"==e.props.type,redundantAttribute:"expr98",selector:"[expr98]",template:e(null,[])},{type:a.IF,evaluate:e=>"location"==e.props.type,redundantAttribute:"expr99",selector:"[expr99]",template:e(null,[])},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr100",selector:"[expr100]",template:e(null,[])},{type:a.IF,evaluate:e=>"person"==e.props.type,redundantAttribute:"expr101",selector:"[expr101]",template:e(null,[])},{type:a.IF,evaluate:e=>e.props.element.description,redundantAttribute:"expr102",selector:"[expr102]",template:e('<div expr103="expr103" class="text description"> </div>',[{redundantAttribute:"expr103",selector:"[expr103]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>[e.props.element.description].join("")}]}])},{type:a.IF,evaluate:e=>"item"==e.props.type,redundantAttribute:"expr104",selector:"[expr104]",template:e('<div class="text">\n          Amount: \n          <b expr105="expr105"> </b></div>',[{redundantAttribute:"expr105",selector:"[expr105]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.props.element.amount}]}])},{type:a.IF,evaluate:e=>e.props.box,redundantAttribute:"expr106",selector:"[expr106]",template:e('<div class="text">\n          Box:\n          <b><a expr107="expr107"> </a></b></div>',[{redundantAttribute:"expr107",selector:"[expr107]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.props.box.name},{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>["#box/",e.props.box.id].join("")}]}])},{type:a.IF,evaluate:e=>e.props.location,redundantAttribute:"expr108",selector:"[expr108]",template:e('<div class="text">\n          Location: \n          <b><a expr109="expr109"> </a></b></div>',[{redundantAttribute:"expr109",selector:"[expr109]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.props.location.name},{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>["#location/",e.props.location.id].join("")}]}])},{type:a.IF,evaluate:e=>e.props.person,redundantAttribute:"expr110",selector:"[expr110]",template:e('<div class="text">\n          Belongs to:\n          <b><a expr111="expr111"> </a></b></div>',[{redundantAttribute:"expr111",selector:"[expr111]",expressions:[{type:t.TEXT,childNodeIndex:0,evaluate:e=>e.props.person.name},{type:t.EVENT,name:"onclick",evaluate:e=>e.registry.application.clickHandler},{type:t.ATTRIBUTE,isBoolean:!1,name:"href",evaluate:e=>["#person/",e.props.person.id].join("")}]}])},{redundantAttribute:"expr112",selector:"[expr112]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.edit}]},{type:a.IF,evaluate:e=>"item"!=e.props.type&&"person"!=e.props.type,redundantAttribute:"expr113",selector:"[expr113]",template:e('<i class="fa fa-plus"></i>',[{expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.add}]}])},{type:a.IF,evaluate:e=>"person"!=e.props.type,redundantAttribute:"expr114",selector:"[expr114]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"qr-code",slots:[],attributes:[]}])}]),name:"element-detail"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(837).A;(0,s.A)(e)}})()},852:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(146);const s={css:null,exports:{scan(e){alert("rebuild")}},template:(e,t,a,n)=>e('<button expr96="expr96" class="no-print">Scan qr code</button><div id="reader" width="600px"></div>',[{redundantAttribute:"expr96",selector:"[expr96]",expressions:[{type:t.EVENT,name:"onclick",evaluate:e=>e.scan}]}]),name:"scan-qr-code"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(852).A;(0,n.A)(e)}})()},867:(e,t,a)=>{"use strict";function n(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(e){return e.replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}a.d(t,{I:()=>s,e:()=>n})},918:e=>{"use strict";e.exports=function(e){if(e=e.trim(),/^data:/i.test(e))return e;var t=-1!==e.indexOf("//")?e.split("//")[0]+"//":"",a=e.replace(new RegExp(t,"i"),"").split("/"),n=a[0].toLowerCase().replace(/\.$/,"");return a[0]="",t+n+a.reduce((function(e,t){switch(t){case"..":e.pop();break;case".":break;default:e.push(t)}return e}),[]).join("/")}},935:(e,t,a)=>{"use strict";var n,s;n=void 0,s=a(140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,s()}))},937:(e,t,a)=>{"use strict";a.d(t,{A:()=>o}),a(163);var n=a(437),s=a(600),r=a(146);const o={css:null,exports:{components:{ElementForm:n.A,ElementList:s.A},state:{add:"nice",locations:[],emptyLocation:{name:"",description:"",classification:0}},toggleAdd(){window.location.href="/#locations"},setupListenter(){let e=this;this.registry.eventBus.on("dataLocationLoadSuccess",(function(){e.loadData()}))},loadData(){this.update({locations:this.registry.dataStore.locations.getLocations()})},onMounted(){this.setupListenter(),this.loadData(),this.update({emptyLocation:{image:this.registry.dataStore.defaults.getImages().location}}),this.update({add:"add"==this.props.params[0]})}},template:(e,t,a,n)=>e('<element-form expr27="expr27" type="location"></element-form><element-list expr28="expr28" type="location" add="#locations/add"></element-list>',[{type:a.IF,evaluate:e=>e.state.add,redundantAttribute:"expr27",selector:"[expr27]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.emptyLocation},{type:t.EVENT,name:"onCancel",evaluate:e=>e.toggleAdd}]}])},{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.locations}],redundantAttribute:"expr28",selector:"[expr28]"}]),name:"locations"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(937).A;(0,r.A)(e)}})()},956:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(521),s=a(837),r=a(437),o=a(600),i=a(146);const l={css:'person .add-form,[is="person"] .add-form{ display: block; background-color: white; padding: 10px; border-radius: 3px; }',exports:{components:{ElementHeader:n.A,ElementDetail:s.A,ElementForm:r.A,ElementList:o.A},state:{nextPerson:!1,previousPerson:!1,person:!1,boxes:[],edit:!1,id:!1},closeEdit(){this.registry.application.render("#person/"+this.state.id);const e=setTimeout(function(){clearTimeout(e),this.registry.eventBus.trigger("imageUploaded")}.bind(this),1e3)},setupListenter(){let e=this;this.registry.eventBus.on("dataPersonLoadSuccess",(function(t){e.loadPersonData()})),this.registry.eventBus.on("dataBoxLoadSuccess",(function(t){e.loadBoxData()}))},clickHandler(e){this.registry.application.render(""),this.registry.application.clickHandler(e)},loadPersonData(){let e=this.registry.dataStore.persons.getPersonById(this.state.id);if(!e)return!1;let t=this.registry.dataStore.persons.getNext(e),a=this.registry.dataStore.persons.getPrevious(e);this.update({person:e,nextPerson:t||!1,previousPerson:a||!1})},loadBoxData(){this.update({boxes:this.registry.dataStore.boxes.getBoxesByPersonId(this.props.params[0])})},onMounted(){this.update({id:this.props.params[0],edit:"edit"==this.props.params[1],add:"add"==this.props.params[1]}),this.setupListenter(),this.loadPersonData(),this.loadBoxData()}},template:(e,t,a,n)=>e('<element-header expr29="expr29" type="person"></element-header><element-detail expr30="expr30" type="person"></element-detail><element-form expr31="expr31" type="person"></element-form><element-list expr32="expr32" type="box"></element-list>',[{type:a.IF,evaluate:e=>!e.state.edit&&e.state.person,redundantAttribute:"expr29",selector:"[expr29]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-header",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.person},{type:t.ATTRIBUTE,isBoolean:!1,name:"next",evaluate:e=>e.state.nextPerson?"#person/"+e.state.nextPerson.id:""},{type:t.ATTRIBUTE,isBoolean:!1,name:"previous",evaluate:e=>e.state.previousPerson?"#person/"+e.state.previousPerson.id:""}]}])},{type:a.IF,evaluate:e=>!e.state.edit&&e.state.person,redundantAttribute:"expr30",selector:"[expr30]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-detail",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.person}]}])},{type:a.IF,evaluate:e=>e.state.edit&&e.state.person,redundantAttribute:"expr31",selector:"[expr31]",template:e(null,[{type:a.TAG,getComponent:n,evaluate:e=>"element-form",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"element",evaluate:e=>e.state.person},{type:t.EVENT,name:"onCancel",evaluate:e=>e.closeEdit}]}])},{type:a.TAG,getComponent:n,evaluate:e=>"element-list",slots:[],attributes:[{type:t.ATTRIBUTE,isBoolean:!1,name:"elements",evaluate:e=>e.state.boxes}],redundantAttribute:"expr32",selector:"[expr32]"}]),name:"person"};(()=>{if(e.hot.accept(),e.hot.data){const e=a(956).A;(0,i.A)(e)}})()}},e=>{e(e.s=786)}]);
//# sourceMappingURL=app.bundle.js.map